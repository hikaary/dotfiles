Ты – эксперт по написанию сообщений коммитов на русском языке, строго следующий правилам Conventional Commits.
Создать сообщение для коммита на русском языке на основе предоставленного diff.

ВХОДНЫЕ ДАННЫЕ:
diff:
```
diff --git a/darwin/configuration.nix b/darwin/configuration.nix
index 2566c77..f0007ee 100644
--- a/darwin/configuration.nix
+++ b/darwin/configuration.nix
@@ -24,4 +24,2 @@
       "/Users/${user}/.cargo/bin"
-      "/Users/${user}/Library/pnpm"
-      "/Users/${user}/.bun/bin"
       "/Users/${user}/.lmstudio/bin"
diff --git a/darwin/modules/brew.nix b/darwin/modules/brew.nix
index f8454cf..3693887 100644
--- a/darwin/modules/brew.nix
+++ b/darwin/modules/brew.nix
@@ -4,3 +4,2 @@
     enable = true;
-    caskArgs.no_quarantine = true;
     onActivation.cleanup = "zap";
@@ -10,9 +9,6 @@
     };
-    taps = [ ];
+    taps = [ "grishka/grishka" ];
     casks = [
-      "lm-studio"
-      "raycast"
       "telegram"
       "spotify"
-      "zappy"
       "1password-cli"
@@ -20,11 +16,9 @@
       "hiddenbar"
-      "swish"
-      "displays"
+      "drawio"
       "dimentium/autoraise/autoraiseapp"
+      "raycast"
+      "loop"
+      "grishka/grishka/neardrop"
     ];
     brews = [
-      "libiconv"
-      "switchaudio-osx"
-      "nowplaying-cli"
-      "fonttools"
       {
@@ -33,2 +27,3 @@
       }
+      "chainloop-cli"
     ];
diff --git a/flake.lock b/flake.lock
index 2e972b9..0fe80fc 100644
--- a/flake.lock
+++ b/flake.lock
@@ -2,67 +2,2 @@
   "nodes": {
-    "ags": {
-      "inputs": {
-        "astal": "astal",
-        "nixpkgs": [
-          "hyprpanel",
-          "nixpkgs"
-        ]
-      },
-      "locked": {
-        "lastModified": 1736090999,
-        "narHash": "sha256-B5CJuHqfJrzPa7tObK0H9669/EClSHpa/P7B9EuvElU=",
-        "owner": "aylur",
-        "repo": "ags",
-        "rev": "5527c3c07d92c11e04e7fd99d58429493dba7e3c",
-        "type": "github"
-      },
-      "original": {
-        "owner": "aylur",
-        "repo": "ags",
-        "type": "github"
-      }
-    },
-    "anyrun": {
-      "inputs": {
-        "flake-parts": "flake-parts",
-        "nixpkgs": "nixpkgs",
-        "systems": "systems"
-      },
-      "locked": {
-        "lastModified": 1731186561,
-        "narHash": "sha256-+jwC6oo7yx40SowZW4SCpTlYS+e0mPKmIuXvsBFNw3g=",
-        "owner": "fufexan",
-        "repo": "anyrun",
-        "rev": "3bc08db41dec30cd4278597c1c4bd7cf66b15fe0",
-        "type": "github"
-      },
-      "original": {
-        "owner": "fufexan",
-        "ref": "launch-prefix",
-        "repo": "anyrun",
-        "type": "github"
-      }
-    },
-    "astal": {
-      "inputs": {
-        "nixpkgs": [
-          "hyprpanel",
-          "ags",
-          "nixpkgs"
-        ]
-      },
-      "locked": {
-        "lastModified": 1735172721,
-        "narHash": "sha256-rtEAwGsHSppnkR3Qg3eRJ6Xh/F84IY9CrBBLzYabalY=",
-        "owner": "aylur",
-        "repo": "astal",
-        "rev": "6c84b64efc736e039a8a10774a4a1bf772c37aa2",
-        "type": "github"
-      },
-      "original": {
-        "owner": "aylur",
-        "repo": "astal",
-        "type": "github"
-      }
-    },
     "base16": {
@@ -166,23 +101,2 @@
     "flake-parts": {
-      "inputs": {
-        "nixpkgs-lib": [
-          "anyrun",
-          "nixpkgs"
-        ]
-      },
-      "locked": {
-        "lastModified": 1727826117,
-        "narHash": "sha256-K5ZLCyfO/Zj9mPFldf3iwS6oZStJcU4tSpiXTMYaaL0=",
-        "owner": "hercules-ci",
-        "repo": "flake-parts",
-        "rev": "3d04084d54bedc3d6b8b736c70ef449225c361b1",
-        "type": "github"
-      },
-      "original": {
-        "owner": "hercules-ci",
-        "repo": "flake-parts",
-        "type": "github"
-      }
-    },
-    "flake-parts_2": {
       "inputs": {
@@ -209,35 +123,2 @@
     "flake-utils": {
-      "inputs": {
-        "systems": "systems_2"
-      },
-      "locked": {
-        "lastModified": 1731533236,
-        "narHash": "sha256-l0KFg5HjrsfsO/JpG+r7fRrqm12kzFHyUHqHCVpMMbI=",
-        "owner": "numtide",
-        "repo": "flake-utils",
-        "rev": "11707dc2f618dd54ca8739b309ec4fc024de578b",
-        "type": "github"
-      },
-      "original": {
-        "owner": "numtide",
-        "repo": "flake-utils",
-        "type": "github"
-      }
-    },
-    "flake-utils_2": {
-      "locked": {
-        "lastModified": 1659877975,
-        "narHash": "sha256-zllb8aq3YO3h8B/U0/J1WBgAL8EX5yWf5pMj3G0NAmc=",
-        "owner": "numtide",
-        "repo": "flake-utils",
-        "rev": "c0e246b9b83f637f4681389ecabcb2681b4f3af0",
-        "type": "github"
-      },
-      "original": {
-        "owner": "numtide",
-        "repo": "flake-utils",
-        "type": "github"
-      }
-    },
-    "flake-utils_3": {
       "inputs": {
@@ -350,7 +231,7 @@
       "locked": {
-        "lastModified": 1745810134,
-        "narHash": "sha256-WfnYH/i7DFzn4SESQfWviXiNUZjohZhzODqLwKYHIPI=",
+        "lastModified": 1746585355,
+        "narHash": "sha256-p+3fK8HEYC+0q4gPKSE4OSRxqt5H/tWZkB9wF7aaWOY=",
         "owner": "nix-community",
         "repo": "home-manager",
-        "rev": "be7cf1709b469a2a2c62169172a167d1fed3509f",
+        "rev": "35535345be0be7dbae2e9b787c6cf790f8c893d5",
         "type": "github"
@@ -371,7 +252,7 @@
       "locked": {
-        "lastModified": 1745439012,
-        "narHash": "sha256-TwbdiH28QK7Da2JQTqFHdb+UCJq6QbF2mtf+RxHVzEA=",
+        "lastModified": 1746369725,
+        "narHash": "sha256-m3ai7LLFYsymMK0uVywCceWfUhP0k3CALyFOfcJACqE=",
         "owner": "nix-community",
         "repo": "home-manager",
-        "rev": "d31710fb2cd536b1966fee2af74e99a0816a61a8",
+        "rev": "1a1793f6d940d22c6e49753548c5b6cb7dc5545d",
         "type": "github"
@@ -384,79 +265,2 @@
     },
-    "hyprpanel": {
-      "inputs": {
-        "ags": "ags",
-        "nixpkgs": "nixpkgs_2"
-      },
-      "locked": {
-        "lastModified": 1744513377,
-        "narHash": "sha256-2ocy+qAVxTBmaK8MpAy7mpKIH+DYEzwf+KzXZX83oZ4=",
-        "owner": "Jas-SinghFSU",
-        "repo": "HyprPanel",
-        "rev": "42943b3def85d8787d703778951944c8e791202b",
-        "type": "github"
-      },
-      "original": {
-        "owner": "Jas-SinghFSU",
-        "repo": "HyprPanel",
-        "type": "github"
-      }
-    },
-    "niri": {
-      "inputs": {
-        "niri-stable": "niri-stable",
-        "niri-unstable": "niri-unstable",
-        "nixpkgs": [
-          "nixpkgs"
-        ],
-        "nixpkgs-stable": "nixpkgs-stable",
-        "xwayland-satellite-stable": "xwayland-satellite-stable",
-        "xwayland-satellite-unstable": "xwayland-satellite-unstable"
-      },
-      "locked": {
-        "lastModified": 1745819863,
-        "narHash": "sha256-zpTP6MZJpkpyoQ0J95tj8U0r9V8g4AqKQ037HarOIYI=",
-        "owner": "sodiboo",
-        "repo": "niri-flake",
-        "rev": "0059f4bc8b5a4056014e027818f0996781f5f1c9",
-        "type": "github"
-      },
-      "original": {
-        "owner": "sodiboo",
-        "repo": "niri-flake",
-        "type": "github"
-      }
-    },
-    "niri-stable": {
-      "flake": false,
-      "locked": {
-        "lastModified": 1740117926,
-        "narHash": "sha256-mTTHA0RAaQcdYe+9A3Jx77cmmyLFHmRoZdd8RpWa+m8=",
-        "owner": "YaLTeR",
-        "repo": "niri",
-        "rev": "b94a5db8790339cf9134873d8b490be69e02ac71",
-        "type": "github"
-      },
-      "original": {
-        "owner": "YaLTeR",
-        "ref": "v25.02",
-        "repo": "niri",
-        "type": "github"
-      }
-    },
-    "niri-unstable": {
-      "flake": false,
-      "locked": {
-        "lastModified": 1745816042,
-        "narHash": "sha256-yJr653dzDFS8XNGvMz0/iFtCDyEccJQrDjM4uNFf1aw=",
-        "owner": "YaLTeR",
-        "repo": "niri",
-        "rev": "c9d6478c3cea86803f4822baf0fcae062b05b8eb",
-        "type": "github"
-      },
-      "original": {
-        "owner": "YaLTeR",
-        "repo": "niri",
-        "type": "github"
-      }
-    },
     "nix-darwin": {
@@ -468,7 +272,7 @@
       "locked": {
-        "lastModified": 1745816321,
-        "narHash": "sha256-Gyh/fkCDqVNGM0BWvk+4UAS17w2UI6iwnbQQCmc1TDI=",
+        "lastModified": 1746254942,
+        "narHash": "sha256-Y062AuRx6l+TJNX8wxZcT59SSLsqD9EedAY0mqgTtQE=",
         "owner": "LnL7",
         "repo": "nix-darwin",
-        "rev": "4515dacafb0ccd42e5395aacc49fd58a43027e01",
+        "rev": "760a11c87009155afa0140d55c40e7c336d62d7a",
         "type": "github"
@@ -481,62 +285,9 @@
     },
-    "nixgl": {
-      "inputs": {
-        "flake-utils": "flake-utils_2",
-        "nixpkgs": [
-          "nixpkgs"
-        ]
-      },
-      "locked": {
-        "lastModified": 1713543440,
-        "narHash": "sha256-lnzZQYG0+EXl/6NkGpyIz+FEOc/DSEG57AP1VsdeNrM=",
-        "owner": "nix-community",
-        "repo": "nixGL",
-        "rev": "310f8e49a149e4c9ea52f1adf70cdc768ec53f8a",
-        "type": "github"
-      },
-      "original": {
-        "owner": "nix-community",
-        "repo": "nixGL",
-        "type": "github"
-      }
-    },
     "nixpkgs": {
       "locked": {
-        "lastModified": 1730200266,
-        "narHash": "sha256-l253w0XMT8nWHGXuXqyiIC/bMvh1VRszGXgdpQlfhvU=",
-        "owner": "NixOS",
-        "repo": "nixpkgs",
-        "rev": "807e9154dcb16384b1b765ebe9cd2bba2ac287fd",
-        "type": "github"
-      },
-      "original": {
-        "owner": "NixOS",
-        "ref": "nixos-unstable",
-        "repo": "nixpkgs",
-        "type": "github"
-      }
-    },
-    "nixpkgs-stable": {
-      "locked": {
-        "lastModified": 1745742390,
-        "narHash": "sha256-1rqa/XPSJqJg21BKWjzJZC7yU0l/YTVtjRi0RJmipus=",
-        "owner": "NixOS",
-        "repo": "nixpkgs",
-        "rev": "26245db0cb552047418cfcef9a25da91b222d6c7",
-        "type": "github"
-      },
-      "original": {
-        "owner": "NixOS",
-        "ref": "nixos-24.11",
-        "repo": "nixpkgs",
-        "type": "github"
-      }
-    },
-    "nixpkgs_2": {
-      "locked": {
-        "lastModified": 1736344531,
-        "narHash": "sha256-8YVQ9ZbSfuUk2bUf2KRj60NRraLPKPS0Q4QFTbc+c2c=",
+        "lastModified": 1746461020,
+        "narHash": "sha256-7+pG1I9jvxNlmln4YgnlW4o+w0TZX24k688mibiFDUE=",
         "owner": "nixos",
         "repo": "nixpkgs",
-        "rev": "bffc22eb12172e6db3c5dde9e3e5628f8e3e7912",
+        "rev": "3730d8a308f94996a9ba7c7138ede69c1b9ac4ae",
         "type": "github"
@@ -550,25 +301,9 @@
     },
-    "nixpkgs_3": {
-      "locked": {
-        "lastModified": 1745526057,
-        "narHash": "sha256-ITSpPDwvLBZBnPRS2bUcHY3gZSwis/uTe255QgMtTLA=",
-        "owner": "nixos",
-        "repo": "nixpkgs",
-        "rev": "f771eb401a46846c1aebd20552521b233dd7e18b",
-        "type": "github"
-      },
-      "original": {
-        "owner": "nixos",
-        "ref": "nixos-unstable",
-        "repo": "nixpkgs",
-        "type": "github"
-      }
-    },
-    "nixpkgs_4": {
+    "nixpkgs_2": {
       "locked": {
-        "lastModified": 1745234285,
-        "narHash": "sha256-GfpyMzxwkfgRVN0cTGQSkTC0OHhEkv3Jf6Tcjm//qZ0=",
+        "lastModified": 1745930157,
+        "narHash": "sha256-y3h3NLnzRSiUkYpnfvnS669zWZLoqqI6NprtLQ+5dck=",
         "owner": "NixOS",
         "repo": "nixpkgs",
-        "rev": "c11863f1e964833214b767f4a369c6e6a7aba141",
+        "rev": "46e634be05ce9dc6d4db8e664515ba10b78151ae",
         "type": "github"
@@ -582,21 +317,5 @@
     },
-    "nixpkgs_5": {
-      "locked": {
-        "lastModified": 1727348695,
-        "narHash": "sha256-J+PeFKSDV+pHL7ukkfpVzCOO7mBSrrpJ3svwBFABbhI=",
-        "owner": "nixos",
-        "repo": "nixpkgs",
-        "rev": "1925c603f17fc89f4c8f6bf6f631a802ad85d784",
-        "type": "github"
-      },
-      "original": {
-        "owner": "nixos",
-        "ref": "nixos-unstable",
-        "repo": "nixpkgs",
-        "type": "github"
-      }
-    },
     "nur": {
       "inputs": {
-        "flake-parts": "flake-parts_2",
+        "flake-parts": "flake-parts",
         "nixpkgs": [
@@ -608,7 +327,7 @@
       "locked": {
-        "lastModified": 1745459908,
-        "narHash": "sha256-bWqgohVf/py9EW3bLS/dYbenD2p9N2/Qsw1+CJk1S04=",
+        "lastModified": 1746056780,
+        "narHash": "sha256-/emueQGaoT4vu0QjU9LDOG5roxRSfdY0K2KkxuzazcM=",
         "owner": "nix-community",
         "repo": "NUR",
-        "rev": "dbc4ba3233b2bf951521177bf0ee0a7679959035",
+        "rev": "d476cd0972dd6242d76374fcc277e6735715c167",
         "type": "github"
@@ -623,35 +342,7 @@
       "inputs": {
-        "anyrun": "anyrun",
-        "flake-utils": "flake-utils",
         "home-manager": "home-manager",
-        "hyprpanel": "hyprpanel",
-        "niri": "niri",
         "nix-darwin": "nix-darwin",
-        "nixgl": "nixgl",
-        "nixpkgs": "nixpkgs_3",
-        "sbarlua": "sbarlua",
+        "nixpkgs": "nixpkgs",
         "stylix": "stylix",
-        "yazi-plugins": "yazi-plugins",
-        "zen-browser": "zen-browser"
-      }
-    },
-    "sbarlua": {
-      "inputs": {
-        "nixpkgs": [
-          "nixpkgs"
-        ]
-      },
-      "locked": {
-        "lastModified": 1738194078,
-        "narHash": "sha256-DuopardZJh7tMqDzkdsWnGVRAAnYaBvF0ufTdzCYg3c=",
-        "owner": "lalit64",
-        "repo": "SbarLua",
-        "rev": "2c42a0925223fa9cb8f0901d33b283e91196af1f",
-        "type": "github"
-      },
-      "original": {
-        "owner": "lalit64",
-        "ref": "nix-darwin-package",
-        "repo": "SbarLua",
-        "type": "github"
+        "yazi-plugins": "yazi-plugins"
       }
@@ -666,3 +357,3 @@
         "flake-compat": "flake-compat",
-        "flake-utils": "flake-utils_3",
+        "flake-utils": "flake-utils",
         "git-hooks": "git-hooks",
@@ -670,5 +361,5 @@
         "home-manager": "home-manager_2",
-        "nixpkgs": "nixpkgs_4",
+        "nixpkgs": "nixpkgs_2",
         "nur": "nur",
-        "systems": "systems_3",
+        "systems": "systems",
         "tinted-foot": "tinted-foot",
@@ -680,7 +371,7 @@
       "locked": {
-        "lastModified": 1745618823,
-        "narHash": "sha256-WGKSI0+CY3Ep2YnRASmBRU8oMIvTW4ngFyjA0dVcKgQ=",
+        "lastModified": 1746575057,
+        "narHash": "sha256-kBlPMNZXPzDG4HUmdqYpvjvVYkoDdDrVvO14cKgHaiU=",
         "owner": "danth",
         "repo": "stylix",
-        "rev": "11ceb2fde1901dc227421bbbef2d0800339f5126",
+        "rev": "685deb9bae2e4c463e953ff39bd54fd448feaf05",
         "type": "github"
@@ -694,32 +385,2 @@
     "systems": {
-      "locked": {
-        "lastModified": 1689347949,
-        "narHash": "sha256-12tWmuL2zgBgZkdoB6qXZsgJEH9LR3oUgpaQq2RbI80=",
-        "owner": "nix-systems",
-        "repo": "default-linux",
-        "rev": "31732fcf5e8fea42e59c2488ad31a0e651500f68",
-        "type": "github"
-      },
-      "original": {
-        "owner": "nix-systems",
-        "repo": "default-linux",
-        "type": "github"
-      }
-    },
-    "systems_2": {
-      "locked": {
-        "lastModified": 1681028828,
-        "narHash": "sha256-Vy1rq5AaRuLzOxct8nz4T6wlgyUR7zLU309k9mBC768=",
-        "owner": "nix-systems",
-        "repo": "default",
-        "rev": "da67096a3b9bf56a91d16901293e51ba5b49a27e",
-        "type": "github"
-      },
-      "original": {
-        "owner": "nix-systems",
-        "repo": "default",
-        "type": "github"
-      }
-    },
-    "systems_3": {
       "locked": {
@@ -842,35 +503,2 @@
     },
-    "xwayland-satellite-stable": {
-      "flake": false,
-      "locked": {
-        "lastModified": 1739246919,
-        "narHash": "sha256-/hBM43/Gd0/tW+egrhlWgOIISeJxEs2uAOIYVpfDKeU=",
-        "owner": "Supreeeme",
-        "repo": "xwayland-satellite",
-        "rev": "44590a416d4a3e8220e19e29e0b6efe64a80315d",
-        "type": "github"
-      },
-      "original": {
-        "owner": "Supreeeme",
-        "ref": "v0.5.1",
-        "repo": "xwayland-satellite",
-        "type": "github"
-      }
-    },
-    "xwayland-satellite-unstable": {
-      "flake": false,
-      "locked": {
-        "lastModified": 1745730655,
-        "narHash": "sha256-Tdsw5lD/XM8i1GnQr7ombqnEaCpt/voPs2AbjuYBbjI=",
-        "owner": "Supreeeme",
-        "repo": "xwayland-satellite",
-        "rev": "56a681bfecc5831f41f8eb0ec8c7e96c6b277153",
-        "type": "github"
-      },
-      "original": {
-        "owner": "Supreeeme",
-        "repo": "xwayland-satellite",
-        "type": "github"
-      }
-    },
     "yazi-plugins": {
@@ -890,20 +518,2 @@
       }
-    },
-    "zen-browser": {
-      "inputs": {
-        "nixpkgs": "nixpkgs_5"
-      },
-      "locked": {
-        "lastModified": 1727721329,
-        "narHash": "sha256-QYlWZwUSwrM7BuO+dXclZIwoPvBIuJr6GpFKv9XKFPI=",
-        "owner": "MarceColl",
-        "repo": "zen-browser-flake",
-        "rev": "e6ab73f405e9a2896cce5956c549a9cc359e5fcc",
-        "type": "github"
-      },
-      "original": {
-        "owner": "MarceColl",
-        "repo": "zen-browser-flake",
-        "type": "github"
-      }
     }
diff --git a/flake.nix b/flake.nix
index 897cebc..bd8acda 100644
--- a/flake.nix
+++ b/flake.nix
@@ -4,6 +4,3 @@
     nixpkgs.url = "github:nixos/nixpkgs/nixos-unstable";
-    flake-utils.url = "github:numtide/flake-utils";
     stylix.url = "github:danth/stylix";
-    anyrun.url = "github:fufexan/anyrun/launch-prefix";
-    hyprpanel.url = "github:Jas-SinghFSU/HyprPanel";
     home-manager = {
@@ -16,12 +13,2 @@
     };
-    nixgl = {
-      url = "github:nix-community/nixGL";
-      inputs.nixpkgs.follows = "nixpkgs";
-    };
-    niri = {
-      url = "github:sodiboo/niri-flake";
-      inputs.nixpkgs.follows = "nixpkgs";
-    };
-    zen-browser.url = "github:MarceColl/zen-browser-flake";
-    # https://github.com/JustAdumbPrsn/Nebula-A-Minimal-Theme-for-Zen-Browser
     nix-darwin = {
@@ -30,28 +17,11 @@
     };
-    sbarlua.url = "github:lalit64/SbarLua/nix-darwin-package";
-    sbarlua.inputs.nixpkgs.follows = "nixpkgs";
   };
-  outputs = inputs@{ self, nixpkgs, home-manager, nix-darwin, ... }:
+  outputs = inputs@{ self, home-manager, nix-darwin, ... }:
     let
-      system = builtins.currentSystem;
-      pkgs = import nixpkgs {
-        inherit system;
-        config = { allowUnfree = true; };
-        overlays = [
-          inputs.hyprpanel.overlay
-          inputs.nixgl.overlay
-          inputs.niri.overlays.niri
-        ];
-      };
+      system = "aarch64-darwin";
       user = "tronin.egor";
     in {
-      homeConfigurations."hikary" = home-manager.lib.homeManagerConfiguration {
-        inherit pkgs;
-        extraSpecialArgs = { inherit inputs system user; };
-        modules = [ ./home-manager/home.nix ];
-      };
-
-      darwinConfigurations."hikary-mac" = nix-darwin.lib.darwinSystem {
+      darwinConfigurations."hikary" = nix-darwin.lib.darwinSystem {
         inherit inputs;
-        system = "aarch64-darwin";
+        system = system;
         specialArgs = {
@@ -68,3 +38,3 @@
               extraSpecialArgs = { inherit inputs system user; };
-              users."tronin.egor" = import ./home-manager/home.nix;
+              users."${user}" = import ./home-manager/home.nix;
             };
@@ -75 +45,2 @@
 }
+
diff --git a/home-manager/configs/easyeffects/input/main.json b/home-manager/configs/easyeffects/input/main.json
deleted file mode 100644
index 9f0dce8..0000000
--- a/home-manager/configs/easyeffects/input/main.json
+++ /dev/null
@@ -1,970 +0,0 @@
-{
-    "input": {
-        "autogain#0": {
-            "bypass": false,
-            "input-gain": 0.0,
-            "maximum-history": 15,
-            "output-gain": 0.0,
-            "reference": "Geometric Mean (MSI)",
-            "silence-threshold": -70.0,
-            "target": -23.0
-        },
-        "blocklist": [],
-        "equalizer#0": {
-            "balance": 0.0,
-            "bypass": false,
-            "input-gain": 0.0,
-            "left": {
-                "band0": {
-                    "frequency": 22.4,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band1": {
-                    "frequency": 27.8,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band10": {
-                    "frequency": 194.06,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band11": {
-                    "frequency": 240.81,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band12": {
-                    "frequency": 298.834,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band13": {
-                    "frequency": 370.834,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band14": {
-                    "frequency": 460.182,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band15": {
-                    "frequency": 571.057,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band16": {
-                    "frequency": 708.647,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band17": {
-                    "frequency": 879.387,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band18": {
-                    "frequency": 1091.26,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band19": {
-                    "frequency": 1354.19,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band2": {
-                    "frequency": 34.51,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band20": {
-                    "frequency": 1680.47,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band21": {
-                    "frequency": 2085.35,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band22": {
-                    "frequency": 2587.79,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band23": {
-                    "frequency": 3211.29,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band24": {
-                    "frequency": 3985.01,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band25": {
-                    "frequency": 4945.15,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band26": {
-                    "frequency": 6136.63,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band27": {
-                    "frequency": 7615.17,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band28": {
-                    "frequency": 9449.96,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band29": {
-                    "frequency": 11726.8,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band3": {
-                    "frequency": 42.82,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band30": {
-                    "frequency": 14552.2,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band31": {
-                    "frequency": 18058.4,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band4": {
-                    "frequency": 53.14,
-                    "gain": -4.08,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band5": {
-                    "frequency": 65.95,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band6": {
-                    "frequency": 81.83,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band7": {
-                    "frequency": 101.55,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band8": {
-                    "frequency": 126.0,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band9": {
-                    "frequency": 156.38,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                }
-            },
-            "mode": "IIR",
-            "num-bands": 32,
-            "output-gain": 0.0,
-            "pitch-left": 0.0,
-            "pitch-right": 0.0,
-            "right": {
-                "band0": {
-                    "frequency": 22.4,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band1": {
-                    "frequency": 27.8,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band10": {
-                    "frequency": 194.06,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band11": {
-                    "frequency": 240.81,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band12": {
-                    "frequency": 298.834,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band13": {
-                    "frequency": 370.834,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band14": {
-                    "frequency": 460.182,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band15": {
-                    "frequency": 571.057,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band16": {
-                    "frequency": 708.647,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band17": {
-                    "frequency": 879.387,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band18": {
-                    "frequency": 1091.26,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band19": {
-                    "frequency": 1354.19,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band2": {
-                    "frequency": 34.51,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band20": {
-                    "frequency": 1680.47,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band21": {
-                    "frequency": 2085.35,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band22": {
-                    "frequency": 2587.79,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band23": {
-                    "frequency": 3211.29,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band24": {
-                    "frequency": 3985.01,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band25": {
-                    "frequency": 4945.15,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band26": {
-                    "frequency": 6136.63,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band27": {
-                    "frequency": 7615.17,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band28": {
-                    "frequency": 9449.96,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band29": {
-                    "frequency": 11726.8,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band3": {
-                    "frequency": 42.82,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band30": {
-                    "frequency": 14552.2,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band31": {
-                    "frequency": 18058.4,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band4": {
-                    "frequency": 53.14,
-                    "gain": -4.08,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band5": {
-                    "frequency": 65.95,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band6": {
-                    "frequency": 81.83,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band7": {
-                    "frequency": 101.55,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band8": {
-                    "frequency": 126.0,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band9": {
-                    "frequency": 156.38,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                }
-            },
-            "split-channels": false
-        },
-        "equalizer#1": {
-            "balance": 0.0,
-            "bypass": false,
-            "input-gain": 0.0,
-            "left": {
-                "band0": {
-                    "frequency": 100.0,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 0.96,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Off",
-                    "width": 4.0
-                },
-                "band1": {
-                    "frequency": 180.0,
-                    "gain": 5.51,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 1.5,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band2": {
-                    "frequency": 400.0,
-                    "gain": -7.17,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 1.0,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band3": {
-                    "frequency": 800.0,
-                    "gain": -15.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 1.5,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band4": {
-                    "frequency": 7000.0,
-                    "gain": 7.17,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 2.0,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band5": {
-                    "frequency": 65.95,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Off",
-                    "width": 4.0
-                }
-            },
-            "mode": "IIR",
-            "num-bands": 6,
-            "output-gain": 0.0,
-            "pitch-left": 0.0,
-            "pitch-right": 0.0,
-            "right": {
-                "band0": {
-                    "frequency": 100.0,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 0.96,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Off",
-                    "width": 4.0
-                },
-                "band1": {
-                    "frequency": 180.0,
-                    "gain": 5.51,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 1.5,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band2": {
-                    "frequency": 400.0,
-                    "gain": -7.17,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 1.0,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band3": {
-                    "frequency": 800.0,
-                    "gain": -15.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 1.5,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band4": {
-                    "frequency": 7000.0,
-                    "gain": 7.17,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 2.0,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Bell",
-                    "width": 4.0
-                },
-                "band5": {
-                    "frequency": 65.95,
-                    "gain": 0.0,
-                    "mode": "RLC (BT)",
-                    "mute": false,
-                    "q": 4.36,
-                    "slope": "x1",
-                    "solo": false,
-                    "type": "Off",
-                    "width": 4.0
-                }
-            },
-            "split-channels": false
-        },
-        "gate#0": {
-            "attack": 40.0,
-            "bypass": false,
-            "curve-threshold": -57.0,
-            "curve-zone": -6.0,
-            "dry": -100.0,
-            "hpf-frequency": 100.0,
-            "hpf-mode": "24 dB/oct",
-            "hysteresis": true,
-            "hysteresis-threshold": -14.0,
-            "hysteresis-zone": -16.0,
-            "input-gain": 0.5,
-            "lpf-frequency": 1000.0,
-            "lpf-mode": "24 dB/oct",
-            "makeup": 0.0,
-            "output-gain": 0.0,
-            "reduction": -72.0,
-            "release": 800.0,
-            "sidechain": {
-                "input": "Internal",
-                "lookahead": 8.0,
-                "mode": "RMS",
-                "preamp": 0.0,
-                "reactivity": 10.0,
-                "source": "Middle",
-                "stereo-split-source": "Left/Right"
-            },
-            "stereo-split": false,
-            "wet": 0.0
-        },
-        "limiter#0": {
-            "alr": true,
-            "alr-attack": 5.0,
-            "alr-knee": 0.0,
-            "alr-release": 50.0,
-            "attack": 5.0,
-            "bypass": false,
-            "dithering": "24bit",
-            "external-sidechain": false,
-            "gain-boost": false,
-            "input-gain": 0.0,
-            "lookahead": 5.0,
-            "mode": "Exp Tail",
-            "output-gain": 0.0,
-            "oversampling": "Full x2(2L)",
-            "release": 5.0,
-            "sidechain-preamp": 0.0,
-            "stereo-link": 100.0,
-            "threshold": 0.0
-        },
-        "plugins_order": [
-            "rnnoise#0",
-            "gate#0",
-            "autogain#0",
-            "equalizer#0",
-            "equalizer#1",
-            "stereo_tools#0",
-            "limiter#0"
-        ],
-        "rnnoise#0": {
-            "bypass": false,
-            "enable-vad": true,
-            "input-gain": 0.0,
-            "model-name": "",
-            "output-gain": 0.0,
-            "release": 20.0,
-            "vad-thres": 50.0,
-            "wet": 0.0
-        },
-        "stereo_tools#0": {
-            "balance-in": 0.0,
-            "balance-out": 0.0,
-            "bypass": false,
-            "delay": 0.0,
-            "input-gain": 0.0,
-            "middle-level": 0.0,
-            "middle-panorama": 0.0,
-            "mode": "LR > LL (Mono Left Channel)",
-            "mutel": false,
-            "muter": false,
-            "output-gain": 0.0,
-            "phasel": false,
-            "phaser": false,
-            "sc-level": 1.0,
-            "side-balance": 0.0,
-            "side-level": 0.0,
-            "softclip": false,
-            "stereo-base": 0.0,
-            "stereo-phase": 0.0
-        }
-    }
-}
diff --git a/home-manager/configs/easyeffects/output/loudness.json b/home-manager/configs/easyeffects/output/loudness.json
deleted file mode 100644
index ae62269..0000000
--- a/home-manager/configs/easyeffects/output/loudness.json
+++ /dev/null
@@ -1,560 +0,0 @@
-{
-  "output": {
-    "blocklist": [],
-    "compressor#0": {
-      "attack": 130.0,
-      "boost-amount": 6.0,
-      "boost-threshold": -60.0,
-      "bypass": false,
-      "dry": -100.0,
-      "hpf-frequency": 10.0,
-      "hpf-mode": "off",
-      "input-gain": 0.0,
-      "knee": -24.0,
-      "lpf-frequency": 20000.0,
-      "lpf-mode": "off",
-      "makeup": 0.0,
-      "mode": "Upward",
-      "output-gain": 0.0,
-      "ratio": 5.0,
-      "release": 600.0,
-      "release-threshold": -100.0,
-      "sidechain": {
-        "lookahead": 0.0,
-        "mode": "RMS",
-        "preamp": 0.0,
-        "reactivity": 10.0,
-        "source": "Middle",
-        "stereo-split-source": "Left/Right",
-        "type": "Feed-forward"
-      },
-      "stereo-split": false,
-      "threshold": -10.0,
-      "wet": 0.0
-    },
-    "equalizer#0": {
-      "balance": 0.0,
-      "bypass": false,
-      "input-gain": 0.0,
-      "left": {
-        "band0": {
-          "frequency": 32.0,
-          "gain": 3.5,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band1": {
-          "frequency": 64.0,
-          "gain": 2.0,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band2": {
-          "frequency": 128.0,
-          "gain": 1.0,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band3": {
-          "frequency": 256.0,
-          "gain": 0.0,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band4": {
-          "frequency": 512.0,
-          "gain": -0.5,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band5": {
-          "frequency": 1024.0,
-          "gain": -1.5,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band6": {
-          "frequency": 2048.0,
-          "gain": -0.25,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band7": {
-          "frequency": 4096.0,
-          "gain": 1.25,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band8": {
-          "frequency": 8192.0,
-          "gain": 2.75,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band9": {
-          "frequency": 16384.0,
-          "gain": 3.0,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        }
-      },
-      "mode": "IIR",
-      "num-bands": 10,
-      "output-gain": 0.0,
-      "pitch-left": 0.0,
-      "pitch-right": 0.0,
-      "right": {
-        "band0": {
-          "frequency": 32.0,
-          "gain": 3.5,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band1": {
-          "frequency": 64.0,
-          "gain": 2.0,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band2": {
-          "frequency": 128.0,
-          "gain": 1.0,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band3": {
-          "frequency": 256.0,
-          "gain": 0.0,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band4": {
-          "frequency": 512.0,
-          "gain": -0.5,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band5": {
-          "frequency": 1024.0,
-          "gain": -1.5,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band6": {
-          "frequency": 2048.0,
-          "gain": -0.25,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band7": {
-          "frequency": 4096.0,
-          "gain": 1.25,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band8": {
-          "frequency": 8192.0,
-          "gain": 2.75,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        },
-        "band9": {
-          "frequency": 16384.0,
-          "gain": 3.0,
-          "mode": "RLC (BT)",
-          "mute": false,
-          "q": 1.6,
-          "slope": "x1",
-          "solo": false,
-          "type": "Bell",
-          "width": 4.0
-        }
-      },
-      "split-channels": false
-    },
-    "gate#0": {
-      "attack": 2000.0,
-      "bypass": false,
-      "curve-threshold": -40.0,
-      "curve-zone": -40.0,
-      "dry": -100.0,
-      "hpf-frequency": 10.0,
-      "hpf-mode": "off",
-      "hysteresis": false,
-      "hysteresis-threshold": -12.0,
-      "hysteresis-zone": -6.0,
-      "input-gain": 0.0,
-      "lpf-frequency": 20000.0,
-      "lpf-mode": "off",
-      "makeup": 0.0,
-      "output-gain": 0.0,
-      "reduction": -30.0,
-      "release": 2000.0,
-      "sidechain": {
-        "input": "Internal",
-        "lookahead": 0.0,
-        "mode": "Peak",
-        "preamp": 0.0,
-        "reactivity": 10.0,
-        "source": "Middle",
-        "stereo-split-source": "Left/Right"
-      },
-      "stereo-split": false,
-      "wet": 0.0
-    },
-    "limiter#0": {
-      "alr": false,
-      "alr-attack": 5.0,
-      "alr-knee": 0.0,
-      "alr-release": 50.0,
-      "attack": 5.0,
-      "bypass": false,
-      "dithering": "None",
-      "external-sidechain": false,
-      "gain-boost": false,
-      "input-gain": 0.0,
-      "lookahead": 5.0,
-      "mode": "Herm Thin",
-      "output-gain": 0.0,
-      "oversampling": "Half x4(3L)",
-      "release": 10.0,
-      "sidechain-preamp": 0.0,
-      "stereo-link": 100.0,
-      "threshold": -1.0
-    },
-    "multiband_compressor#0": {
-      "band0": {
-        "attack-threshold": -30.0,
-        "attack-time": 50.0,
-        "boost-amount": 6.0,
-        "boost-threshold": -72.0,
-        "compression-mode": "Downward",
-        "compressor-enable": true,
-        "external-sidechain": false,
-        "knee": -24.0,
-        "makeup": 0.0,
-        "mute": false,
-        "ratio": 1.7,
-        "release-threshold": -100.0,
-        "release-time": 600.0,
-        "sidechain-custom-highcut-filter": false,
-        "sidechain-custom-lowcut-filter": false,
-        "sidechain-highcut-frequency": 250.0,
-        "sidechain-lookahead": 0.0,
-        "sidechain-lowcut-frequency": 10.0,
-        "sidechain-mode": "RMS",
-        "sidechain-preamp": 0.0,
-        "sidechain-reactivity": 10.0,
-        "sidechain-source": "Middle",
-        "solo": false,
-        "stereo-split-source": "Left/Right"
-      },
-      "band1": {
-        "attack-threshold": -30.0,
-        "attack-time": 30.0,
-        "boost-amount": 6.0,
-        "boost-threshold": -72.0,
-        "compression-mode": "Downward",
-        "compressor-enable": true,
-        "enable-band": true,
-        "external-sidechain": false,
-        "knee": -24.0,
-        "makeup": 0.0,
-        "mute": false,
-        "ratio": 1.7,
-        "release-threshold": -100.0,
-        "release-time": 450.0,
-        "sidechain-custom-highcut-filter": false,
-        "sidechain-custom-lowcut-filter": false,
-        "sidechain-highcut-frequency": 1250.0,
-        "sidechain-lookahead": 0.0,
-        "sidechain-lowcut-frequency": 250.0,
-        "sidechain-mode": "RMS",
-        "sidechain-preamp": 0.0,
-        "sidechain-reactivity": 10.0,
-        "sidechain-source": "Middle",
-        "solo": false,
-        "split-frequency": 250.0,
-        "stereo-split-source": "Left/Right"
-      },
-      "band2": {
-        "attack-threshold": -30.0,
-        "attack-time": 10.0,
-        "boost-amount": 6.0,
-        "boost-threshold": -72.0,
-        "compression-mode": "Downward",
-        "compressor-enable": true,
-        "enable-band": true,
-        "external-sidechain": false,
-        "knee": -24.0,
-        "makeup": 0.0,
-        "mute": false,
-        "ratio": 1.7,
-        "release-threshold": -100.0,
-        "release-time": 250.0,
-        "sidechain-custom-highcut-filter": false,
-        "sidechain-custom-lowcut-filter": false,
-        "sidechain-highcut-frequency": 5000.0,
-        "sidechain-lookahead": 0.0,
-        "sidechain-lowcut-frequency": 1250.0,
-        "sidechain-mode": "RMS",
-        "sidechain-preamp": 0.0,
-        "sidechain-reactivity": 10.0,
-        "sidechain-source": "Middle",
-        "solo": false,
-        "split-frequency": 1250.0,
-        "stereo-split-source": "Left/Right"
-      },
-      "band3": {
-        "attack-threshold": -30.0,
-        "attack-time": 5.0,
-        "boost-amount": 6.0,
-        "boost-threshold": -72.0,
-        "compression-mode": "Downward",
-        "compressor-enable": true,
-        "enable-band": true,
-        "external-sidechain": false,
-        "knee": -24.0,
-        "makeup": 0.0,
-        "mute": false,
-        "ratio": 1.7,
-        "release-threshold": -100.0,
-        "release-time": 100.0,
-        "sidechain-custom-highcut-filter": false,
-        "sidechain-custom-lowcut-filter": false,
-        "sidechain-highcut-frequency": 20000.0,
-        "sidechain-lookahead": 0.0,
-        "sidechain-lowcut-frequency": 5000.0,
-        "sidechain-mode": "RMS",
-        "sidechain-preamp": 0.0,
-        "sidechain-reactivity": 10.0,
-        "sidechain-source": "Middle",
-        "solo": false,
-        "split-frequency": 5000.0,
-        "stereo-split-source": "Left/Right"
-      },
-      "band4": {
-        "attack-threshold": -12.0,
-        "attack-time": 20.0,
-        "boost-amount": 6.0,
-        "boost-threshold": -72.0,
-        "compression-mode": "Downward",
-        "compressor-enable": true,
-        "enable-band": false,
-        "external-sidechain": false,
-        "knee": -6.0,
-        "makeup": 0.0,
-        "mute": false,
-        "ratio": 1.0,
-        "release-threshold": -100.0,
-        "release-time": 100.0,
-        "sidechain-custom-highcut-filter": false,
-        "sidechain-custom-lowcut-filter": false,
-        "sidechain-highcut-frequency": 8000.0,
-        "sidechain-lookahead": 0.0,
-        "sidechain-lowcut-frequency": 4000.0,
-        "sidechain-mode": "RMS",
-        "sidechain-preamp": 0.0,
-        "sidechain-reactivity": 10.0,
-        "sidechain-source": "Middle",
-        "solo": false,
-        "split-frequency": 4000.0,
-        "stereo-split-source": "Left/Right"
-      },
-      "band5": {
-        "attack-threshold": -12.0,
-        "attack-time": 20.0,
-        "boost-amount": 6.0,
-        "boost-threshold": -72.0,
-        "compression-mode": "Downward",
-        "compressor-enable": true,
-        "enable-band": false,
-        "external-sidechain": false,
-        "knee": -6.0,
-        "makeup": 0.0,
-        "mute": false,
-        "ratio": 1.0,
-        "release-threshold": -100.0,
-        "release-time": 100.0,
-        "sidechain-custom-highcut-filter": false,
-        "sidechain-custom-lowcut-filter": false,
-        "sidechain-highcut-frequency": 12000.0,
-        "sidechain-lookahead": 0.0,
-        "sidechain-lowcut-frequency": 8000.0,
-        "sidechain-mode": "RMS",
-        "sidechain-preamp": 0.0,
-        "sidechain-reactivity": 10.0,
-        "sidechain-source": "Middle",
-        "solo": false,
-        "split-frequency": 8000.0,
-        "stereo-split-source": "Left/Right"
-      },
-      "band6": {
-        "attack-threshold": -12.0,
-        "attack-time": 20.0,
-        "boost-amount": 6.0,
-        "boost-threshold": -72.0,
-        "compression-mode": "Downward",
-        "compressor-enable": true,
-        "enable-band": false,
-        "external-sidechain": false,
-        "knee": -6.0,
-        "makeup": 0.0,
-        "mute": false,
-        "ratio": 1.0,
-        "release-threshold": -100.0,
-        "release-time": 100.0,
-        "sidechain-custom-highcut-filter": false,
-        "sidechain-custom-lowcut-filter": false,
-        "sidechain-highcut-frequency": 16000.0,
-        "sidechain-lookahead": 0.0,
-        "sidechain-lowcut-frequency": 12000.0,
-        "sidechain-mode": "RMS",
-        "sidechain-preamp": 0.0,
-        "sidechain-reactivity": 10.0,
-        "sidechain-source": "Middle",
-        "solo": false,
-        "split-frequency": 12000.0,
-        "stereo-split-source": "Left/Right"
-      },
-      "band7": {
-        "attack-threshold": -12.0,
-        "attack-time": 20.0,
-        "boost-amount": 6.0,
-        "boost-threshold": -72.0,
-        "compression-mode": "Downward",
-        "compressor-enable": true,
-        "enable-band": false,
-        "external-sidechain": false,
-        "knee": -6.0,
-        "makeup": 0.0,
-        "mute": false,
-        "ratio": 1.0,
-        "release-threshold": -100.0,
-        "release-time": 100.0,
-        "sidechain-custom-highcut-filter": false,
-        "sidechain-custom-lowcut-filter": false,
-        "sidechain-highcut-frequency": 20000.0,
-        "sidechain-lookahead": 0.0,
-        "sidechain-lowcut-frequency": 16000.0,
-        "sidechain-mode": "RMS",
-        "sidechain-preamp": 0.0,
-        "sidechain-reactivity": 10.0,
-        "sidechain-source": "Middle",
-        "solo": false,
-        "split-frequency": 16000.0,
-        "stereo-split-source": "Left/Right"
-      },
-      "bypass": false,
-      "compressor-mode": "Modern",
-      "dry": -100.0,
-      "envelope-boost": "None",
-      "input-gain": 0.0,
-      "output-gain": 0.0,
-      "stereo-split": false,
-      "wet": 0.0
-    },
-    "plugins_order": [
-      "gate#0",
-      "compressor#0",
-      "multiband_compressor#0",
-      "equalizer#0",
-      "limiter#0"
-    ]
-  }
-}
diff --git a/home-manager/configs/easyeffects/output/main.json b/home-manager/configs/easyeffects/output/main.json
deleted file mode 100644
index 1a038eb..0000000
--- a/home-manager/configs/easyeffects/output/main.json
+++ /dev/null
@@ -1,17 +0,0 @@
-{
-  "output": {
-    "bass_enhancer#0": {
-      "amount": 3.6000000000000014,
-      "blend": 0.0,
-      "bypass": false,
-      "floor": 20.0,
-      "floor-active": false,
-      "harmonics": 8.5,
-      "input-gain": 0.0,
-      "output-gain": 0.0,
-      "scope": 100.0
-    },
-    "blocklist": [],
-    "plugins_order": ["bass_enhancer#0"]
-  }
-}
diff --git a/home-manager/configs/nvim/lua/core/mappings.lua b/home-manager/configs/nvim/lua/core/mappings.lua
index a0b4e3d..dc29c00 100755
--- a/home-manager/configs/nvim/lua/core/mappings.lua
+++ b/home-manager/configs/nvim/lua/core/mappings.lua
@@ -14,5 +14,6 @@ map('n', 'v$', 'v$h')
 -- File Explorer
-map('n', '<space>e', ':Triptych<CR>')
+map('n', '<space>e', ':Yazi<CR>')
 
--- map('n', '<leader>tt', ':BufTermEnter<CR>')
+-- DocString gen
+map('n', '<space>dg', ':DocscribeGenerate<CR>')
 
diff --git a/home-manager/configs/nvim/lua/plugins/ai/docscribe.lua b/home-manager/configs/nvim/lua/plugins/ai/docscribe.lua
new file mode 100644
index 0000000..4909199
--- /dev/null
+++ b/home-manager/configs/nvim/lua/plugins/ai/docscribe.lua
@@ -0,0 +1,12 @@
+return {
+  'AdrianMosnegutu/docscribe.nvim',
+  event = 'VeryLazy',
+  config = function()
+    require('docscribe').setup {
+      llm = {
+        provider = 'ollama',
+        model = 'gemma3:12b',
+      },
+    }
+  end,
+}
diff --git a/home-manager/configs/nvim/lua/plugins/tools/dap.lua b/home-manager/configs/nvim/lua/plugins/tools/dap.lua
index 8699726..d046824 100755
--- a/home-manager/configs/nvim/lua/plugins/tools/dap.lua
+++ b/home-manager/configs/nvim/lua/plugins/tools/dap.lua
@@ -2,2 +2,3 @@ return {
   'mfussenegger/nvim-dap',
+  enabled = false,
   event = 'VeryLazy',
diff --git a/home-manager/configs/sketchybar/colors.sh b/home-manager/configs/sketchybar/colors.sh
deleted file mode 100755
index c0d46f6..0000000
--- a/home-manager/configs/sketchybar/colors.sh
+++ /dev/null
@@ -1,42 +0,0 @@
-#!/bin/bash
-
-### Catppuccin
-export RED=0xfffb4934
-export YELLOW=0xfffabd2f
-export ORANGE=0xfffab387
-export GREEN=0xffb8bb26
-export GREEN_BG=0x19b8bb26
-export LAVENDER=0xffebdbb2
-export LAVENDER_BG=0x19ebdbb2
-export FLAMINGO=0xfffabd2f
-export FLAMINGO_BG=0x19fabd2f
-export PINK=0xfffb4934
-export PINK_BG=0x19fb4934
-
-export OVERLAY1=0xff928374
-
-# General bar colors
-export BAR_COLOR=0x00000000
-export LABEL_COLOR=$OVERLAY1
-
-export POPUP_BACKGROUND_COLOR=0xFF272936
-
-# Item colors
-export SPACE_SELECTED=$LAVENDER
-export SPACE_SELECTED_BACKGROUND=$LAVENDER_BG
-export SPACE=$OVERLAY1
-export SPACE_BACKGROUND=0x00000000
-
-export CALENDAR=$LAVENDER
-export CALENDAR_BACKGROUND=$LAVENDER_BG
-
-export BATTERY=$GREEN
-export BATTERY_WARNING=$YELLOW
-export BATTERY_CRITICAL=$RED
-export BATTERY_BACKGROUND=$GREEN_BG
-
-export WIFI=$FLAMINGO
-export WIFI_BACKGROUND=$FLAMINGO_BG
-
-export VOLUME=$PINK
-export VOLUME_BACKGROUND=$PINK_BG
diff --git a/home-manager/configs/sketchybar/items/battery.sh b/home-manager/configs/sketchybar/items/battery.sh
deleted file mode 100755
index 4ebdd02..0000000
--- a/home-manager/configs/sketchybar/items/battery.sh
+++ /dev/null
@@ -1,18 +0,0 @@
-#!/usr/bin/env bash
-
-source "$CONFIG_DIR/colors.sh"
-
-battery=(
-  # label
-  "label.color=$BATTERY"
-  background.color="$BATTERY_BACKGROUND"
-
-
-  # functionality
-  update_freq=120
-  updates=on
-  script="$PLUGIN_DIR/battery.sh"
-)
-sketchybar --add item battery right \
-           --set battery "${battery[@]}" \
-           --subscribe battery power_source_change system_woke
diff --git a/home-manager/configs/sketchybar/items/calendar.sh b/home-manager/configs/sketchybar/items/calendar.sh
deleted file mode 100755
index fc432d3..0000000
--- a/home-manager/configs/sketchybar/items/calendar.sh
+++ /dev/null
@@ -1,20 +0,0 @@
-#!/usr/bin/env bash
-
-source "$CONFIG_DIR/colors.sh"
-
-calendar=(
-  # label
-  label.color="$CALENDAR"
-  label.shadow.drawing=off
-
-  background.color="$CALENDAR_BACKGROUND"
-
-  # functionality
-  update_freq=30
-  script="$PLUGIN_DIR/calendar.sh"
-  click_script="$PLUGIN_DIR/zen.sh"
-)
-
-sketchybar --add item calendar right       \
-           --set calendar "${calendar[@]}" \
-           --subscribe calendar system_woke
diff --git a/home-manager/configs/sketchybar/items/front_app.sh b/home-manager/configs/sketchybar/items/front_app.sh
deleted file mode 100755
index 7be9efe..0000000
--- a/home-manager/configs/sketchybar/items/front_app.sh
+++ /dev/null
@@ -1,13 +0,0 @@
-#!/usr/bin/env bash
-
-front_app=(
-  icon.background.drawing=on
-  icon.drawing=on
-  label.color="$LAVENDER"
-  display=active
-  script="$PLUGIN_DIR/front_app.sh"
-  click_script="open -a 'Mission Control'"
-)
-sketchybar --add item front_app left         \
-           --set front_app "${front_app[@]}" \
-           --subscribe front_app front_app_switched
diff --git a/home-manager/configs/sketchybar/items/spaces.sh b/home-manager/configs/sketchybar/items/spaces.sh
deleted file mode 100755
index a5ff49f..0000000
--- a/home-manager/configs/sketchybar/items/spaces.sh
+++ /dev/null
@@ -1,51 +0,0 @@
-#!/usr/bin/env bash
-
-SPACE_ICONS=("1" "2" "3" "4" "5" "6" "7" "8" "9" "0")
-
-sketchybar --add event aerospace_workspace_change
-
-for m in $(aerospace list-monitors | awk '{print $1}'); do
-  for i in $(aerospace list-workspaces --monitor "$m"); do
-    sid=$i
-
-    name_idx=$(( i - 1 ))
-    name=${SPACE_ICONS[$name_idx]}
-
-    space=(
-      space="$sid"
-
-      display="$m"
-
-      label="$name"
-      label.color="$SPACE"
-
-      padding_left=2
-      padding_right=2
-
-      script="$PLUGIN_DIR/space.sh"
-    )
-
-    sketchybar --add space "space.$sid" left \
-               --set "space.$sid" "${space[@]}" \
-               --subscribe "space.$sid" aerospace_workspace_change
-  done
-
-  for i in $(aerospace list-workspaces --monitor "$m" --empty); do
-    sketchybar --set "space.$i" "display=0"
-  done
-done
-
-space_creator=(
-  icon=􀆊
-  icon.font="$FONT:Heavy:16.0"
-  padding_left=0
-  padding_right=0
-  label.drawing=off
-  display=active
-  script="$PLUGIN_DIR/space_windows.sh"
-  icon.color=$WHITE
-)
-
-sketchybar --add item space_creator left               \
-           --set space_creator "${space_creator[@]}"   \
-           --subscribe space_creator aerospace_workspace_change
diff --git a/home-manager/configs/sketchybar/items/volume.sh b/home-manager/configs/sketchybar/items/volume.sh
deleted file mode 100755
index 4280fa9..0000000
--- a/home-manager/configs/sketchybar/items/volume.sh
+++ /dev/null
@@ -1,17 +0,0 @@
-#!/usr/bin/env bash
-
-source "$CONFIG_DIR/colors.sh"
-
-volume=(
-  # label
-  "label.color=$VOLUME"
-  background.color="$VOLUME_BACKGROUND"
-
-  # functionality
-  update_freq=120
-  script="$PLUGIN_DIR/volume.sh"
-)
-
-sketchybar --add item volume right \
-           --set volume "${volume[@]}" \
-           --subscribe volume volume_change
diff --git a/home-manager/configs/sketchybar/items/wifi.sh b/home-manager/configs/sketchybar/items/wifi.sh
deleted file mode 100755
index 5a3a029..0000000
--- a/home-manager/configs/sketchybar/items/wifi.sh
+++ /dev/null
@@ -1,18 +0,0 @@
-#!/usr/bin/env bash
-
-source "$CONFIG_DIR/colors.sh"
-
-wifi=(
-  # label
-  "label.color=$WIFI"
-
-  background.color="$WIFI_BACKGROUND"
-
-  # functionality
-  update_freq=120
-  script="$PLUGIN_DIR/wifi.sh"
-)
-
-sketchybar --add item wifi right \
-           --set wifi "${wifi[@]}" \
-           --subscribe wifi
diff --git a/home-manager/configs/sketchybar/plugins/battery.sh b/home-manager/configs/sketchybar/plugins/battery.sh
deleted file mode 100755
index c6bb30b..0000000
--- a/home-manager/configs/sketchybar/plugins/battery.sh
+++ /dev/null
@@ -1,30 +0,0 @@
-#!/usr/bin/env bash
-
-source "$CONFIG_DIR/colors.sh"
-
-PERCENTAGE="$(pmset -g batt | grep -Po "\d+%" | cut -d% -f1)"
-CHARGING="$(pmset -g batt | grep 'AC Power')"
-
-if [ "$PERCENTAGE" = "" ]; then
-  exit 0
-fi
-
-case ${PERCENTAGE} in
-  [3-9][0-9] | 100)
-    COLOR=$BATTERY
-    ;;
-  [1-2][0-9])
-    COLOR=$BATTERY_WARNING
-    ;;
-  [0-9])
-    COLOR=$BATTERY_CRITICAL
-    ;;
-esac
-
-OUTPUT="${PERCENTAGE}%"
-
-if [[ "$CHARGING" != "" ]]; then
-  OUTPUT="${PERCENTAGE}^"
-fi
-
-sketchybar --set "$NAME" label="B ⋮ $OUTPUT" "label.color=$COLOR"
diff --git a/home-manager/configs/sketchybar/plugins/calendar.sh b/home-manager/configs/sketchybar/plugins/calendar.sh
deleted file mode 100755
index 6a61980..0000000
--- a/home-manager/configs/sketchybar/plugins/calendar.sh
+++ /dev/null
@@ -1,4 +0,0 @@
-#!/bin/bash
-
-#sketchybar --set $NAME icon="$(date '+%a %d. %b')" label="$(date '+%H:%M')"
-sketchybar --set "$NAME" label="$(date '+%A, %d %b %Y ⋮ %H:%M')"
diff --git a/home-manager/configs/sketchybar/plugins/change_windows.sh b/home-manager/configs/sketchybar/plugins/change_windows.sh
deleted file mode 100755
index 69364b8..0000000
--- a/home-manager/configs/sketchybar/plugins/change_windows.sh
+++ /dev/null
@@ -1,3 +0,0 @@
-#!/bin/bash
-
-echo change_windows.sh NAME: $NAME, SENDER: $SENDER >> ~/aaaa
diff --git a/home-manager/configs/sketchybar/plugins/front_app.sh b/home-manager/configs/sketchybar/plugins/front_app.sh
deleted file mode 100755
index 14e91b6..0000000
--- a/home-manager/configs/sketchybar/plugins/front_app.sh
+++ /dev/null
@@ -1,6 +0,0 @@
-#!/bin/sh
-
-if [ "$SENDER" = "front_app_switched" ]; then
-  # sketchybar --set "$NAME" label="$INFO" icon.background.image="app.$INFO" icon.background.image.scale=0.8
-  sketchybar --set "$NAME" label="$INFO"
-fi
diff --git a/home-manager/configs/sketchybar/plugins/space.sh b/home-manager/configs/sketchybar/plugins/space.sh
deleted file mode 100755
index 4df02be..0000000
--- a/home-manager/configs/sketchybar/plugins/space.sh
+++ /dev/null
@@ -1,12 +0,0 @@
-#!/bin/bash
-
-#echo space.sh $'FOCUSED_WORKSPACE': $FOCUSED_WORKSPACE, $'SELECTED': $SELECTED, NAME: $NAME, SENDER: $SENDER  >> ~/aaaa
-
-# source "$CONFIG_DIR/colors.sh"
-#
-# COLOR=$BACKGROUND_2
-# if [ "$SELECTED" = "true" ]; then
-#   COLOR=$GREY
-# fi
-#
-# sketchybar --set "space.$SID" "background.border_color=$COLOR"
diff --git a/home-manager/configs/sketchybar/plugins/space_windows.sh b/home-manager/configs/sketchybar/plugins/space_windows.sh
deleted file mode 100755
index c00596d..0000000
--- a/home-manager/configs/sketchybar/plugins/space_windows.sh
+++ /dev/null
@@ -1,34 +0,0 @@
-#!/usr/bin/env bash
- 
-# echo AEROSPACE_PREV_WORKSPACE: $AEROSPACE_PREV_WORKSPACE, \
-#  AEROSPACE_FOCUSED_WORKSPACE: $AEROSPACE_FOCUSED_WORKSPACE \
-#  SELECTED: $SELECTED \
-#  BG2: $BG2 \
-#  INFO: $INFO \
-#  SENDER: $SENDER \
-#  NAME: $NAME \
-#   >> ~/aaaa
-
-source "$CONFIG_DIR/colors.sh"
-
-AEROSPACE_FOCUSED_MONITOR=$(aerospace list-monitors --focused | awk '{print $1}')
-AEROSAPCE_WORKSPACE_FOCUSED_MONITOR=$(aerospace list-workspaces --monitor focused --empty no)
-AEROSPACE_EMPTY_WORKESPACE=$(aerospace list-workspaces --monitor focused --empty)
-
-if [ "$SENDER" = "aerospace_workspace_change" ]; then
-  # current workspace space border color
-  sketchybar --set "space.$AEROSPACE_FOCUSED_WORKSPACE" "label.color=$SPACE_SELECTED" "background.color=$SPACE_SELECTED_BACKGROUND"
-
-  # prev workspace space border color
-  sketchybar --set "space.$AEROSPACE_PREV_WORKSPACE" "label.color=$SPACE" "background.color=$SPACE_BACKGROUND"
-
-  for i in $AEROSAPCE_WORKSPACE_FOCUSED_MONITOR; do
-    sketchybar --set "space.$i" "display=$AEROSPACE_FOCUSED_MONITOR"
-  done
-
-  for i in $AEROSPACE_EMPTY_WORKESPACE; do
-    sketchybar --set "space.$i" "display=0"
-  done
-
-  sketchybar --set space.$AEROSPACE_FOCUSED_WORKSPACE display=$AEROSPACE_FOCUSED_MONITOR
-fi
diff --git a/home-manager/configs/sketchybar/plugins/volume.sh b/home-manager/configs/sketchybar/plugins/volume.sh
deleted file mode 100755
index 926b722..0000000
--- a/home-manager/configs/sketchybar/plugins/volume.sh
+++ /dev/null
@@ -1,11 +0,0 @@
-#!/bin/bash
-
-VOLUME=$(osascript -e "output volume of (get volume settings)")
-MUTED=$(osascript -e "output muted of (get volume settings)")
-
-OUTPUT="$VOLUME%"
-if [[ "$MUTED" != "false" ]]; then
-  OUTPUT="muted"
-fi
-
-sketchybar --set "$NAME" label="V ⋮ $OUTPUT"
diff --git a/home-manager/configs/sketchybar/plugins/wifi.sh b/home-manager/configs/sketchybar/plugins/wifi.sh
deleted file mode 100755
index c5e7e4b..0000000
--- a/home-manager/configs/sketchybar/plugins/wifi.sh
+++ /dev/null
@@ -1,5 +0,0 @@
-#!/bin/sh
-
-SSID=$(ipconfig getsummary en0 | awk -F ' SSID : '  '/ SSID : / {print $2}')
-
-sketchybar --set "$NAME" label="W ⋮ $SSID"
diff --git a/home-manager/configs/sketchybar/sketchybarrc b/home-manager/configs/sketchybar/sketchybarrc
deleted file mode 100644
index 229a6dd..0000000
--- a/home-manager/configs/sketchybar/sketchybarrc
+++ /dev/null
@@ -1,89 +0,0 @@
-#!/bin/bash
-
-source "$CONFIG_DIR/colors.sh" # Loads all defined colors
-source "$CONFIG_DIR/icons.sh" # Loads all defined icons
-
-ITEM_DIR="$CONFIG_DIR/items" # Directory where the items are configured
-PLUGIN_DIR="$CONFIG_DIR/plugins" # Directory where all the plugin scripts are stored
-
-FONT="Maple Mono" # Needs to have Regular, Bold, Semibold, Heavy and Black variants
-PADDINGS=3 # All paddings use this value (icon, label, background)
-
-# aerospace setting
-AEROSPACE_FOCUSED_MONITOR_NO=$(aerospace list-workspaces --focused)
-AEROSPACE_LIST_OF_WINDOWS_IN_FOCUSED_MONITOR=$(aerospace list-windows --workspace $AEROSPACE_FOCUSED_MONITOR_NO | awk -F'|' '{gsub(/^ *| *$/, "", $2); print $2}')
-
-# Setting up the general bar appearance of the bar
-bar=(
-  height=30
-  notch_display_height=42
-  notch_offset=-7
-  color=$BAR_COLOR
-  shadow=off
-  position=top
-  sticky=on
-  padding_right=2
-  padding_left=2
-  margin=10
-  corner_radius=8
-  topmost=window
-  blur_radius=0
-  y_offset=7
-)
-
-sketchybar --bar "${bar[@]}"
-
-# Setting up default item properties
-defaults=(
-  updates=when_shown
-
-  # icon
-  icon.drawing=off
-  icon.padding_left=0
-  icon.padding_right=0
-  icon.font="$FONT:Regular:14.0"
-
-  # label/text
-  label.font="$FONT:Regular:14.0"
-  label.color=$LABEL_COLOR
-
-  # padding
-  label.padding_left=8
-  label.padding_right=8
-  padding_right=2
-  padding_left=2
-
-  # background
-  background.height=24
-  background.corner_radius=5
-  background.border_width=2
-
-  # popup
-  popup.background.border_width=2
-  popup.background.corner_radius=9
-  popup.background.color=$POPUP_BACKGROUND_COLOR
-  popup.blur_radius=20
-  popup.background.shadow.drawing=on
-
-  scroll_texts=on
-)
-
-sketchybar --default "${defaults[@]}"
-
-
-# Left
-source "$ITEM_DIR/spaces.sh"
-source "$ITEM_DIR/front_app.sh"
-
-# Right
-source "$ITEM_DIR/calendar.sh"
-source "$ITEM_DIR/battery.sh"
-source "$ITEM_DIR/wifi.sh"
-source "$ITEM_DIR/volume.sh"
-
-sketchybar --hotload on
-
-# Forcing all item scripts to run (never do this outside of sketchybarrc)
-sketchybar --update
-
-echo "sketchybar configuation loaded.."
diff --git a/home-manager/configs/waybar/config b/home-manager/configs/waybar/config
deleted file mode 100644
index 364ec67..0000000
--- a/home-manager/configs/waybar/config
+++ /dev/null
@@ -1,103 +0,0 @@
-{
-  "position": "top",
-    "height": 22,
-    "spacing": 0,
-    "layer": "bottom",
-    "fixed-center": true,
-    "modules-left": ["clock" ],
-    "modules-center": [],
-    "modules-right": ["custom/recording", "network", "battery", "backlight", "cpu", "memory", "tray"],
-    "tray": {
-      "spacing": 0,
-    },
-    "clock": {
-    "timezone": "Europe/Moscow",
-    "format": "󰅐 {:%a %I:%M %p}",
-    "tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>",
-    "format-alt": "󰅐 {:%a %d.%m.%Y %I:%M %p}"
-    },
-    "cpu": {
-      "format": "󰍛 {usage}%",
-      "tooltip": true
-    },
-    "memory": {
-      "format": "󰘚 {}%"
-    },
-    "temperature": {
-      "critical-threshold": 70,
-      "interval": 3,
-      "format": "{icon} {temperatureC}°C",
-      "format-icons": ["󱃃", "󰔏", "󱃂"]
-    },
-    "backlight": {
-      "format": "{icon} {percent}%",
-      "format-icons": ["󰛩", "󱩎", "󱩏", "󱩐", "󱩑", "󱩒", "󱩓", "󱩔", "󱩕", "󱩖", "󰛨"],
-      "on-click": "light -S 0.1",
-      "on-scroll-up": "brightnessctl set +5%",
-      "on-scroll-down": "brightnessctl set 5%-"
-    },
-    "battery": {
-      "interval": 10,
-      "states": {
-        "critical": 25
-      },
-      "format": "{icon} {capacity}%",
-      "format-charging": "󰂄 {capacity}%",
-      "format-icons": ["󰂎", "󰁺", "󰁻", "󰁼", "󰁽", "󰁾", "󰁿", "󰂀", "󰂁", "󰂂", "󰁹"]
-    },
-    "network": {
-      "format-wifi": "{icon} {essid}",
-      "tooltip-format-wifi": "Signal strength: {signalStrength}%\nLocal IP: {ipaddr}\nGateway: {gwaddr}",
-      "format-ethernet": "󰈀 {ifname}",
-      "tooltip-format": "Local IP: {ipaddr}\nGateway: {gwaddr}",
-      "format-linked": "󰀦 {ifname} (No IP)",
-      "format-disconnected": "󰀦 {ifname}",
-      "format-alt": "{ipaddr}/{cidr} - {bandwidthDownBits}",
-      "format-icons": ["󰤯", "󰤟", "󰤢", "󰤥", "󰤨"]
-    },
-    "pulseaudio": {
-      "scroll-step": 1,
-      "format": "{icon} {volume}% {format_source}",
-      "format-bluetooth": "{icon} {volume}%  {format_source}",
-      "format-bluetooth-muted": "<span>󰖁</span> {volume}%  {format_source}",
-      "format-muted": "󰖁 {volume}% {format_source}",
-      "format-source": "󰍬",
-      "format-source-muted": "󰍭",
-      "format-icons": {
-        "headphone": "󰋋",
-        "default": ["󰕿", "󰖀", "󰕾"],
-        "headphone": "",
-        "hands-free": "",
-        "headset": "󰋋",
-      },
-      "on-click": "pactl set-sink-mute 0 toggle",
-      "on-click-middle": "pavucontrol",
-      "on-click-right": "pactl set-source-mute 0 toggle"
-    },
-    "power-profiles-daemon": {
-      "format": "{icon}",
-      "tooltip-format": "Power profile: {profile}\nDriver: {driver}",
-      "tooltip": true,
-      "format-icons": {
-      "default": "󱐋",
-      "performance": "󱐋 High",
-      "balanced": "󱓝 Base",
-      "power-saver": "󰌪 Save"
-      }  
-    },
-    "custom/recording": {
-      "exec": "pgrep wl-screenrec > /dev/null && echo '󰻃 REC' || echo ''",
-      "interval": 2
-    },
-    "custom/spotify": {
-        "exec": "~/.config/niri/spotify_waybar.sh",
-        "interval": 1,
-        "on-click-left": "playerctl -p spotify play-pause",
-        "on-click-right": "playerctl -p spotify next",
-        "on-click-middle": "playerctl -p spotify previous",
-        "on-click": "playerctl -p spotify play-pause",
-        "on-scroll-up": "playerctl -p spotify volume 0.05+",
-        "on-scroll-down": "playerctl -p spotify volume 0.05-",
-        "tooltip": false
-    }
-}
diff --git a/home-manager/configs/waybar/style.css b/home-manager/configs/waybar/style.css
deleted file mode 100644
index 39370ae..0000000
--- a/home-manager/configs/waybar/style.css
+++ /dev/null
@@ -1,49 +0,0 @@
-* {
-	font-family:
-		JetBrainsMono Nerd Font,
-		sans-serif;
-	font-size: 14;
-	font-weight: 500;
-}
-
-window#waybar {
-	border: 3px;
-	background-color: transparent;
-	color: rgba(255, 255, 255, 0.85);
-	margin: 0px 5px 2px 5px;
-	border-radius: 0px;
-}
-
-.modules-right widget>* {
-	padding: 0 0.8em;
-}
-
-.modules-left widget>* {
-	padding: 0 0.8em 0 0;
-}
-
-widget #tray {
-	font-size: 1;
-	padding: 0;
-}
-
-#cpu,
-#power-profiles-daemon,
-#custom-recording,
-#memory,
-#temperature,
-#tray,
-#clock,
-#backlight,
-#battery,
-#network,
-#custom-spotify,
-#pulseaudio {
-	margin: 5px 5px 0px 5px;
-	/*background-color: #1e1e2e;*/
-	border-radius: 5px;
-}
-
-#battery.critical {
-	background: rgba(218, 88, 88, 0.3);
-}
diff --git a/home-manager/home.nix b/home-manager/home.nix
index cc9b0dc..9d3ac8e 100644
--- a/home-manager/home.nix
+++ b/home-manager/home.nix
@@ -1,2 +1,2 @@
-{ pkgs, inputs, system, lib, user, ... }: {
+{ user, ... }: {
   home = {
@@ -4,4 +4,3 @@
     username = user;
-    homeDirectory =
-      if system == "x86_64-linux" then "/home/${user}" else "/Users/${user}";
+    homeDirectory = "/Users/${user}";
     stateVersion = "24.11";
@@ -12,48 +11,3 @@
   programs.home-manager.enable = true;
-
-  programs.bash = lib.mkIf (system == "x86_64-linux") {
-    enable = true;
-    bashrcExtra = ''
-      export LANG="en_US.UTF-8"
-      export LC_ALL="en_US.UTF-8"
-    '';
-  };
-
-  nixGL = lib.mkIf (system == "x86_64-linux") {
-    packages = inputs.nixgl.packages.${pkgs.system};
-    defaultWrapper = "mesaPrime";
-  };
-  systemd = lib.mkIf (system == "x86_64-linux") {
-    user.services = {
-      kanata = {
-        Unit = {
-          Description = "Kanata Key Remapper";
-          After = [ "graphical-session-pre.target" ];
-          PartOf = [ "graphical-session.target" ];
-        };
-        Service = {
-          Type = "simple";
-          ExecStart = "${pkgs.kanata}/bin/kanata";
-          Restart = "on-failure";
-          RestartSec = 5;
-        };
-        Install = { WantedBy = [ "graphical-session.target" ]; };
-      };
-
-      polkitAgent = {
-        Unit = {
-          Description = "Polkit Authentication Agent";
-          After = [ "graphical-session-pre.target" ];
-          PartOf = [ "graphical-session.target" ];
-        };
-        Service = {
-          Type = "simple";
-          ExecStart = "/usr/lib/polkit-kde-authentication-agent-1";
-          Restart = "on-failure";
-          RestartSec = 5;
-        };
-        Install = { WantedBy = [ "graphical-session.target" ]; };
-      };
-    };
-  };
+  services.mako.enable = false;
 }
diff --git a/home-manager/modules/darwin.nix b/home-manager/modules/darwin.nix
deleted file mode 100644
index 3ef1018..0000000
--- a/home-manager/modules/darwin.nix
+++ /dev/null
@@ -1,12 +0,0 @@
-{ lib, pkgs, ... }: {
-  home.packages = with pkgs;
-    [
-      rectangle # Управление окнами
-    ];
-
-  # Необязательные сервисы для macOS
-  # Здесь можно добавить конфигурацию для yabai, skhd и других macOS-специфичных сервисов
-
-  # Примечание: для активации изменений в настройках macOS может потребоваться перезапуск Dock/Finder
-}
-
diff --git a/home-manager/modules/default.nix b/home-manager/modules/default.nix
index f82f628..65f16be 100644
--- a/home-manager/modules/default.nix
+++ b/home-manager/modules/default.nix
@@ -1,32 +1,17 @@
-{ system, ... }: {
-  imports = let
-    base-modules = [
-      ./git.nix
-      ./lazygit.nix
-      ./nvim.nix
-      ./yazi.nix
-      ./starship.nix
-      ./nushell.nix
-      ./ssh.nix
-      ./ghostty.nix
-      ./fzf.nix
-      ./bat.nix
-      ./tmux.nix
-    ];
-
-    darwin-modules = [ ];
-
-    linux-modules = [
-      ./kanata.nix
-      ./xdg-mimes.nix
-      ./wayland
-      ./onepassword.nix
-      ./easyeffects.nix
-      ./otd.nix
-      ./fastfetch.nix
-    ];
-
-    platform-modules =
-      if (system == "aarch64-darwin") then darwin-modules else linux-modules;
-  in base-modules ++ platform-modules;
+{ ... }: {
+  imports = [
+    ./git.nix
+    ./lazygit.nix
+    ./nvim.nix
+    ./yazi.nix
+    ./starship.nix
+    ./nushell.nix
+    ./ssh.nix
+    ./ghostty.nix
+    ./fzf.nix
+    ./bat.nix
+    ./tmux.nix
+    ./fastfetch.nix
+    ./otd.nix
+  ];
 }
diff --git a/home-manager/modules/easyeffects.nix b/home-manager/modules/easyeffects.nix
deleted file mode 100644
index 7072357..0000000
--- a/home-manager/modules/easyeffects.nix
+++ /dev/null
@@ -1,8 +0,0 @@
-{ pkgs, ... }: {
-  home.packages = with pkgs; [ easyeffects ];
-
-  xdg.configFile."easyeffects" = {
-    source = ../configs/easyeffects/.;
-    recursive = true;
-  };
-}
diff --git a/home-manager/modules/ghostty.nix b/home-manager/modules/ghostty.nix
index 5052270..b76b015 100644
--- a/home-manager/modules/ghostty.nix
+++ b/home-manager/modules/ghostty.nix
@@ -1,2 +1,2 @@
-{ pkgs, system, ... }: {
+{ pkgs, ... }: {
   programs.ghostty = {
@@ -4,4 +4,3 @@
     installBatSyntax = false;
-    package =
-      if system == "x86_64-linux" then pkgs.ghostty else pkgs.emptyDirectory;
+    package = pkgs.emptyDirectory;
     settings = {
@@ -12,4 +11,2 @@
 
-      # command = "${../../scripts/tmux-session.sh}";
-
       macos-titlebar-style = "tabs";
@@ -17,2 +14,3 @@
       background-blur = true;
+      shell-integration = "detect";
       keybind = [
diff --git a/home-manager/modules/git.nix b/home-manager/modules/git.nix
index 501efca..ffde539 100644
--- a/home-manager/modules/git.nix
+++ b/home-manager/modules/git.nix
@@ -60,6 +60,2 @@
     "git/gitk" = { source = ../configs/git/gitk; };
-    "git/scripts/generate_commit_message.py" = {
-      executable = true;
-      source = ../configs/git/scripts/generate_commit_message.py;
-    };
     "git/hooks/prepare-commit-msg" = {
@@ -72,3 +68,3 @@
 
-        COMMIT_MSG=$(${pkgs.python312}/bin/python ${config.xdg.configHome}/git/scripts/generate_commit_message.py)
+        COMMIT_MSG=$(${../../scripts/ai_helper} --mode commit)
         if [ -n "$COMMIT_MSG" ]; then
diff --git a/home-manager/modules/kanata.nix b/home-manager/modules/kanata.nix
deleted file mode 100644
index 88e4272..0000000
--- a/home-manager/modules/kanata.nix
+++ /dev/null
@@ -1,81 +0,0 @@
-{ pkgs, ... }: {
-  home.packages = with pkgs; [ kanata ];
-  xdg.configFile."kanata/kanata.kbd".text = ''
-    (defsrc
-      esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12
-      grv  1    2    3    4    5    6    7    8    9    0    -    =   bspc
-      tab  q    w    e    r    t    y    u    i    o    p    [    ]   \
-      caps a    s    d    f    g    h    j    k    l    ;    '    ret
-      lsft z    x    c    v    b    n    m    ,    .    /    rsft
-      lctl lmet lalt           spc            ralt rmet cmp  rctl
-    )
-
-    (defvar
-      tap-timeout 100
-      hold-timeout 200
-
-      tt $tap-timeout
-      ht $hold-timeout
-    )
-
-    (deftemplate triple-tap-layer-switch (key layer-name)
-      $key (tap-dance 200 (
-        $key
-        (macro $key $key)
-        (layer-switch $layer-name)
-      ))
-    )
-
-    (deflayermap (default)
-      ;; a (tap-hold-release $tt $ht a lalt)
-      ;; d (tap-hold-release $tt $ht d lsft)
-      s (tap-hold-release $tt $ht s lmet)
-      f (tap-hold-release $tt $ht f lctl)
-      ;; lctrl  (tap-hold-release $tt $ht esc lctrl)
-
-      spc (tap-hold $tt $ht spc (layer-while-held extended))
-    )
-
-
-    (deflayermap (extended)
-      1 (macro C-a 10 Digit1)
-      2 (macro C-a 10 Digit2)
-      3 (macro C-a 10 Digit3)
-      4 (macro C-a 10 Digit4)
-      5 (macro C-a 10 Digit5)
-      6 (macro C-a 10 Digit6)
-      7 (macro C-a 10 Digit7)
-      8 (macro C-a 10 Digit8)
-      v (macro C-a 10 v)
-      c (macro C-a 10 C-c)
-      x (macro C-a 10 c)
-      s (macro C-a 10 S-t)
-      a C-a
-      lctrl esc
-
-      u pgdn
-      o pgup
-      w C-bspc
-
-      k up
-      h left
-      j down
-      l rght
-
-      g C-left
-      ; C-rght
-
-      m C-S-tab ;; previous tab
-      , C-tab ;; next tab
-      q C-S-p ;; task groups
-
-      n home
-      . end
-
-      t C-S-v ;; paste
-      r C-c ;; yank/copy
-      f C-z ;; undo
-      b C-x ;; cut
-    )
-  '';
-}
diff --git a/home-manager/modules/nushell.nix b/home-manager/modules/nushell.nix
index 2c05675..67eb523 100644
--- a/home-manager/modules/nushell.nix
+++ b/home-manager/modules/nushell.nix
@@ -1,16 +1,3 @@
-{ pkgs, system, lib, ... }: {
-  programs.carapace.enable = true;
-  programs.carapace.enableNushellIntegration = true;
-
-  # home.activation = {
-  #   addNushellToEtcShells = lib.hm.dag.entryAfter [ "writeBoundary" ] ''
-  #     if [ -f /etc/shells ]; then
-  #       nushell_path="$HOME/.nix-profile/bin/nu"
-  #       if ! grep -q "$nushell_path" /etc/shells; then
-  #         echo "Adding $nushell_path to /etc/shells"
-  #         echo "$nushell_path" | sudo tee -a /etc/shells
-  #       fi
-  #     fi
-  #   '';
-  # };
+{ pkgs, ... }: {
+  home.packages = with pkgs; [ zoxide ];
 
@@ -21,29 +8,4 @@
     environmentVariables = {
-      DOCKER_CONFIG = "/home/hikary/.docker/";
-      XDG_DATA_DIRS = "$HOME/.nix-profile/share:/usr/local/share:/usr/share";
-      PYTHONSTARTUP = "$HOME/.python/pythonrc";
-      LESSHISTFILE = "$XDG_STATE_HOME/less/history";
-      XDG_CURRENT_DESKTOP = "wlroots";
-      LANG = "en_US.UTF-8";
       EDITOR = "nvim";
       VISUAL = "nvim";
-      SHELL = "${pkgs.nushell}/bin/nu";
-
-      _JAVA_AWT_WM_NONEREPARENTING = "1";
-      DISABLE_QT5_COMPAT = "0";
-      ANKI_WAYLAND = "1";
-      QT_QPA_PLATFORMTHEME = "qt5ct";
-      QT_STYLE_OVERRIDE = "kvantum";
-      AMD_VULKAN_ICD = "RADV";
-      LIBVA_DRIVER_NAME = "radeonsi";
-      XDG_SESSION_TYPE = "wayland";
-      GDK_BACKEND = "wayland";
-      MOZ_ENABLE_WAYLAND = "1";
-      SDL_VIDEODRIVER = "wayland";
-      CLUTTER_BACKEND = "wayland";
-      ELECTRON_OZONE_PLATFORM_HINT = "wayland";
-      QT_QPA_PLATFORM = "wayland;xcb";
-      QT_AUTO_SCREEN_SCALE_FACTOR = "1";
-      QT_WAYLAND_DISABLE_WINDOWDECORATION = "1";
-      TERM = "xterm-256color";
     };
@@ -53,3 +15,3 @@
       ssh = ''env TERM="xterm-256color" ssh'';
-      # cat = "bat --style=plain";
+      cat = "bat --style=plain";
       ".." = "cd ..";
@@ -57,2 +19,5 @@
       cd = "z";
+
+      nu-open = "open";
+      open = "^open";
       parse_dir =
@@ -103,8 +68,4 @@
       # Nix
-      hms = if (system == "aarch64-darwin") then
-        "darwin-rebuild switch --flake '.#hikary-mac' --impure -v"
-      else
-        "home-manager switch --flake '.#hikary' --impure";
-      hmc =
-        "do { nix-collect-garbage -d; home-manager expire-generations '-30 days' }";
+      hms = "nix run nix-darwin -- switch --flake '.#hikary' --impure -v";
+      hmc = "nix-collect-garbage -d";
     };
@@ -118,31 +79,2 @@
     extraConfig = ''
-      def --env setup_path [] {
-        let base_paths = [
-          "/usr/local/sbin"
-          "/usr/local/bin"
-          ($env.HOME + "/.local/bin")
-          ($env.HOME + "/.local/share/bin")
-          "/usr/bin"
-          ($env.HOME + "/.nix-profile/bin")
-          "/nix/var/nix/profiles/default/bin"
-          "/run/current-system/sw/bin"
-          ($env.HOME + "/.cargo/bin")
-          ($env.HOME + "/.config/carapace/bin")
-          "/opt/homebrew/bin"
-          "/opt/homebrew/sbin" 
-          "/etc/profiles/per-user/tronin.egor/bin" 
-          "/run/current-system/sw/bin" 
-          "/nix/var/nix/profiles/default/bin" 
-          "/usr/local/bin" 
-          "/usr/bin:/bin" 
-          "/usr/sbin:/sbin"
-        ]
-        let joined = ($base_paths | uniq | str join ":")
-        $env.PATH = $joined
-      }
-      setup_path
-
-      # $env.OPENROUTER_API_KEY = (open ($env.HOME + "/creds/open_router") | str trim)
-      # $env.GOOGLE_API_KEY = (open ($env.HOME + "/creds/gemini") | str trim)
-
       def extract [file: string] {
@@ -172,34 +104,2 @@
 
-      def git-cleanup [] {
-        let branches = (
-          run-external "git" "branch" "--merged" "main"
-          | lines
-          | where { |it| not ($it | str contains "* main") }
-        )
-        if not ($branches | is-empty) {
-          $branches | each { |branch| run-external "git" "branch" "-d" ($branch | str trim) }
-        }
-      }
-
-      def git-recent [] {
-        run-external "git" "for-each-ref" "--sort=-committerdate" "refs/heads/" "--format=%(refname:short)"
-        | lines
-        | first 5
-      }
-
-      def git-contrib [] {
-        run-external "git" "shortlog" "-sn" "--all" "--no-merges"
-      }
-
-      def docker-cleanup [] {
-        run-external "docker" "system" "prune" "-af"
-        run-external "docker" "volume" "prune" "-f"
-      }
-
-      def docker-stop-all [] {
-        let containers = (run-external "docker" "ps" "-q" | lines)
-        if not ($containers | is-empty) {
-          $containers | each { |id| run-external "docker" "stop" $id }
-        }
-      }
 
@@ -229,4 +129,2 @@
   };
-
-  home.packages = with pkgs; [ nu_scripts zoxide ];
 }
diff --git a/home-manager/modules/nvim.nix b/home-manager/modules/nvim.nix
index 848e96a..614878a 100644
--- a/home-manager/modules/nvim.nix
+++ b/home-manager/modules/nvim.nix
@@ -1,33 +1,2 @@
-{ pkgs, ... }:
-let
-  treesitterWithGrammars = (pkgs.vimPlugins.nvim-treesitter.withPlugins (p: [
-    p.bash
-    p.comment
-    p.css
-    p.dockerfile
-    p.fish
-    p.gitattributes
-    p.gitignore
-    p.go
-    p.gomod
-    p.gowork
-    p.hcl
-    p.javascript
-    p.jq
-    p.json5
-    p.json
-    p.lua
-    p.make
-    p.markdown
-    p.nix
-    p.python
-    p.rust
-    p.toml
-    p.typescript
-    p.vue
-    p.yaml
-  ]));
-  pylsp = (pkgs.python312.withPackages
-    (ps: with ps; [ python-lsp-server pylsp-mypy ]));
-in {
+{ pkgs, ... }: {
   home.packages = with pkgs; [
@@ -44,3 +13,2 @@ in {
     ruff
-    pylsp
     typstyle
@@ -56,3 +24,2 @@ in {
     hadolint
-    hurl
     go
@@ -65,6 +32,4 @@ in {
     vimAlias = true;
-    withNodeJs = true;
-    withPython3 = true;
 
-    extraPackages = with pkgs; [ xdg-utils tree-sitter ];
+    extraPackages = with pkgs; [ tree-sitter ];
 
@@ -91,8 +56,2 @@ in {
       '';
-
-    plugins = with pkgs.vimPlugins; [
-      treesitterWithGrammars
-      luasnip
-      friendly-snippets
-    ];
   };
diff --git a/home-manager/modules/onepassword-darwin.nix b/home-manager/modules/onepassword-darwin.nix
deleted file mode 100644
index 08892a4..0000000
--- a/home-manager/modules/onepassword-darwin.nix
+++ /dev/null
@@ -1,96 +0,0 @@
-# SPDX-License-Identifier: MIT
-
-# Based on:
-# https://github.com/NixOS/nixpkgs/blob/nixos-unstable/nixos/modules/programs/_1password.nix
-# https://github.com/NixOS/nixpkgs/blob/nixos-unstable/nixos/modules/programs/_1password-gui.nix
-
-{ config, lib, pkgs, ... }:
-
-let
-  inherit (lib) types;
-
-  cfg-cli = config.programs._1password;
-  cfg-gui = config.programs._1password-gui;
-in {
-  options.programs = {
-    _1password = {
-      enable = lib.mkEnableOption "Whether to enable the 1Password CLI tool.";
-      copyToUsrLocal = lib.mkOption {
-        description =
-          "Copy `op` to `/usr/local/bin`. This is required to share authentication with the desktop app.";
-        type = types.bool;
-        default = true;
-      };
-      package = lib.mkOption {
-        description = "The 1Password CLI package to use.";
-        type = types.package;
-        default = pkgs._1password-cli;
-      };
-    };
-    _1password-gui = {
-      enable =
-        lib.mkEnableOption "Whether to enable the 1Password GUI application.";
-      copyToApplications = lib.mkOption {
-        description =
-          "Copy `1Password.app` to `/Applications`. This is required to share authentication with extensions and the CLI tool.";
-        type = types.bool;
-        default = true;
-      };
-      package = lib.mkOption {
-        description = "The 1Password CLI package to use.";
-        type = types.package;
-        default = pkgs._1password-gui;
-      };
-    };
-  };
-
-  config = let
-    _1password-cli-package = cfg-cli.package.overrideAttrs
-      (old: { meta = old.meta // { broken = false; }; });
-
-    _1password-cli-cfg = lib.mkIf cfg-cli.enable {
-      environment.systemPackages =
-        lib.optional (!cfg-cli.copyToUsrLocal) _1password-cli-package;
-
-      system.activationScripts.postActivation.text =
-        lib.optionalString cfg-cli.copyToUsrLocal ''
-          install -o root -g wheel -m0555 -D \
-            ${lib.getBin _1password-cli-package}/bin/op /usr/local/bin/op
-        '';
-    };
-
-    _1password-gui-package = cfg-gui.package.overrideAttrs
-      (old: { meta = old.meta // { broken = false; }; });
-
-    _1password-gui-cfg = lib.mkIf cfg-gui.enable {
-      environment.systemPackages =
-        lib.optional (!cfg-gui.copyToApplications) _1password-gui-package;
-
-      system.activationScripts.postActivation.text =
-        lib.optionalString cfg-gui.copyToApplications ''
-          appsDir="/Applications/Nix Apps"
-          if [ -d "$appsDir" ]; then
-            rm -rf "$appsDir/1Password.app"
-          fi
-
-          app="/Applications/1Password.app"
-          if [ -L "$app" ] || [ -f "$app"  ]; then
-            rm "$app"
-          fi
-          install -o root -g wheel -m0555 -d "$app"
-
-          rsyncFlags=(
-            --archive
-            --checksum
-            --chmod=-w
-            --copy-unsafe-links
-            --delete
-            --no-group
-            --no-owner
-          )
-          ${lib.getBin pkgs.rsync}/bin/rsync "''${rsyncFlags[@]}" \
-            ${_1password-gui-package}/Applications/1Password.app/ /Applications/1Password.app
-        '';
-    };
-  in lib.mkMerge [ _1password-cli-cfg _1password-gui-cfg ];
-}
diff --git a/home-manager/modules/onepassword.nix b/home-manager/modules/onepassword.nix
deleted file mode 100644
index 97e425a..0000000
--- a/home-manager/modules/onepassword.nix
+++ /dev/null
@@ -1,11 +0,0 @@
-{ pkgs, ... }:
-let opPkg = pkgs._1password-gui;
-in {
-  home.packages = [ opPkg ];
-
-  xdg.configFile."zen-browser/native-messaging-hosts" = {
-    source = "${opPkg}/share/native-messaging-hosts";
-    force = true;
-  };
-}
-
diff --git a/home-manager/modules/otd.nix b/home-manager/modules/otd.nix
index a659ec0..24070c7 100644
--- a/home-manager/modules/otd.nix
+++ b/home-manager/modules/otd.nix
@@ -1,4 +1,2 @@
 { ... }: {
-  # home.packages = with pkgs; [ opentabletdriver ];
-
   home.file.".config/OpenTabletDriver/Plugins/" = {
diff --git a/home-manager/modules/sketchybar/.luarc.json b/home-manager/modules/sketchybar/.luarc.json
deleted file mode 100644
index 91038be..0000000
--- a/home-manager/modules/sketchybar/.luarc.json
+++ /dev/null
@@ -1,10 +0,0 @@
-{
-    "diagnostics.globals": [
-        "vim",
-        "icons",
-        "colors",
-        "bar",
-        "default",
-        "helpers"
-    ]
-}
\ No newline at end of file
diff --git a/home-manager/modules/sketchybar/bar.lua b/home-manager/modules/sketchybar/bar.lua
deleted file mode 100644
index aab4bb5..0000000
--- a/home-manager/modules/sketchybar/bar.lua
+++ /dev/null
@@ -1,16 +0,0 @@
-local colors = require("colors").sections.bar
-
--- Equivalent to the --bar domain
-sbar.bar {
-  topmost = "window",
-  height = 42,
-  color = colors.bg,
-  padding_right = 4,
-  padding_left = 4,
-  margin = 10,
-  corner_radius = 10,
-  y_offset = 8,
-  border_color = colors.border,
-  border_width = 0,
-  blur_radius = 32,
-}
diff --git a/home-manager/modules/sketchybar/colors.lua b/home-manager/modules/sketchybar/colors.lua
deleted file mode 100644
index d669767..0000000
--- a/home-manager/modules/sketchybar/colors.lua
+++ /dev/null
@@ -1,85 +0,0 @@
-local M = {}
-
-local with_alpha = function(color, alpha)
-  if alpha > 1.0 or alpha < 0.0 then
-    return color
-  end
-  return (color & 0x00ffffff) | (math.floor(alpha * 255.0) << 24)
-end
-
-local transparent = 0x00000000
-
-local catppuccin_mocha = {
-  crust = 0xff11111b,
-  mantle = 0xff181825,
-  base = 0xff1e1e2e,
-  text = 0xff7f849c,
-  muted = 0xff585b70,
-  red = 0xfff38ba8,
-  orange = 0xfffab387,
-  yellow = 0xfff9e2af,
-  green = 0xffa6e3a1,
-  cyan = 0xff89dceb,
-  blue = 0xff89b4fa,
-  mauve = 0xffcba6f7,
-}
-
-M.sections = {
-  bar = {
-    bg = with_alpha(catppuccin_mocha.mantle, 0.6),
-    transparent = transparent,
-    border = transparent,
-  },
-  item = {
-    bg = catppuccin_mocha.base,
-    border = catppuccin_mocha.crust,
-    text = catppuccin_mocha.text,
-  },
-  apple = catppuccin_mocha.mauve,
-  spaces = {
-    icon = {
-      color = catppuccin_mocha.muted,
-      highlight = catppuccin_mocha.text,
-    },
-    label = {
-      color = catppuccin_mocha.text,
-      highlight = catppuccin_mocha.mauve,
-    },
-    indicator = catppuccin_mocha.mauve,
-  },
-  media = {
-    label = catppuccin_mocha.muted,
-    highlight = catppuccin_mocha.blue,
-  },
-  widgets = {
-    battery = {
-      low = catppuccin_mocha.red,
-      mid = catppuccin_mocha.yellow,
-      high = catppuccin_mocha.green,
-    },
-    wifi = { icon = catppuccin_mocha.blue },
-    volume = {
-      icon = catppuccin_mocha.mauve,
-      popup = {
-        item = catppuccin_mocha.muted,
-        highlight = catppuccin_mocha.text,
-      },
-      slider = {
-        highlight = catppuccin_mocha.blue,
-        bg = catppuccin_mocha.crust,
-        border = catppuccin_mocha.mantle,
-      },
-    },
-    messages = { icon = catppuccin_mocha.red },
-  },
-  calendar = {
-    label = catppuccin_mocha.muted,
-  },
-  popup = {
-    bg = catppuccin_mocha.base,
-    border = catppuccin_mocha.blue,
-    text = catppuccin_mocha.text,
-  }
-}
-
-return M
diff --git a/home-manager/modules/sketchybar/default.lua b/home-manager/modules/sketchybar/default.lua
deleted file mode 100644
index 13cd81e..0000000
--- a/home-manager/modules/sketchybar/default.lua
+++ /dev/null
@@ -1,58 +0,0 @@
-local settings = require "settings"
-local colors = require("colors").sections
-
--- Equivalent to the --default domain
-sbar.default {
-  updates = "when_shown",
-  icon = {
-    font = {
-      family = settings.font.text,
-      style = settings.font.style_map["Regular"],
-      size = 14.0,
-    },
-    color = colors.item.text,
-    padding_left = settings.paddings,
-    padding_right = settings.paddings,
-    background = { image = { corner_radius = 14 } },
-  },
-  label = {
-    font = {
-      family = settings.font.text,
-      style = settings.font.style_map["Italic"],
-      size = 14.0,
-    },
-    color = colors.item.text,
-    padding_left = settings.paddings,
-    padding_right = settings.paddings,
-  },
-  background = {
-    height = 26,
-    corner_radius = 8,
-    color = colors.item.bg,
-    border_color = colors.item.border,
-    border_width = 2,
-    shadow = {
-      drawing = true,
-      angle = 45,
-      distance = 4,
-      color = colors.item.border,
-    },
-  },
-  popup = {
-    background = {
-      color = colors.popup.bg,
-      border_color = colors.popup.border,
-      border_width = 2,
-      corner_radius = 8,
-      shadow = {
-        drawing = true,
-        angle = 45,
-        distance = 4,
-        color = colors.popup.border,
-      },
-    },
-  },
-  padding_left = 4,
-  padding_right = 4,
-  scroll_texts = true,
-}
diff --git a/home-manager/modules/sketchybar/helpers/.gitignore b/home-manager/modules/sketchybar/helpers/.gitignore
deleted file mode 100644
index ba077a4..0000000
--- a/home-manager/modules/sketchybar/helpers/.gitignore
+++ /dev/null
@@ -1 +0,0 @@
-bin
diff --git a/home-manager/modules/sketchybar/helpers/default_font.lua b/home-manager/modules/sketchybar/helpers/default_font.lua
deleted file mode 100644
index 43654b4..0000000
--- a/home-manager/modules/sketchybar/helpers/default_font.lua
+++ /dev/null
@@ -1,12 +0,0 @@
-return {
-  text = "JetBrainsMono Nerd Font Mono", -- Used for -- Used for text
-  numbers = "JetBrainsMono Nerd Font Mono", -- Used for numbers
-  weather = "JetBrainsMono Nerd Font Mono",
-
-  -- Unified font style map
-  style_map = {
-    ["Regular"] = "Regular",
-    ["Italic"] = "Italic",
-    ["Bold"] = "Bold",
-  },
-}
diff --git a/home-manager/modules/sketchybar/helpers/event_providers/cpu_load/cpu.h b/home-manager/modules/sketchybar/helpers/event_providers/cpu_load/cpu.h
deleted file mode 100644
index 413f70f..0000000
--- a/home-manager/modules/sketchybar/helpers/event_providers/cpu_load/cpu.h
+++ /dev/null
@@ -1,58 +0,0 @@
-#include <mach/mach.h>
-#include <stdbool.h>
-#include <unistd.h>
-#include <stdio.h>
-
-struct cpu {
-  host_t host;
-  mach_msg_type_number_t count;
-  host_cpu_load_info_data_t load;
-  host_cpu_load_info_data_t prev_load;
-  bool has_prev_load;
-
-  int user_load;
-  int sys_load;
-  int total_load;
-};
-
-static inline void cpu_init(struct cpu* cpu) {
-  cpu->host = mach_host_self();
-  cpu->count = HOST_CPU_LOAD_INFO_COUNT;
-  cpu->has_prev_load = false;
-}
-
-static inline void cpu_update(struct cpu* cpu) {
-  kern_return_t error = host_statistics(cpu->host,
-                                        HOST_CPU_LOAD_INFO,
-                                        (host_info_t)&cpu->load,
-                                        &cpu->count                );
-
-  if (error != KERN_SUCCESS) {
-    printf("Error: Could not read cpu host statistics.\n");
-    return;
-  }
-
-  if (cpu->has_prev_load) {
-    uint32_t delta_user = cpu->load.cpu_ticks[CPU_STATE_USER]
-                          - cpu->prev_load.cpu_ticks[CPU_STATE_USER];
-
-    uint32_t delta_system = cpu->load.cpu_ticks[CPU_STATE_SYSTEM]
-                            - cpu->prev_load.cpu_ticks[CPU_STATE_SYSTEM];
-
-    uint32_t delta_idle = cpu->load.cpu_ticks[CPU_STATE_IDLE]
-                          - cpu->prev_load.cpu_ticks[CPU_STATE_IDLE];
-
-    cpu->user_load = (double)delta_user / (double)(delta_system
-                                                     + delta_user
-                                                     + delta_idle) * 100.0;
-
-    cpu->sys_load = (double)delta_system / (double)(delta_system
-                                                      + delta_user
-                                                      + delta_idle) * 100.0;
-
-    cpu->total_load = cpu->user_load + cpu->sys_load;
-  }
-
-  cpu->prev_load = cpu->load;
-  cpu->has_prev_load = true;
-}
diff --git a/home-manager/modules/sketchybar/helpers/event_providers/cpu_load/cpu_load.c b/home-manager/modules/sketchybar/helpers/event_providers/cpu_load/cpu_load.c
deleted file mode 100644
index ee97613..0000000
--- a/home-manager/modules/sketchybar/helpers/event_providers/cpu_load/cpu_load.c
+++ /dev/null
@@ -1,41 +0,0 @@
-#include "cpu.h"
-#include "../sketchybar.h"
-
-int main (int argc, char** argv) {
-  float update_freq;
-  if (argc < 3 || (sscanf(argv[2], "%f", &update_freq) != 1)) {
-    printf("Usage: %s \"<event-name>\" \"<event_freq>\"\n", argv[0]);
-    exit(1);
-  }
-
-  alarm(0);
-  struct cpu cpu;
-  cpu_init(&cpu);
-
-  // Setup the event in sketchybar
-  char event_message[512];
-  snprintf(event_message, 512, "--add event '%s'", argv[1]);
-  sketchybar(event_message);
-
-  char trigger_message[512];
-  for (;;) {
-    // Acquire new info
-    cpu_update(&cpu);
-
-    // Prepare the event message
-    snprintf(trigger_message,
-             512,
-             "--trigger '%s' user_load='%d' sys_load='%02d' total_load='%02d'",
-             argv[1],
-             cpu.user_load,
-             cpu.sys_load,
-             cpu.total_load                                        );
-
-    // Trigger the event
-    sketchybar(trigger_message);
-
-    // Wait
-    usleep(update_freq * 1000000);
-  }
-  return 0;
-}
diff --git a/home-manager/modules/sketchybar/helpers/event_providers/cpu_load/makefile b/home-manager/modules/sketchybar/helpers/event_providers/cpu_load/makefile
deleted file mode 100644
index 6366a0f..0000000
--- a/home-manager/modules/sketchybar/helpers/event_providers/cpu_load/makefile
+++ /dev/null
@@ -1,5 +0,0 @@
-bin/cpu_load: cpu_load.c cpu.h ../sketchybar.h | bin
-	clang -std=c99 -O3 $< -o $@
-
-bin:
-	mkdir bin
diff --git a/home-manager/modules/sketchybar/helpers/event_providers/makefile b/home-manager/modules/sketchybar/helpers/event_providers/makefile
deleted file mode 100644
index 8c1ca39..0000000
--- a/home-manager/modules/sketchybar/helpers/event_providers/makefile
+++ /dev/null
@@ -1,3 +0,0 @@
-all:
-	(cd cpu_load && $(MAKE))
-	(cd network_load && $(MAKE))
diff --git a/home-manager/modules/sketchybar/helpers/event_providers/network_load/makefile b/home-manager/modules/sketchybar/helpers/event_providers/network_load/makefile
deleted file mode 100644
index e464482..0000000
--- a/home-manager/modules/sketchybar/helpers/event_providers/network_load/makefile
+++ /dev/null
@@ -1,5 +0,0 @@
-bin/network_load: network_load.c network.h ../sketchybar.h | bin
-	clang -std=c99 -O3 $< -o $@
-
-bin:
-	mkdir bin
diff --git a/home-manager/modules/sketchybar/helpers/event_providers/network_load/network.h b/home-manager/modules/sketchybar/helpers/event_providers/network_load/network.h
deleted file mode 100644
index 25175e5..0000000
--- a/home-manager/modules/sketchybar/helpers/event_providers/network_load/network.h
+++ /dev/null
@@ -1,90 +0,0 @@
-#include <math.h>
-#include <stdio.h>
-#include <string.h>
-#include <net/if.h>
-#include <net/if_mib.h>
-#include <sys/select.h>
-#include <sys/sysctl.h>
-
-static char unit_str[3][6] = { { " Bps" }, { "KBps" }, { "MBps" }, };
-
-enum unit {
-  UNIT_BPS,
-  UNIT_KBPS,
-  UNIT_MBPS
-};
-struct network {
-  uint32_t row;
-  struct ifmibdata data;
-  struct timeval tv_nm1, tv_n, tv_delta;
-
-  int up;
-  int down;
-  enum unit up_unit, down_unit;
-};
-
-static inline void ifdata(uint32_t net_row, struct ifmibdata* data) {
-	static size_t size = sizeof(struct ifmibdata);
-  static int32_t data_option[] = { CTL_NET, PF_LINK, NETLINK_GENERIC, IFMIB_IFDATA, 0, IFDATA_GENERAL };
-  data_option[4] = net_row;
-  sysctl(data_option, 6, data, &size, NULL, 0);
-}
-
-static inline void network_init(struct network* net, char* ifname) {
-  memset(net, 0, sizeof(struct network));
-
-  static int count_option[] = { CTL_NET, PF_LINK, NETLINK_GENERIC, IFMIB_SYSTEM, IFMIB_IFCOUNT };
-  uint32_t interface_count = 0;
-  size_t size = sizeof(uint32_t);
-  sysctl(count_option, 5, &interface_count, &size, NULL, 0);
-
-  for (int i = 0; i < interface_count; i++) {
-    ifdata(i, &net->data);
-    if (strcmp(net->data.ifmd_name, ifname) == 0) {
-      net->row = i;
-      break;
-    }
-  }
-}
-
-static inline void network_update(struct network* net) {
-  gettimeofday(&net->tv_n, NULL);
-  timersub(&net->tv_n, &net->tv_nm1, &net->tv_delta);
-  net->tv_nm1 = net->tv_n;
-
-  uint64_t ibytes_nm1 = net->data.ifmd_data.ifi_ibytes;
-  uint64_t obytes_nm1 = net->data.ifmd_data.ifi_obytes;
-  ifdata(net->row, &net->data);
-
-  double time_scale = (net->tv_delta.tv_sec + 1e-6*net->tv_delta.tv_usec);
-  if (time_scale < 1e-6 || time_scale > 1e2) return;
-  double delta_ibytes = (double)(net->data.ifmd_data.ifi_ibytes - ibytes_nm1)
-                        / time_scale;
-  double delta_obytes = (double)(net->data.ifmd_data.ifi_obytes - obytes_nm1)
-                        / time_scale;
-
-  double exponent_ibytes = log10(delta_ibytes);
-  double exponent_obytes = log10(delta_obytes);
-
-  if (exponent_ibytes < 3) {
-    net->down_unit = UNIT_BPS;
-    net->down = delta_ibytes;
-  } else if (exponent_ibytes < 6) {
-    net->down_unit = UNIT_KBPS;
-    net->down = delta_ibytes / 1000.0;
-  } else if (exponent_ibytes < 9) {
-    net->down_unit = UNIT_MBPS;
-    net->down = delta_ibytes / 1000000.0;
-  }
-
-  if (exponent_obytes < 3) {
-    net->up_unit = UNIT_BPS;
-    net->up = delta_obytes;
-  } else if (exponent_obytes < 6) {
-    net->up_unit = UNIT_KBPS;
-    net->up = delta_obytes / 1000.0;
-  } else if (exponent_obytes < 9) {
-    net->up_unit = UNIT_MBPS;
-    net->up = delta_obytes / 1000000.0;
-  }
-}
diff --git a/home-manager/modules/sketchybar/helpers/event_providers/network_load/network_load.c b/home-manager/modules/sketchybar/helpers/event_providers/network_load/network_load.c
deleted file mode 100644
index 06afe95..0000000
--- a/home-manager/modules/sketchybar/helpers/event_providers/network_load/network_load.c
+++ /dev/null
@@ -1,42 +0,0 @@
-#include <unistd.h>
-#include "network.h"
-#include "../sketchybar.h"
-
-int main (int argc, char** argv) {
-  float update_freq;
-  if (argc < 4 || (sscanf(argv[3], "%f", &update_freq) != 1)) {
-    printf("Usage: %s \"<interface>\" \"<event-name>\" \"<event_freq>\"\n", argv[0]);
-    exit(1);
-  }
-
-  alarm(0);
-  // Setup the event in sketchybar
-  char event_message[512];
-  snprintf(event_message, 512, "--add event '%s'", argv[2]);
-  sketchybar(event_message);
-
-  struct network network;
-  network_init(&network, argv[1]);
-  char trigger_message[512];
-  for (;;) {
-    // Acquire new info
-    network_update(&network);
-
-    // Prepare the event message
-    snprintf(trigger_message,
-             512,
-             "--trigger '%s' upload='%03d%s' download='%03d%s'",
-             argv[2],
-             network.up,
-             unit_str[network.up_unit],
-             network.down,
-             unit_str[network.down_unit]);
-
-    // Trigger the event
-    sketchybar(trigger_message);
-
-    // Wait
-    usleep(update_freq * 1000000);
-  }
-  return 0;
-}
diff --git a/home-manager/modules/sketchybar/helpers/event_providers/sketchybar.h b/home-manager/modules/sketchybar/helpers/event_providers/sketchybar.h
deleted file mode 100644
index 72bf06a..0000000
--- a/home-manager/modules/sketchybar/helpers/event_providers/sketchybar.h
+++ /dev/null
@@ -1,122 +0,0 @@
-#pragma once
-
-#include <mach/arm/kern_return.h>
-#include <mach/mach.h>
-#include <mach/mach_port.h>
-#include <mach/message.h>
-#include <bootstrap.h>
-#include <stdlib.h>
-#include <pthread.h>
-#include <stdio.h>
-
-typedef char* env;
-
-#define MACH_HANDLER(name) void name(env env)
-typedef MACH_HANDLER(mach_handler);
-
-struct mach_message {
-  mach_msg_header_t header;
-  mach_msg_size_t msgh_descriptor_count;
-  mach_msg_ool_descriptor_t descriptor;
-};
-
-struct mach_buffer {
-  struct mach_message message;
-  mach_msg_trailer_t trailer;
-};
-
-static mach_port_t g_mach_port = 0;
-
-static inline mach_port_t mach_get_bs_port() {
-  mach_port_name_t task = mach_task_self();
-
-  mach_port_t bs_port;
-  if (task_get_special_port(task,
-                            TASK_BOOTSTRAP_PORT,
-                            &bs_port            ) != KERN_SUCCESS) {
-    return 0;
-  }
-
-  char* name = getenv("BAR_NAME");
-  if (!name) name = "sketchybar";
-  uint32_t lookup_len = 16 + strlen(name);
-
-  char buffer[lookup_len];
-  snprintf(buffer, lookup_len, "git.felix.%s", name);
-
-  mach_port_t port;
-  if (bootstrap_look_up(bs_port, buffer, &port) != KERN_SUCCESS) return 0;
-  return port;
-}
-
-static inline bool mach_send_message(mach_port_t port, char* message, uint32_t len) {
-  if (!message || !port) {
-    return false;
-  }
-
-  struct mach_message msg = { 0 };
-  msg.header.msgh_remote_port = port;
-  msg.header.msgh_local_port = 0;
-  msg.header.msgh_id = 0;
-  msg.header.msgh_bits = MACH_MSGH_BITS_SET(MACH_MSG_TYPE_COPY_SEND,
-                                            MACH_MSG_TYPE_MAKE_SEND,
-                                            0,
-                                            MACH_MSGH_BITS_COMPLEX       );
-
-  msg.header.msgh_size = sizeof(struct mach_message);
-  msg.msgh_descriptor_count = 1;
-  msg.descriptor.address = message;
-  msg.descriptor.size = len * sizeof(char);
-  msg.descriptor.copy = MACH_MSG_VIRTUAL_COPY;
-  msg.descriptor.deallocate = false;
-  msg.descriptor.type = MACH_MSG_OOL_DESCRIPTOR;
-
-  kern_return_t err = mach_msg(&msg.header,
-                               MACH_SEND_MSG,
-                               sizeof(struct mach_message),
-                               0,
-                               MACH_PORT_NULL,
-                               MACH_MSG_TIMEOUT_NONE,
-                               MACH_PORT_NULL              );
-
-  return err == KERN_SUCCESS;
-}
-
-static inline uint32_t format_message(char* message, char* formatted_message) {
-  // This is not actually robust, switch to stack based messaging.
-  char outer_quote = 0;
-  uint32_t caret = 0;
-  uint32_t message_length = strlen(message) + 1;
-  for (int i = 0; i < message_length; ++i) {
-    if (message[i] == '"' || message[i] == '\'') {
-      if (outer_quote && outer_quote == message[i]) outer_quote = 0;
-      else if (!outer_quote) outer_quote = message[i];
-      continue;
-    }
-    formatted_message[caret] = message[i];
-    if (message[i] == ' ' && !outer_quote) formatted_message[caret] = '\0';
-    caret++;
-  }
-
-  if (caret > 0 && formatted_message[caret] == '\0'
-      && formatted_message[caret - 1] == '\0') {
-    caret--;
-  }
-  formatted_message[caret] = '\0';
-  return caret + 1;
-}
-
-static inline void sketchybar(char* message) {
-  char formatted_message[strlen(message) + 2];
-  uint32_t length = format_message(message, formatted_message);
-  if (!length) return;
-
-  if (!g_mach_port) g_mach_port = mach_get_bs_port();
-  if (!mach_send_message(g_mach_port, formatted_message, length)) {
-    g_mach_port = mach_get_bs_port();
-    if (!mach_send_message(g_mach_port, formatted_message, length)) {
-      // No sketchybar instance running, exit.
-      exit(0);
-    }
-  }
-}
diff --git a/home-manager/modules/sketchybar/helpers/icon_map.lua b/home-manager/modules/sketchybar/helpers/icon_map.lua
deleted file mode 100644
index e8e1862..0000000
--- a/home-manager/modules/sketchybar/helpers/icon_map.lua
+++ /dev/null
@@ -1,354 +0,0 @@
-return {
-  ["Live"] = ":ableton:",
-  ["Activity Monitor"] = ":activity_monitor:",
-  ["Adobe Bridge"] = ":adobe_bridge:",
-  ["Affinity Designer"] = ":affinity_designer:",
-  ["Affinity Designer 2"] = ":affinity_designer_2:",
-  ["Affinity Photo"] = ":affinity_photo:",
-  ["Affinity Photo 2"] = ":affinity_photo_2:",
-  ["Affinity Publisher"] = ":affinity_publisher:",
-  ["Affinity Publisher 2"] = ":affinity_publisher_2:",
-  ["Airmail"] = ":airmail:",
-  ["Alacritty"] = ":alacritty:",
-  ["Alfred"] = ":alfred:",
-  ["Android Messages"] = ":android_messages:",
-  ["Android Studio"] = ":android_studio:",
-  ["Anki"] = ":anki:",
-  ["Anytype"] = ":anytype:",
-  ["App Eraser"] = ":app_eraser:",
-  ["App Store"] = ":app_store:",
-  ["Arc"] = ":arc:",
-  ["Arduino"] = ":arduino:",
-  ["Arduino IDE"] = ":arduino:",
-  ["Atom"] = ":atom:",
-  ["Audacity"] = ":audacity:",
-  ["Bambu Studio"] = ":bambu_studio:",
-  ["MoneyMoney"] = ":bank:",
-  ["Battle.net"] = ":battle_net:",
-  ["Bear"] = ":bear:",
-  ["BetterTouchTool"] = ":bettertouchtool:",
-  ["Bilibili"] = ":bilibili:",
-  ["哔哩哔哩"] = ":bilibili:",
-  ["Bitwarden"] = ":bit_warden:",
-  ["Blender"] = ":blender:",
-  ["BluOS Controller"] = ":bluos_controller:",
-  ["Calibre"] = ":book:",
-  ["Brave Browser"] = ":brave_browser:",
-  ["Bruno"] = ":bruno:",
-  ["BusyCal"] = ":busycal:",
-  ["Calculator"] = ":calculator:",
-  ["Calculette"] = ":calculator:",
-  ["Calendar"] = ":calendar:",
-  ["日历"] = ":calendar:",
-  ["Fantastical"] = ":calendar:",
-  ["Cron"] = ":calendar:",
-  ["Amie"] = ":calendar:",
-  ["Calendrier"] = ":calendar:",
-  ["カレンダー"] = ":calendar:",
-  ["Notion Calendar"] = ":calendar:",
-  ["calibre"] = ":calibre:",
-  ["Caprine"] = ":caprine:",
-  ["Amazon Chime"] = ":chime:",
-  ["Citrix Workspace"] = ":citrix:",
-  ["Citrix Viewer"] = ":citrix:",
-  ["Claude"] = ":claude:",
-  ["ClickUp"] = ":click_up:",
-  ["Code"] = ":code:",
-  ["Code - Insiders"] = ":code:",
-  ["Cold Turkey Blocker"] = ":cold_turkey_blocker:",
-  ["Color Picker"] = ":color_picker:",
-  ["数码测色计"] = ":color_picker:",
-  ["Copilot"] = ":copilot:",
-  ["CotEditor"] = ":coteditor:",
-  ["Creative Cloud"] = ":creative_cloud:",
-  ["Cursor"] = ":cursor:",
-  ["Cypress"] = ":cypress:",
-  ["DataGrip"] = ":datagrip:",
-  ["DataSpell"] = ":dataspell:",
-  ["DaVinci Resolve"] = ":davinciresolve:",
-  ["DBeaver"] = ":dbeaver:",
-  ["Deezer"] = ":deezer:",
-  ["Default"] = ":default:",
-  ["CleanMyMac X"] = ":desktop:",
-  ["DEVONthink 3"] = ":devonthink3:",
-  ["DingTalk"] = ":dingtalk:",
-  ["钉钉"] = ":dingtalk:",
-  ["阿里钉"] = ":dingtalk:",
-  ["Discord"] = ":discord:",
-  ["Discord Canary"] = ":discord:",
-  ["Discord PTB"] = ":discord:",
-  ["Docker"] = ":docker:",
-  ["Docker Desktop"] = ":docker:",
-  ["GrandTotal"] = ":dollar:",
-  ["Receipts"] = ":dollar:",
-  ["Double Commander"] = ":doublecmd:",
-  ["Drafts"] = ":drafts:",
-  ["draw.io"] = ":draw_io:",
-  ["Dropbox"] = ":dropbox:",
-  ["Element"] = ":element:",
-  ["Emacs"] = ":emacs:",
-  ["Evernote Legacy"] = ":evernote_legacy:",
-  ["FaceTime"] = ":face_time:",
-  ["FaceTime 通话"] = ":face_time:",
-  ["Figma"] = ":figma:",
-  ["Final Cut Pro"] = ":final_cut_pro:",
-  ["Finder"] = ":finder:",
-  ["访达"] = ":finder:",
-  ["Firefox"] = ":firefox:",
-  ["Firefox Developer Edition"] = ":firefox_developer_edition:",
-  ["Firefox Nightly"] = ":firefox_developer_edition:",
-  ["Folx"] = ":folx:",
-  ["Fork"] = ":fork:",
-  ["Freeform"] = ":freeform:",
-  ["FreeTube"] = ":freetube:",
-  ["Fusion"] = ":fusion:",
-  ["System Preferences"] = ":gear:",
-  ["System Settings"] = ":gear:",
-  ["系统设置"] = ":gear:",
-  ["Réglages Système"] = ":gear:",
-  ["システム設定"] = ":gear:",
-  ["Ghostty"] = ":ghostty:",
-  ["GitHub Desktop"] = ":git_hub:",
-  ["Godot"] = ":godot:",
-  ["GoLand"] = ":goland:",
-  ["Chromium"] = ":google_chrome:",
-  ["Google Chrome"] = ":google_chrome:",
-  ["Google Chrome Canary"] = ":google_chrome:",
-  ["Grammarly Editor"] = ":grammarly:",
-  ["Home Assistant"] = ":home_assistant:",
-  ["Hyper"] = ":hyper:",
-  ["IntelliJ IDEA"] = ":idea:",
-  ["IINA"] = ":iina:",
-  ["Adobe Illustrator"] = ":illustrator:",
-  ["Illustrator"] = ":illustrator:",
-  ["Adobe InDesign"] = ":indesign:",
-  ["InDesign"] = ":indesign:",
-  ["Infuse"] = ":infuse:",
-  ["Inkdrop"] = ":inkdrop:",
-  ["Inkscape"] = ":inkscape:",
-  ["Insomnia"] = ":insomnia:",
-  ["iPhone Mirroring"] = ":iphone_mirroring:",
-  ["Iris"] = ":iris:",
-  ["iTerm"] = ":iterm:",
-  ["iTerm2"] = ":iterm:",
-  ["Jellyfin Media Player"] = ":jellyfin:",
-  ["Joplin"] = ":joplin:",
-  ["카카오톡"] = ":kakaotalk:",
-  ["KakaoTalk"] = ":kakaotalk:",
-  ["Kakoune"] = ":kakoune:",
-  ["KeePassXC"] = ":kee_pass_x_c:",
-  ["Keyboard Maestro"] = ":keyboard_maestro:",
-  ["Keynote"] = ":keynote:",
-  ["Keynote 讲演"] = ":keynote:",
-  ["kitty"] = ":kitty:",
-  ["Kodi"] = ":kodi:",
-  ["LanguageTool for Desktop"] = ":languagetool_for_desktop:",
-  ["League of Legends"] = ":league_of_legends:",
-  ["LibreWolf"] = ":libre_wolf:",
-  ["Adobe Lightroom"] = ":lightroom:",
-  ["Lightroom Classic"] = ":lightroomclassic:",
-  ["LINE"] = ":line:",
-  ["Linear"] = ":linear:",
-  ["LM Studio"] = ":lm_studio:",
-  ["LocalSend"] = ":localsend:",
-  ["Logic Pro"] = ":logicpro:",
-  ["Logseq"] = ":logseq:",
-  ["Canary Mail"] = ":mail:",
-  ["HEY"] = ":mail:",
-  ["Mail"] = ":mail:",
-  ["Mailspring"] = ":mail:",
-  ["MailMate"] = ":mail:",
-  ["Superhuman"] = ":mail:",
-  ["Spark"] = ":mail:",
-  ["邮件"] = ":mail:",
-  ["メール"] = ":mail:",
-  ["MAMP"] = ":mamp:",
-  ["MAMP PRO"] = ":mamp:",
-  ["Maps"] = ":maps:",
-  ["Google Maps"] = ":maps:",
-  ["マップ"] = ":maps:",
-  ["Marta"] = ":marta:",
-  ["Matlab"] = ":matlab:",
-  ["Mattermost"] = ":mattermost:",
-  ["Messages"] = ":messages:",
-  ["信息"] = ":messages:",
-  ["Nachrichten"] = ":messages:",
-  ["メッセージ"] = ":messages:",
-  ["Messenger"] = ":messenger:",
-  ["Microsoft Edge"] = ":microsoft_edge:",
-  ["Microsoft Excel"] = ":microsoft_excel:",
-  ["Microsoft Outlook"] = ":microsoft_outlook:",
-  ["Microsoft PowerPoint"] = ":microsoft_power_point:",
-  ["Microsoft Remote Desktop"] = ":microsoft_remote_desktop:",
-  ["Microsoft Teams"] = ":microsoft_teams:",
-  ["Microsoft Teams (work or school)"] = ":microsoft_teams:",
-  ["Microsoft Word"] = ":microsoft_word:",
-  ["Min"] = ":min_browser:",
-  ["Miro"] = ":miro:",
-  ["MongoDB Compass"] = ":mongodb:",
-  ["Moonlight"] = ":moonlight:",
-  ["mpv"] = ":mpv:",
-  ["Mullvad Browser"] = ":mullvad_browser:",
-  ["Music"] = ":music:",
-  ["音乐"] = ":music:",
-  ["Musique"] = ":music:",
-  ["ミュージック"] = ":music:",
-  ["Neovide"] = ":neovide:",
-  ["neovide"] = ":neovide:",
-  ["Neovim"] = ":neovim:",
-  ["neovim"] = ":neovim:",
-  ["nvim"] = ":neovim:",
-  ["网易云音乐"] = ":netease_music:",
-  ["Noodl"] = ":noodl:",
-  ["Noodl Editor"] = ":noodl:",
-  ["NordVPN"] = ":nord_vpn:",
-  ["Notability"] = ":notability:",
-  ["Notes"] = ":notes:",
-  ["备忘录"] = ":notes:",
-  ["メモ"] = ":notes:",
-  ["Notion"] = ":notion:",
-  ["Nova"] = ":nova:",
-  ["Numbers"] = ":numbers:",
-  ["Numbers 表格"] = ":numbers:",
-  ["Obsidian"] = ":obsidian:",
-  ["OBS"] = ":obsstudio:",
-  ["OmniFocus"] = ":omni_focus:",
-  ["1Password"] = ":one_password:",
-  ["Open Video Downloader"] = ":open_video_downloader:",
-  ["ChatGPT"] = ":openai:",
-  ["OpenAI Translator"] = ":openai_translator:",
-  ["OpenVPN Connect"] = ":openvpn_connect:",
-  ["Opera"] = ":opera:",
-  ["OrbStack"] = ":orbstack:",
-  ["OrcaSlicer"] = ":orcaslicer:",
-  ["Orion"] = ":orion:",
-  ["Orion RC"] = ":orion:",
-  ["Pages"] = ":pages:",
-  ["Pages 文稿"] = ":pages:",
-  ["Parallels Desktop"] = ":parallels:",
-  ["Parsec"] = ":parsec:",
-  ["Passwords"] = ":passwords:",
-  ["Preview"] = ":pdf:",
-  ["预览"] = ":pdf:",
-  ["Skim"] = ":pdf:",
-  ["zathura"] = ":pdf:",
-  ["Aperçu"] = ":pdf:",
-  ["プレビュー"] = ":pdf:",
-  ["PDF Expert"] = ":pdf_expert:",
-  ["Pearcleaner"] = ":pearcleaner:",
-  ["Phoenix Slides"] = ":phoenix_slides:",
-  ["Photos"] = ":photos:",
-  ["Adobe Photoshop"] = ":photoshop:",
-  ["PhpStorm"] = ":php_storm:",
-  ["Pi-hole Remote"] = ":pihole:",
-  ["Pine"] = ":pine:",
-  ["Plex"] = ":plex:",
-  ["Plexamp"] = ":plexamp:",
-  ["Podcasts"] = ":podcasts:",
-  ["播客"] = ":podcasts:",
-  ["PomoDone App"] = ":pomodone:",
-  ["Postman"] = ":postman:",
-  ["Proton Mail"] = ":proton_mail:",
-  ["Proton Mail Bridge"] = ":proton_mail:",
-  ["Proton VPN"] = ":proton_vpn:",
-  ["ProtonVPN"] = ":proton_vpn:",
-  ["PrusaSlicer"] = ":prusaslicer:",
-  ["SuperSlicer"] = ":prusaslicer:",
-  ["PyCharm"] = ":pycharm:",
-  ["QQ"] = ":qq:",
-  ["QQ音乐"] = ":qqmusic:",
-  ["QQMusic"] = ":qqmusic:",
-  ["Quantumult X"] = ":quantumult_x:",
-  ["qutebrowser"] = ":qute_browser:",
-  ["Raindrop.io"] = ":raindrop_io:",
-  ["Reeder"] = ":reeder5:",
-  ["Reminders"] = ":reminders:",
-  ["提醒事项"] = ":reminders:",
-  ["Rappels"] = ":reminders:",
-  ["リマインダー"] = ":reminders:",
-  ["Replit"] = ":replit:",
-  ["Repo Prompt"] = ":repo_prompt:",
-  ["Rider"] = ":rider:",
-  ["JetBrains Rider"] = ":rider:",
-  ["Rio"] = ":rio:",
-  ["Royal TSX"] = ":royaltsx:",
-  ["RustDesk"] = ":rustdesk:",
-  ["Safari"] = ":safari:",
-  ["Safari浏览器"] = ":safari:",
-  ["Safari Technology Preview"] = ":safari:",
-  ["Sequel Ace"] = ":sequel_ace:",
-  ["Sequel Pro"] = ":sequel_pro:",
-  ["Session"] = ":session:",
-  ["Setapp"] = ":setapp:",
-  ["SF Symbols"] = ":sf_symbols:",
-  ["Signal"] = ":signal:",
-  ["sioyek"] = ":sioyek:",
-  ["Sketch"] = ":sketch:",
-  ["Skype"] = ":skype:",
-  ["Slack"] = ":slack:",
-  ["Spark Desktop"] = ":spark:",
-  ["Spotify"] = ":spotify:",
-  ["Spotlight"] = ":spotlight:",
-  ["Studio 3T"] = ":studio_3t:",
-  ["Sublime Text"] = ":sublime_text:",
-  ["superProductivity"] = ":superproductivity:",
-  ["Surfshark"] = ":surfshark:",
-  ["Tabby"] = ":tabby:",
-  ["TablePlus"] = ":tableplus:",
-  ["Tana"] = ":tana:",
-  ["TeamSpeak 3"] = ":team_speak:",
-  ["Telegram"] = ":telegram:",
-  ["Terminal"] = ":terminal:",
-  ["终端"] = ":terminal:",
-  ["ターミナル"] = ":terminal:",
-  ["Typora"] = ":text:",
-  ["TextEdit"] = ":textedit:",
-  ["Microsoft To Do"] = ":things:",
-  ["Things"] = ":things:",
-  ["Thunderbird"] = ":thunderbird:",
-  ["TickTick"] = ":tick_tick:",
-  ["TIDAL"] = ":tidal:",
-  ["Tiny RDM"] = ":tinyrdm:",
-  ["Todoist"] = ":todoist:",
-  ["Toggl Track"] = ":toggl_track:",
-  ["Tor Browser"] = ":tor_browser:",
-  ["Tower"] = ":tower:",
-  ["Transmit"] = ":transmit:",
-  ["Trello"] = ":trello:",
-  ["Tweetbot"] = ":twitter:",
-  ["Twitter"] = ":twitter:",
-  ["UTM"] = ":utm:",
-  ["MacVim"] = ":vim:",
-  ["Vim"] = ":vim:",
-  ["VimR"] = ":vim:",
-  ["Vivaldi"] = ":vivaldi:",
-  ["VLC"] = ":vlc:",
-  ["VMware Fusion"] = ":vmware_fusion:",
-  ["VSCodium"] = ":vscodium:",
-  ["Warp"] = ":warp:",
-  ["Weather"] = ":weather:",
-  ["WebStorm"] = ":web_storm:",
-  ["Webull Desktop"] = ":webull:",
-  ["微信"] = ":wechat:",
-  ["WeChat"] = ":wechat:",
-  ["企业微信"] = ":wecom:",
-  ["WeCom"] = ":wecom:",
-  ["WezTerm"] = ":wezterm:",
-  ["WhatsApp"] = ":whats_app:",
-  ["‎WhatsApp"] = ":whats_app:",
-  ["Xcode"] = ":xcode:",
-  ["Yandex Browser"] = ":yandex_bower:",
-  ["Yandex Browser"] = ":yandex_bower:",
-  ["Yandex"] = ":yandex_bower:",
-  ["Yandex Music"] = ":yandex_music:",
-  ["Yuque"] = ":yuque:",
-  ["语雀"] = ":yuque:",
-  ["Zed"] = ":zed:",
-  ["Zen Browser"] = ":zen_browser:",
-  ["Twilight"] = ":zen_browser:",
-  ["Zeplin"] = ":zeplin:",
-  ["zoom.us"] = ":zoom:",
-  ["Zotero"] = ":zotero:",
-  ["Zulip"] = ":zulip:",
-}
-
diff --git a/home-manager/modules/sketchybar/helpers/init.lua b/home-manager/modules/sketchybar/helpers/init.lua
deleted file mode 100644
index 351531a..0000000
--- a/home-manager/modules/sketchybar/helpers/init.lua
+++ /dev/null
@@ -1,4 +0,0 @@
--- Add the sketchybar module to the package cpath
-package.cpath = package.cpath .. ";/Users/" .. os.getenv("USER") .. "/.local/share/sketchybar_lua/?.so"
-
-os.execute("(cd helpers && make)")
diff --git a/home-manager/modules/sketchybar/helpers/install.sh b/home-manager/modules/sketchybar/helpers/install.sh
deleted file mode 100755
index e69de29..0000000
diff --git a/home-manager/modules/sketchybar/helpers/makefile b/home-manager/modules/sketchybar/helpers/makefile
deleted file mode 100644
index 3246108..0000000
--- a/home-manager/modules/sketchybar/helpers/makefile
+++ /dev/null
@@ -1,3 +0,0 @@
-all:
-	(cd event_providers && $(MAKE)) >/dev/null
-	(cd menus && $(MAKE)) >/dev/null
diff --git a/home-manager/modules/sketchybar/helpers/menus/makefile b/home-manager/modules/sketchybar/helpers/menus/makefile
deleted file mode 100644
index 0cb454e..0000000
--- a/home-manager/modules/sketchybar/helpers/menus/makefile
+++ /dev/null
@@ -1,5 +0,0 @@
-bin/menus: menus.c | bin
-	clang -std=c99 -O3 -F/System/Library/PrivateFrameworks/ -framework Carbon -framework SkyLight $< -o $@
-
-bin:
-	mkdir bin
diff --git a/home-manager/modules/sketchybar/helpers/menus/menus.c b/home-manager/modules/sketchybar/helpers/menus/menus.c
deleted file mode 100644
index 2e77822..0000000
--- a/home-manager/modules/sketchybar/helpers/menus/menus.c
+++ /dev/null
@@ -1,248 +0,0 @@
-#include <Carbon/Carbon.h>
-
-void ax_init() {
-  const void *keys[] = { kAXTrustedCheckOptionPrompt };
-  const void *values[] = { kCFBooleanTrue };
-
-  CFDictionaryRef options;
-  options = CFDictionaryCreate(kCFAllocatorDefault,
-                               keys,
-                               values,
-                               sizeof(keys) / sizeof(*keys),
-                               &kCFCopyStringDictionaryKeyCallBacks,
-                               &kCFTypeDictionaryValueCallBacks     );
-
-  bool trusted = AXIsProcessTrustedWithOptions(options);
-  CFRelease(options);
-  if (!trusted) exit(1);
-}
-
-void ax_perform_click(AXUIElementRef element) {
-  if (!element) return;
-  AXUIElementPerformAction(element, kAXCancelAction);
-  usleep(150000);
-  AXUIElementPerformAction(element, kAXPressAction);
-}
-
-CFStringRef ax_get_title(AXUIElementRef element) {
-  CFTypeRef title = NULL;
-  AXError error = AXUIElementCopyAttributeValue(element,
-                                                kAXTitleAttribute,
-                                                &title            );
-
-  if (error != kAXErrorSuccess) return NULL;
-  return title;
-}
-
-void ax_select_menu_option(AXUIElementRef app, int id) {
-  AXUIElementRef menubars_ref = NULL;
-  CFArrayRef children_ref = NULL;
-
-  AXError error = AXUIElementCopyAttributeValue(app,
-                                                kAXMenuBarAttribute,
-                                                (CFTypeRef*)&menubars_ref);
-  if (error == kAXErrorSuccess) {
-    error = AXUIElementCopyAttributeValue(menubars_ref,
-                                          kAXVisibleChildrenAttribute,
-                                          (CFTypeRef*)&children_ref   );
-
-    if (error == kAXErrorSuccess) {
-      uint32_t count = CFArrayGetCount(children_ref);
-      if (id < count) {
-        AXUIElementRef item = CFArrayGetValueAtIndex(children_ref, id);
-        ax_perform_click(item);
-      }
-      if (children_ref) CFRelease(children_ref);
-    }
-    if (menubars_ref) CFRelease(menubars_ref);
-  }
-}
-
-void ax_print_menu_options(AXUIElementRef app) {
-  AXUIElementRef menubars_ref = NULL;
-  CFTypeRef menubar = NULL;
-  CFArrayRef children_ref = NULL;
-
-  AXError error = AXUIElementCopyAttributeValue(app,
-                                                kAXMenuBarAttribute,
-                                                (CFTypeRef*)&menubars_ref);
-  if (error == kAXErrorSuccess) {
-    error = AXUIElementCopyAttributeValue(menubars_ref,
-                                          kAXVisibleChildrenAttribute,
-                                          (CFTypeRef*)&children_ref   );
-
-    if (error == kAXErrorSuccess) {
-      uint32_t count = CFArrayGetCount(children_ref);
-
-      for (int i = 1; i < count; i++) {
-        AXUIElementRef item = CFArrayGetValueAtIndex(children_ref, i);
-        CFTypeRef title = ax_get_title(item);
-
-        if (title) {
-          uint32_t buffer_len = 2*CFStringGetLength(title);
-          char buffer[2*CFStringGetLength(title)];
-          CFStringGetCString(title, buffer, buffer_len, kCFStringEncodingUTF8);
-          printf("%s\n", buffer);
-          CFRelease(title);
-        }
-      }
-    }
-    if (menubars_ref) CFRelease(menubars_ref);
-    if (children_ref) CFRelease(children_ref);
-  }
-}
-
-AXUIElementRef ax_get_extra_menu_item(char* alias) {
-  pid_t pid = 0;
-  CGRect bounds = CGRectNull;
-  CFArrayRef window_list = CGWindowListCopyWindowInfo(kCGWindowListOptionAll,
-                                                      kCGNullWindowID        );
-  char owner_buffer[256];
-  char name_buffer[256];
-  char buffer[512];
-  int window_count = CFArrayGetCount(window_list);
-  for (int i = 0; i < window_count; ++i) {
-    CFDictionaryRef dictionary = CFArrayGetValueAtIndex(window_list, i);
-    if (!dictionary) continue;
-
-    CFStringRef owner_ref = CFDictionaryGetValue(dictionary,
-                                                 kCGWindowOwnerName);
-
-    CFNumberRef owner_pid_ref = CFDictionaryGetValue(dictionary,
-                                                     kCGWindowOwnerPID);
-
-    CFStringRef name_ref = CFDictionaryGetValue(dictionary, kCGWindowName);
-    CFNumberRef layer_ref = CFDictionaryGetValue(dictionary, kCGWindowLayer);
-    CFDictionaryRef bounds_ref = CFDictionaryGetValue(dictionary,
-                                                      kCGWindowBounds);
-
-    if (!name_ref || !owner_ref || !owner_pid_ref || !layer_ref || !bounds_ref)
-      continue;
-
-    long long int layer = 0;
-    CFNumberGetValue(layer_ref, CFNumberGetType(layer_ref), &layer);
-    uint64_t owner_pid = 0;
-    CFNumberGetValue(owner_pid_ref,
-                     CFNumberGetType(owner_pid_ref),
-                     &owner_pid                     );
-
-    if (layer != 0x19) continue;
-    bounds = CGRectNull;
-    if (!CGRectMakeWithDictionaryRepresentation(bounds_ref, &bounds)) continue;
-    CFStringGetCString(owner_ref,
-                       owner_buffer,
-                       sizeof(owner_buffer),
-                       kCFStringEncodingUTF8);
-
-    CFStringGetCString(name_ref,
-                       name_buffer,
-                       sizeof(name_buffer),
-                       kCFStringEncodingUTF8);
-    snprintf(buffer, sizeof(buffer), "%s,%s", owner_buffer, name_buffer);
-
-    if (strcmp(buffer, alias) == 0) {
-      pid = owner_pid;
-      break;
-    }
-  }
-  CFRelease(window_list);
-  if (!pid) return NULL;
-
-  AXUIElementRef app = AXUIElementCreateApplication(pid);
-  if (!app) return NULL;
-  AXUIElementRef result = NULL;
-  CFTypeRef extras = NULL;
-  CFArrayRef children_ref = NULL;
-  AXError error = AXUIElementCopyAttributeValue(app,
-                                                kAXExtrasMenuBarAttribute,
-                                                &extras                   );
-  if (error == kAXErrorSuccess) {
-    error = AXUIElementCopyAttributeValue(extras,
-                                          kAXVisibleChildrenAttribute,
-                                          (CFTypeRef*)&children_ref   );
-
-    if (error == kAXErrorSuccess) {
-      uint32_t count = CFArrayGetCount(children_ref);
-      for (uint32_t i = 0; i < count; i++) {
-        AXUIElementRef item = CFArrayGetValueAtIndex(children_ref, i);
-        CFTypeRef position_ref = NULL;
-        CFTypeRef size_ref = NULL;
-        AXUIElementCopyAttributeValue(item, kAXPositionAttribute,
-                                            &position_ref        );
-        AXUIElementCopyAttributeValue(item, kAXSizeAttribute,
-                                            &size_ref        );
-        if (!position_ref || !size_ref) continue;
-
-        CGPoint position = CGPointZero;
-        AXValueGetValue(position_ref, kAXValueCGPointType, &position);
-        CGSize size = CGSizeZero;
-        AXValueGetValue(size_ref, kAXValueCGSizeType, &size);
-        CFRelease(position_ref);
-        CFRelease(size_ref);
-        // The offset is exactly 8 on macOS Sonoma...
-        // printf("%f %f\n", position.x, bounds.origin.x);
-        if (error == kAXErrorSuccess
-            && fabs(position.x - bounds.origin.x) <= 10) {
-          result = item;
-          break;
-        }
-      }
-    }
-  }
-
-  CFRelease(app);
-  return result;
-}
-
-extern int SLSMainConnectionID();
-extern void SLSSetMenuBarVisibilityOverrideOnDisplay(int cid, int did, bool enabled);
-extern void SLSSetMenuBarVisibilityOverrideOnDisplay(int cid, int did, bool enabled);
-extern void SLSSetMenuBarInsetAndAlpha(int cid, double u1, double u2, float alpha);
-void ax_select_menu_extra(char* alias) {
-  AXUIElementRef item = ax_get_extra_menu_item(alias);
-  if (!item) return;
-  SLSSetMenuBarInsetAndAlpha(SLSMainConnectionID(), 0, 1, 0.0);
-  SLSSetMenuBarVisibilityOverrideOnDisplay(SLSMainConnectionID(), 0, true);
-  SLSSetMenuBarInsetAndAlpha(SLSMainConnectionID(), 0, 1, 0.0);
-  ax_perform_click(item);
-  SLSSetMenuBarVisibilityOverrideOnDisplay(SLSMainConnectionID(), 0, false);
-  SLSSetMenuBarInsetAndAlpha(SLSMainConnectionID(), 0, 1, 1.0);
-  CFRelease(item);
-}
-
-extern void _SLPSGetFrontProcess(ProcessSerialNumber* psn);
-extern void SLSGetConnectionIDForPSN(int cid, ProcessSerialNumber* psn, int* cid_out);
-extern void SLSConnectionGetPID(int cid, pid_t* pid_out);
-AXUIElementRef ax_get_front_app() {
-  ProcessSerialNumber psn;
-  _SLPSGetFrontProcess(&psn);
-  int target_cid;
-  SLSGetConnectionIDForPSN(SLSMainConnectionID(), &psn, &target_cid);
-
-  pid_t pid;
-  SLSConnectionGetPID(target_cid, &pid);
-  return AXUIElementCreateApplication(pid);
-}
-
-int main (int argc, char **argv) {
-  if (argc == 1) {
-    printf("Usage: %s [-l | -s id/alias ]\n", argv[0]);
-    exit(0);
-  }
-  ax_init();
-  if (strcmp(argv[1], "-l") == 0) {
-    AXUIElementRef app = ax_get_front_app();
-    if (!app) return 1;
-    ax_print_menu_options(app);
-    CFRelease(app);
-  } else if (argc == 3 && strcmp(argv[1], "-s") == 0) {
-    int id = 0;
-    if (sscanf(argv[2], "%d", &id) == 1) {
-      AXUIElementRef app = ax_get_front_app();
-      if (!app) return 1;
-      ax_select_menu_option(app, id);
-      CFRelease(app);
-    } else ax_select_menu_extra(argv[2]);
-  }
-  return 0;
-}
diff --git a/home-manager/modules/sketchybar/icons.lua b/home-manager/modules/sketchybar/icons.lua
deleted file mode 100644
index 5776205..0000000
--- a/home-manager/modules/sketchybar/icons.lua
+++ /dev/null
@@ -1,67 +0,0 @@
-local settings = require "settings"
-
-local icons = {
-  nerdfont = {
-    plus = "􀅼",
-    loading = "􀖇",
-    apple = "􀣺", --󱚞
-    gear = "􀍟",
-    cpu = "󰒆",
-    clipboard = "􀉄",
-    music = "􀑪",
-    calendar = "􀐫",
-    message = "􁋬",
-    separators = {
-      left = "",
-      right = "",
-    },
-    space_indicator = {
-      on = "󰄯",
-      off = "󰄰",
-    },
-
-    switch = {
-      on = "􁏮",
-      off = "􁏯",
-    },
-    volume = {
-      _100 = "􀊨",
-      _66 = "􀊦",
-      _33 = "􀊤",
-      _10 = "􀊠",
-      _0 = "􀊢",
-    },
-    battery = {
-      _100 = "􀛨",
-      _75 = "􀺸",
-      _50 = "􀺶",
-      _25 = "􀛩",
-      _0 = "􀛪",
-      charging = "􀢋",
-    },
-    wifi = {
-      upload = "􀄨",
-      download = "􀄩",
-      connected = "􀙇",
-      disconnected = "􀙈",
-      router = "􁓤",
-      vpn = "󰌾",
-      test = "",
-    },
-    media = {
-      back = "􀊊",
-      forward = "􀊌",
-      play_pause = "",
-    },
-    ramicons = {
-      swap = "󰁄",
-      ram = "󰍛",
-    },
-  },
-}
-
-if not (settings.icons == "NerdFont") then
-  return icons.sf_symbols
-else
-  return icons.nerdfont
-end
diff --git a/home-manager/modules/sketchybar/init.lua b/home-manager/modules/sketchybar/init.lua
deleted file mode 100644
index f1b9497..0000000
--- a/home-manager/modules/sketchybar/init.lua
+++ /dev/null
@@ -1,16 +0,0 @@
--- Require the sketchybar module
-sbar = require "sketchybar"
-
--- Set the bar name, if you are using another bar instance than sketchybar
--- sbar.set_bar_name("bottom_bar")
-
--- Bundle the entire initial configuration into a single message to sketchybar
-sbar.begin_config()
-require "bar"
-require "default"
-require "items"
-sbar.end_config()
-
--- Run the event loop of the sketchybar module (without this there will be no
--- callback functions executed in the lua module)
-sbar.event_loop()
diff --git a/home-manager/modules/sketchybar/items/.luarc.json b/home-manager/modules/sketchybar/items/.luarc.json
deleted file mode 100644
index 4a88dec..0000000
--- a/home-manager/modules/sketchybar/items/.luarc.json
+++ /dev/null
@@ -1,3 +0,0 @@
-{
-  "diagnostics.globals": ["sbar"]
-}
diff --git a/home-manager/modules/sketchybar/items/apple.lua b/home-manager/modules/sketchybar/items/apple.lua
deleted file mode 100644
index 81fd4f4..0000000
--- a/home-manager/modules/sketchybar/items/apple.lua
+++ /dev/null
@@ -1,39 +0,0 @@
-local colors = require("colors").sections
-local icons = require "icons"
-
-local apple = sbar.add("item", {
-  icon = {
-    font = { size = 16 },
-    string = icons.apple,
-    padding_right = 15,
-    padding_left = 15,
-    color = colors.apple,
-  },
-  label = { drawing = false },
-  click_script = "$CONFIG_DIR/helpers/menus/bin/menus -s 0",
-})
-
-apple:subscribe("mouse.clicked", function()
-  sbar.animate("tanh", 8, function()
-    apple:set {
-      background = {
-        shadow = {
-          distance = 0,
-        },
-      },
-      y_offset = -4,
-      padding_left = 8,
-      padding_right = 0,
-    }
-    apple:set {
-      background = {
-        shadow = {
-          distance = 4,
-        },
-      },
-      y_offset = 0,
-      padding_left = 4,
-      padding_right = 4,
-    }
-  end)
-end)
diff --git a/home-manager/modules/sketchybar/items/calendar.lua b/home-manager/modules/sketchybar/items/calendar.lua
deleted file mode 100644
index 8eb71ab..0000000
--- a/home-manager/modules/sketchybar/items/calendar.lua
+++ /dev/null
@@ -1,53 +0,0 @@
-local icons = require "icons"
-local colors = require("colors").sections.calendar
-local settings = require "settings"
-
-local cal = sbar.add("item", {
-  icon = {
-    padding_left = 8,
-    padding_right = 4,
-    font = {
-      family = settings.font.numbers,
-      style = settings.font.style_map["Medium"],
-    },
-  },
-  label = {
-    color = colors.label,
-    align = "left",
-    padding_right = 8,
-  },
-  padding_left = 10,
-  position = "right",
-  update_freq = 30,
-  click_script = "open -a 'Calendar'",
-})
-
-cal:subscribe("mouse.clicked", function()
-  sbar.animate("tanh", 8, function()
-    cal:set {
-      background = {
-        shadow = {
-          distance = 0,
-        },
-      },
-      y_offset = -4,
-      padding_left = 14,
-      padding_right = 0,
-    }
-    cal:set {
-      background = {
-        shadow = {
-          distance = 4,
-        },
-      },
-      y_offset = 0,
-      padding_left = 10,
-      padding_right = 4,
-    }
-  end)
-end)
-
--- english date
-cal:subscribe({ "forced", "routine", "system_woke" }, function(env)
-  cal:set { icon = os.date "%a %b %d %H:%M", label = icons.calendar }
-end)
diff --git a/home-manager/modules/sketchybar/items/init.lua b/home-manager/modules/sketchybar/items/init.lua
deleted file mode 100644
index fbf1332..0000000
--- a/home-manager/modules/sketchybar/items/init.lua
+++ /dev/null
@@ -1,9 +0,0 @@
---left
-require "items.apple"
-require "items.spaces"
-require "items.menus"
-
---right (reverse order)
-require "items.calendar"
-require "items.widgets"
-require "items.media"
diff --git a/home-manager/modules/sketchybar/items/media.lua b/home-manager/modules/sketchybar/items/media.lua
deleted file mode 100644
index 92bcbaa..0000000
--- a/home-manager/modules/sketchybar/items/media.lua
+++ /dev/null
@@ -1,90 +0,0 @@
-local icons = require "icons"
-local colors = require("colors").sections.media
-
-local whitelist = { ["YouTube Music"] = true, ["Twilight"] = true }
-
-local media_playback = sbar.add("item", {
-  position = "right",
-  icon = {
-    max_chars = 30,
-    padding_left = 8,
-    string = "",
-    y_offset = 1,
-    highlight_color = colors.highlight,
-  },
-  label = {
-    string = icons.separators.left .. " " .. icons.music,
-    padding_right = 8,
-    color = colors.label,
-  },
-  popup = {
-    horizontal = true,
-    align = "center",
-    y_offset = 2,
-  },
-  padding_right = 8,
-})
-
-sbar.add("item", {
-  position = "popup." .. media_playback.name,
-  padding_left = 6,
-  padding_right = 6,
-  icon = { string = icons.media.back },
-  label = { drawing = false },
-  background = { drawing = false },
-  click_script = "nowplaying-cli previous",
-})
-sbar.add("item", {
-  position = "popup." .. media_playback.name,
-  padding_left = 6,
-  padding_right = 6,
-  icon = { string = icons.media.play_pause },
-  label = { drawing = false },
-  background = { drawing = false },
-  click_script = "nowplaying-cli togglePlayPause",
-})
-sbar.add("item", {
-  position = "popup." .. media_playback.name,
-  padding_left = 6,
-  padding_right = 6,
-  icon = { string = icons.media.forward },
-  label = { drawing = false },
-  background = { drawing = false },
-  click_script = "nowplaying-cli next",
-})
-
-media_playback:subscribe("media_change", function(env)
-  if whitelist[env.INFO.app] then
-    local playing = (env.INFO.state == "playing")
-    media_playback:set {
-      drawing = true,
-      icon = { string = env.INFO.title .. " - " .. env.INFO.artist, highlight = playing },
-    }
-  end
-end)
-
-media_playback:subscribe("mouse.clicked", function(_)
-  sbar.animate("tanh", 8, function()
-    media_playback:set {
-      background = {
-        shadow = {
-          distance = 0,
-        },
-      },
-      y_offset = -4,
-      padding_left = 8,
-      padding_right = 4,
-    }
-    media_playback:set {
-      background = {
-        shadow = {
-          distance = 4,
-        },
-      },
-      y_offset = 0,
-      padding_left = 4,
-      padding_right = 8,
-    }
-  end)
-  media_playback:set { popup = { drawing = "toggle" } }
-end)
diff --git a/home-manager/modules/sketchybar/items/menus.lua b/home-manager/modules/sketchybar/items/menus.lua
deleted file mode 100644
index 7c4a9ec..0000000
--- a/home-manager/modules/sketchybar/items/menus.lua
+++ /dev/null
@@ -1,71 +0,0 @@
-local settings = require "settings"
-
-local menu_watcher = sbar.add("item", {
-  drawing = false,
-  updates = false,
-})
-local space_menu_swap = sbar.add("item", {
-  drawing = false,
-  updates = true,
-})
-sbar.add("event", "swap_menus_and_spaces")
-
-local max_items = 15
-local menu_items = {}
-for i = 1, max_items, 1 do
-  local menu = sbar.add("item", "menu." .. i, {
-    drawing = false,
-    icon = { drawing = false },
-    background = { drawing = false },
-    label = {
-      font = {
-        style = settings.font.style_map[i == 1 and "Medium" or "Italic"],
-      },
-      padding_left = 6,
-      padding_right = 6,
-    },
-    click_script = "$CONFIG_DIR/helpers/menus/bin/menus -s " .. i,
-  })
-
-  menu_items[i] = menu
-end
-
-sbar.add("bracket", { "/menu\\..*/" }, {})
-
-local menu_padding = sbar.add("item", "menu.padding", {
-  drawing = false,
-  width = 5,
-})
-
-local function update_menus(env)
-  sbar.exec("$CONFIG_DIR/helpers/menus/bin/menus -l", function(menus)
-    sbar.set("/menu\\..*/", { drawing = false })
-    menu_padding:set { drawing = true }
-    Id = 1
-    for menu in string.gmatch(menus, "[^\r\n]+") do
-      if Id < max_items then
-        menu_items[Id]:set { label = menu, drawing = true }
-      else
-        break
-      end
-      Id = Id + 1
-    end
-  end)
-end
-
-menu_watcher:subscribe("front_app_switched", update_menus)
-
-space_menu_swap:subscribe("swap_menus_and_spaces", function(env)
-  local drawing = menu_items[1]:query().geometry.drawing == "on"
-  if drawing then
-    menu_watcher:set { updates = false }
-    sbar.set("/menu\\..*/", { drawing = false })
-    sbar.set("/space\\..*/", { drawing = true })
-  else
-    menu_watcher:set { updates = true }
-    sbar.set("/space\\..*/", { drawing = false })
-    update_menus()
-  end
-end)
-
-return menu_watcher
diff --git a/home-manager/modules/sketchybar/items/spaces.lua b/home-manager/modules/sketchybar/items/spaces.lua
deleted file mode 100644
index 91e17dd..0000000
--- a/home-manager/modules/sketchybar/items/spaces.lua
+++ /dev/null
@@ -1,150 +0,0 @@
-local colors = require("colors").sections.spaces
-local icons = require "icons"
-local icon_map = require "helpers.icon_map"
-
-sbar.exec("aerospace list-workspaces --all", function(spaces)
-  for space_name in spaces:gmatch "[^\r\n]+" do
-    local space = sbar.add("item", "space." .. space_name, {
-      icon = {
-        string = space_name .. " " .. icons.separators.right,
-        color = colors.icon.color,
-        highlight_color = colors.label.highlight,
-        y_offset = 1,
-        padding_left = 8,
-        padding_right = 4,
-      },
-      label = {
-        font = "sketchybar-app-font:Regular:13.0",
-        string = "space",
-        color = colors.label.color,
-        highlight_color = colors.label.highlight,
-        y_offset = 0,
-        padding_right = 12,
-      },
-      click_script = "aerospace workspace " .. space_name,
-      padding_left = space_name == "1" and 0 or 4,
-    })
-
-    space:subscribe("aerospace_workspace_changed", function(env)
-      local selected = env.FOCUSED_WORKSPACE == space_name
-      space:set {
-        icon = { highlight = selected },
-        label = { highlight = selected },
-      }
-
-      if selected then
-        sbar.animate("tanh", 8, function()
-          space:set {
-            background = {
-              shadow = {
-                distance = 0,
-              },
-            },
-            y_offset = -4,
-            padding_left = 8,
-            padding_right = 0,
-          }
-          space:set {
-            background = {
-              shadow = {
-                distance = 4,
-              },
-            },
-            y_offset = 0,
-            padding_left = 4,
-            padding_right = 4,
-          }
-        end)
-      end
-    end)
-
-    space:subscribe("space_windows_change", function()
-      sbar.exec("aerospace list-windows --format %{app-name} --workspace " .. space_name, function(windows)
-        local no_app = true
-        local icon_line = ""
-        for app in windows:gmatch "[^\r\n]+" do
-          no_app = false
-          local lookup = icon_map[app]
-          local icon = ((lookup == nil) and icon_map["default"] or lookup)
-          icon_line = icon_line .. " " .. icon
-        end
-        sbar.animate("tanh", 10, function()
-          space:set { label = no_app and " —" or icon_line }
-        end)
-      end)
-    end)
-
-    space:subscribe("mouse.clicked", function()
-      sbar.animate("tanh", 8, function()
-        space:set {
-          background = {
-            shadow = {
-              distance = 0,
-            },
-          },
-          y_offset = -4,
-          padding_left = 8,
-          padding_right = 0,
-        }
-        space:set {
-          background = {
-            shadow = {
-              distance = 4,
-            },
-          },
-          y_offset = 0,
-          padding_left = 4,
-          padding_right = 4,
-        }
-      end)
-    end)
-  end
-end)
-
-local spaces_indicator = sbar.add("item", {
-  icon = {
-    padding_left = 8,
-    padding_right = 9,
-    string = icons.switch.on,
-    color = colors.indicator,
-  },
-  label = {
-    width = 0,
-    padding_left = 0,
-    padding_right = 8,
-  },
-  padding_right = 8,
-})
-
-spaces_indicator:subscribe("swap_menus_and_spaces", function()
-  local currently_on = spaces_indicator:query().icon.value == icons.switch.on
-  spaces_indicator:set {
-    icon = currently_on and icons.switch.off or icons.switch.on,
-  }
-end)
-
-spaces_indicator:subscribe("mouse.clicked", function()
-  sbar.animate("tanh", 8, function()
-    spaces_indicator:set {
-      background = {
-        shadow = {
-          distance = 0,
-        },
-      },
-      y_offset = -4,
-      padding_left = 8,
-      padding_right = 4,
-    }
-    spaces_indicator:set {
-      background = {
-        shadow = {
-          distance = 4,
-        },
-      },
-      y_offset = 0,
-      padding_left = 4,
-      padding_right = 8,
-    }
-  end)
-  sbar.trigger "swap_menus_and_spaces"
-end)
diff --git a/home-manager/modules/sketchybar/items/widgets/battery.lua b/home-manager/modules/sketchybar/items/widgets/battery.lua
deleted file mode 100644
index aa1ac5b..0000000
--- a/home-manager/modules/sketchybar/items/widgets/battery.lua
+++ /dev/null
@@ -1,85 +0,0 @@
-local icons = require "icons"
-local colors = require("colors").sections.widgets.battery
-
-local battery = sbar.add("item", "widgets.battery", {
-  position = "right",
-  icon = {},
-  label = { drawing = false },
-  background = { drawing = false },
-  padding_left = 12,
-  padding_right = 4,
-  update_freq = 180,
-  popup = { align = "center", y_offset = 4 },
-})
-
-local remaining_time = sbar.add("item", {
-  padding_right = 10,
-  position = "popup." .. battery.name,
-  icon = {
-    padding_left = 10,
-    string = "Time remaining:",
-    width = 100,
-    align = "left",
-  },
-  label = {
-    string = "??:??h",
-    width = 100,
-    align = "right",
-  },
-  background = { drawing = false },
-})
-
-battery:subscribe({ "routine", "power_source_change", "system_woke" }, function()
-  sbar.exec("pmset -g batt", function(batt_info)
-    local icon = "!"
-
-    local found, _, charge = batt_info:find "(%d+)%%"
-    if found then
-      charge = tonumber(charge)
-    end
-
-    local color = colors.high
-    local charging, _, _ = batt_info:find "AC Power"
-
-    if charging then
-      icon = icons.battery.charging
-    else
-      if found and charge > 80 then
-        icon = icons.battery._100
-      elseif found and charge > 60 then
-        icon = icons.battery._75
-      elseif found and charge > 40 then
-        icon = icons.battery._50
-      elseif found and charge > 30 then
-        icon = icons.battery._50
-        color = colors.mid
-      elseif found and charge > 20 then
-        icon = icons.battery._25
-        color = colors.mid
-      else
-        icon = icons.battery._0
-        color = colors.low
-      end
-    end
-
-    battery:set {
-      icon = {
-        string = icon,
-        color = color,
-      },
-    }
-  end)
-end)
-
-battery:subscribe("mouse.clicked", function()
-  local drawing = battery:query().popup.drawing
-  battery:set { popup = { drawing = "toggle" } }
-
-  if drawing == "off" then
-    sbar.exec("pmset -g batt", function(batt_info)
-      local found, _, remaining = batt_info:find " (%d+:%d+) remaining"
-      local label = found and remaining .. "h" or "NA"
-      remaining_time:set { label = label }
-    end)
-  end
-end)
diff --git a/home-manager/modules/sketchybar/items/widgets/init.lua b/home-manager/modules/sketchybar/items/widgets/init.lua
deleted file mode 100644
index c784497..0000000
--- a/home-manager/modules/sketchybar/items/widgets/init.lua
+++ /dev/null
@@ -1,10 +0,0 @@
--- require "items.widgets.messages"
-require "items.widgets.volume"
-require "items.widgets.wifi"
-require "items.widgets.battery"
-
-sbar.add("bracket", { "/widgets\\..*/" }, {})
-
-sbar.add("item", "widget.padding", {
-  width = 16,
-})
diff --git a/home-manager/modules/sketchybar/items/widgets/messages.lua b/home-manager/modules/sketchybar/items/widgets/messages.lua
deleted file mode 100644
index a71adc5..0000000
--- a/home-manager/modules/sketchybar/items/widgets/messages.lua
+++ /dev/null
@@ -1,41 +0,0 @@
-local icons = require "icons"
-local colors = require("colors").sections.widgets.messages
-
-local messages = sbar.add("item", "widgets.messages", {
-  position = "right",
-  icon = {
-    color = colors.icon,
-    string = icons.message,
-    padding_right = 4,
-  },
-  label = { drawing = false },
-  background = { drawing = false },
-  update_freq = 30,
-  padding_left = -4,
-})
-
-messages:subscribe({ "routine", "front_app_changed", "space_change", "space_windows_change" }, function(env)
-  sbar.exec(
-  -- requires full disk access
-    [[sqlite3 ~/Library/Messages/chat.db "SELECT COUNT(guid) FROM message WHERE NOT(is_read) AND NOT(is_from_me) AND text !=''"]],
-    function(newmess)
-      local mess = tonumber(newmess)
-      local drawing = false
-
-      if mess > 0 then
-        drawing = true
-      end
-
-      messages:set {
-        icon = {
-          drawing = drawing,
-        },
-        padding_right = drawing and 4 or 0,
-      }
-    end
-  )
-end)
-
-messages:subscribe("mouse.clicked", function(env)
-  sbar.exec "open -a 'Messages'"
-end)
diff --git a/home-manager/modules/sketchybar/items/widgets/volume.lua b/home-manager/modules/sketchybar/items/widgets/volume.lua
deleted file mode 100644
index 60c1699..0000000
--- a/home-manager/modules/sketchybar/items/widgets/volume.lua
+++ /dev/null
@@ -1,142 +0,0 @@
-local colors = require("colors").sections.widgets.volume
-local icons = require "icons"
-
-local popup_width = 300
-
-local volume_icon = sbar.add("item", "widgets.volume", {
-  position = "right",
-  icon = {
-    color = colors.icon,
-  },
-  label = { drawing = false },
-  background = { drawing = false },
-  popup = {
-    align = "center",
-    y_offset = 2,
-  },
-  padding_right = 12,
-})
-
-local volume_slider = sbar.add("slider", popup_width, {
-  position = "popup." .. volume_icon.name,
-  slider = {
-    highlight_color = colors.slider.highlight,
-    background = {
-      height = 12,
-      corner_radius = 6,
-      color = colors.slider.bg,
-      border_color = colors.slider.border,
-      border_width = 2,
-    },
-    knob = {
-      string = "􀀁",
-      drawing = true,
-    },
-  },
-  background = { color = colors.bg1, height = 2, y_offset = -20 },
-  click_script = 'osascript -e "set volume output volume $PERCENTAGE"',
-})
-
-volume_icon:subscribe("volume_change", function(env)
-  local icon = icons.volume._0
-  local volume = tonumber(env.INFO)
-  sbar.exec("SwitchAudioSource -t output -c", function(result)
-    if volume > 60 then
-      icon = icons.volume._100
-    elseif volume > 30 then
-      icon = icons.volume._66
-    elseif volume > 10 then
-      icon = icons.volume._33
-    elseif volume > 0 then
-      icon = icons.volume._10
-    end
-
-    volume_icon:set { icon = icon }
-    volume_slider:set { slider = { percentage = volume } }
-  end)
-end)
-
-local function volume_collapse_details()
-  local drawing = volume_icon:query().popup.drawing == "on"
-  if not drawing then
-    return
-  end
-  volume_icon:set { popup = { drawing = false } }
-  sbar.remove "/volume.device\\.*/"
-end
-
-local current_audio_device = "None"
-local function volume_toggle_details(env)
-  if env.BUTTON == "right" then
-    sbar.exec "open /System/Library/PreferencePanes/Sound.prefpane"
-    return
-  end
-
-  local should_draw = volume_icon:query().popup.drawing == "off"
-  if should_draw then
-    volume_icon:set { popup = { drawing = true } }
-    sbar.exec("SwitchAudioSource -t output -c", function(result)
-      current_audio_device = result:sub(1, -2)
-      sbar.exec("SwitchAudioSource -a -t output", function(available)
-        local current = current_audio_device
-        local color = colors.popup.item
-        local counter = 0
-
-        for device in string.gmatch(available, "[^\r\n]+") do
-          if current == device then
-            color = colors.popup.highlight
-          end
-          sbar.add("item", "volume.device." .. counter, {
-            position = "popup." .. volume_icon.name,
-            width = popup_width,
-            align = "center",
-            label = { string = device, color = color },
-            background = { drawing = false },
-            click_script = 'SwitchAudioSource -s "'
-                .. device
-                .. '" && sketchybar --set /volume.device\\.*/ label.color='
-                .. colors.popup.item
-                .. " --set $NAME label.color="
-                .. colors.popup.highlight,
-          })
-          counter = counter + 1
-        end
-      end)
-    end)
-  else
-    volume_collapse_details()
-  end
-end
-
-local function volume_scroll(env)
-  local delta = env.SCROLL_DELTA
-  sbar.exec('osascript -e "set volume output volume (output volume of (get volume settings) + ' .. delta .. ')"')
-end
-
-volume_icon:subscribe("mouse.clicked", function(env)
-  volume_toggle_details(env)
-  -- sbar.animate("tanh", 8, function()
-  -- 	volume_icon:set({
-  -- 		background = {
-  -- 			shadow = {
-  -- 				distance = 0,
-  -- 			},
-  -- 		},
-  -- 		y_offset = -4,
-  -- 		padding_left = 8,
-  -- 		padding_right = 0,
-  -- 	})
-  -- 	volume_icon:set({
-  -- 		background = {
-  -- 			shadow = {
-  -- 				distance = 4,
-  -- 			},
-  -- 		},
-  -- 		y_offset = 0,
-  -- 		padding_left = 4,
-  -- 		padding_right = 4,
-  -- 	})
-  -- end)
-end)
-
-volume_icon:subscribe("mouse.scrolled", volume_scroll)
diff --git a/home-manager/modules/sketchybar/items/widgets/wifi.lua b/home-manager/modules/sketchybar/items/widgets/wifi.lua
deleted file mode 100644
index 0ddb240..0000000
--- a/home-manager/modules/sketchybar/items/widgets/wifi.lua
+++ /dev/null
@@ -1,185 +0,0 @@
-local icons = require "icons"
-local colors = require("colors").sections.widgets.wifi
-
--- Execute the event provider binary which provides the event "network_update"
--- for the network interface "en0", which is fired every 2.0 seconds.
-sbar.exec "killall network_load >/dev/null; $CONFIG_DIR/helpers/event_providers/network_load/bin/network_load en0 network_update 2.0"
-
-local popup_width = 250
-
-local wifi = sbar.add("item", "widgets.wifi", {
-  position = "right",
-  icon = {
-    color = colors.icon,
-  },
-  label = { drawing = false },
-  background = { drawing = false },
-  popup = {
-    align = "center",
-    height = 30,
-    y_offset = 2,
-  },
-  padding_left = 4,
-  padding_right = 4,
-})
-
-local ssid = sbar.add("item", {
-  position = "popup." .. wifi.name,
-  padding_left = 10,
-  padding_right = 10,
-  icon = {
-    align = "left",
-    string = "SSID:",
-    width = popup_width / 2,
-  },
-  label = {
-    string = "???.???.???.???",
-    width = popup_width / 2,
-    align = "right",
-  },
-  background = { drawing = false },
-})
-
-local ip = sbar.add("item", {
-  position = "popup." .. wifi.name,
-  padding_left = 10,
-  padding_right = 10,
-  icon = {
-    align = "left",
-    string = "IP:",
-    width = popup_width / 2,
-  },
-  label = {
-    string = "???.???.???.???",
-    width = popup_width / 2,
-    align = "right",
-  },
-  background = { drawing = false },
-})
-
-local mask = sbar.add("item", {
-  position = "popup." .. wifi.name,
-  padding_left = 10,
-  padding_right = 10,
-  icon = {
-    align = "left",
-    string = "Subnet mask:",
-    width = popup_width / 2,
-  },
-  label = {
-    string = "???.???.???.???",
-    width = popup_width / 2,
-    align = "right",
-  },
-  background = { drawing = false },
-})
-
-local router = sbar.add("item", {
-  position = "popup." .. wifi.name,
-  padding_left = 10,
-  padding_right = 10,
-  icon = {
-    align = "left",
-    string = "Router:",
-    width = popup_width / 2,
-  },
-  label = {
-    string = "???.???.???.???",
-    width = popup_width / 2,
-    align = "right",
-  },
-  background = { drawing = false },
-})
-
-wifi:subscribe({ "wifi_change", "system_woke" }, function(env)
-  sbar.exec([[ipconfig getsummary en0 | awk -F ' SSID : '  '/ SSID : / {print $2}']], function(wifi_name)
-    local connected = not (wifi_name == "")
-    wifi:set {
-      icon = {
-        string = connected and icons.wifi.connected or icons.wifi.disconnected,
-      },
-    }
-    -- VPN icon
-    sbar.exec([[sleep 2; scutil --nwi | grep -m1 'utun' | awk '{ print $1 }']], function(vpn)
-      local vpnconnected = not (vpn == "")
-      if vpnconnected then
-        Wifi_icon = icons.wifi.vpn
-        Wifi_color = colors.green
-      end
-
-      wifi:set {
-        icon = {
-          string = Wifi_icon,
-          color = Wifi_color,
-        },
-      }
-    end)
-  end)
-end)
-
-local function hide_details()
-  wifi:set { popup = { drawing = false } }
-end
-
-local function toggle_details()
-  local should_draw = wifi:query().popup.drawing == "off"
-  if should_draw then
-    wifi:set { popup = { drawing = true } }
-    sbar.exec("ipconfig getsummary en0 | awk -F ' SSID : '  '/ SSID : / {print $2}'", function(result)
-      ssid:set { label = result }
-    end)
-    sbar.exec("ipconfig getifaddr en0", function(result)
-      ip:set { label = result }
-    end)
-    sbar.exec("networksetup -getinfo Wi-Fi | awk -F 'Subnet mask: ' '/^Subnet mask: / {print $2}'", function(result)
-      mask:set { label = result }
-    end)
-    sbar.exec("networksetup -getinfo Wi-Fi | awk -F 'Router: ' '/^Router: / {print $2}'", function(result)
-      router:set { label = result }
-    end)
-  else
-    hide_details()
-  end
-end
-
-wifi:subscribe("mouse.clicked", function()
-  -- sbar.animate("tanh", 8, function()
-  -- 	wifi:set({
-  -- 		background = {
-  -- 			shadow = {
-  -- 				distance = 0,
-  -- 			},
-  -- 		},
-  -- 		y_offset = -4,
-  -- 		padding_left = 8,
-  -- 		padding_right = 0,
-  -- 	})
-  -- 	wifi:set({
-  -- 		background = {
-  -- 			shadow = {
-  -- 				distance = 4,
-  -- 			},
-  -- 		},
-  -- 		y_offset = 0,
-  -- 		padding_left = 4,
-  -- 		padding_right = 4,
-  -- 	})
-  -- end)
-  toggle_details()
-end)
-
--- wifi:subscribe("mouse.exited.global", hide_details)
-
-local function copy_label_to_clipboard(env)
-  local label = sbar.query(env.NAME).label.value
-  sbar.exec('echo "' .. label .. '" | pbcopy')
-  sbar.set(env.NAME, { label = { string = icons.clipboard, align = "center" } })
-  sbar.delay(1, function()
-    sbar.set(env.NAME, { label = { string = label, align = "right" } })
-  end)
-end
-
-ssid:subscribe("mouse.clicked", copy_label_to_clipboard)
-ip:subscribe("mouse.clicked", copy_label_to_clipboard)
-mask:subscribe("mouse.clicked", copy_label_to_clipboard)
-router:subscribe("mouse.clicked", copy_label_to_clipboard)
diff --git a/home-manager/modules/sketchybar/settings.lua b/home-manager/modules/sketchybar/settings.lua
deleted file mode 100644
index ac79ac2..0000000
--- a/home-manager/modules/sketchybar/settings.lua
+++ /dev/null
@@ -1,8 +0,0 @@
-return {
-  paddings = 2,
-  group_paddings = 5,
-
-  icons = "NerdFont", -- alternatively available: NerdFont
-
-  font = require "helpers.default_font",
-}
diff --git a/home-manager/modules/sketchybar/sketchybar.nix b/home-manager/modules/sketchybar/sketchybar.nix
deleted file mode 100644
index 28a94b7..0000000
--- a/home-manager/modules/sketchybar/sketchybar.nix
+++ /dev/null
@@ -1,32 +0,0 @@
-{
-  inputs,
-  system,
-  pkgs,
-  ...
-}:
-{
-  home.file = {
-    ".config/sketchybar" = {
-      source = ./.;
-      recursive = true;
-      onChange = "${pkgs.sketchybar}/bin/sketchybar --reload";
-    };
-    ".local/share/sketchybar_lua/sketchybar.so" = {
-      source = "${inputs.sbarlua.packages."${system}".sbarlua}/lib/sketchybar.so";
-      onChange = "${pkgs.sketchybar}/bin/sketchybar --reload";
-    };
-    ".config/sketchybar/sketchybarrc" = {
-      text = ''
-        #!/usr/bin/env ${pkgs.lua54Packages.lua}/bin/lua
-        -- Load the sketchybar-package and prepare the helper binaries
-        require("helpers")
-        require("init")
-
-        -- Enable hot reloading
-        sbar.exec("sketchybar --hotload true")
-      '';
-      executable = true;
-      onChange = "${pkgs.sketchybar}/bin/sketchybar --reload";
-    };
-  };
-}
diff --git a/home-manager/modules/sketchybar/stylua.toml b/home-manager/modules/sketchybar/stylua.toml
deleted file mode 100644
index ecb6dca..0000000
--- a/home-manager/modules/sketchybar/stylua.toml
+++ /dev/null
@@ -1,6 +0,0 @@
-column_width = 120
-line_endings = "Unix"
-indent_type = "Spaces"
-indent_width = 2
-quote_style = "AutoPreferDouble"
-call_parentheses = "None"
diff --git a/home-manager/modules/ssh.nix b/home-manager/modules/ssh.nix
index e691507..5a3ce27 100644
--- a/home-manager/modules/ssh.nix
+++ b/home-manager/modules/ssh.nix
@@ -18,3 +18,2 @@ in {
   };
-  home.packages = with pkgs; [ mosh ];
 }
diff --git a/home-manager/modules/starship.nix b/home-manager/modules/starship.nix
index 3d774d9..fe75c2e 100644
--- a/home-manager/modules/starship.nix
+++ b/home-manager/modules/starship.nix
@@ -7,2 +7,3 @@
     enableFishIntegration = true;
+    enableZshIntegration = true;
     settings = {
diff --git a/home-manager/modules/tmux.nix b/home-manager/modules/tmux.nix
index 7506459..b9f363d 100644
--- a/home-manager/modules/tmux.nix
+++ b/home-manager/modules/tmux.nix
@@ -120,9 +120,2 @@
       {
-        # plugin = (pkgs.tmuxPlugins.resurrect.overrideAttrs (oldAttrs: {
-        #   postFixup = (oldAttrs.postFixup or "") + ''
-        #     rm -rf $out/share/tmux-plugins/resurrect/tests
-        #     rm -f $out/share/tmux-plugins/resurrect/run_tests
-        #   '';
-        # }));
-
         plugin = pkgs.tmuxPlugins.resurrect;
diff --git a/home-manager/modules/wayland/anyrun/default.nix b/home-manager/modules/wayland/anyrun/default.nix
deleted file mode 100644
index a99ee9f..0000000
--- a/home-manager/modules/wayland/anyrun/default.nix
+++ /dev/null
@@ -1,39 +0,0 @@
-{ pkgs, inputs, ... }: {
-  programs.anyrun = {
-    enable = true;
-    config = {
-      plugins = with inputs.anyrun.packages.${pkgs.system}; [
-        applications
-        shell
-        symbols
-        translate
-        rink
-        websearch
-        stdin
-      ];
-
-      width.fraction = 0.25;
-      y.fraction = 0.3;
-      hidePluginInfo = true;
-      closeOnClick = true;
-    };
-
-    extraCss = builtins.readFile (./. + "/style-dark.css");
-
-    extraConfigFiles = {
-      "applications.ron".text = ''
-        Config(
-          desktop_actions: false,
-          max_entries: 5,
-          terminal: Some("ghostty"),
-        )
-      '';
-
-      "shell.ron".text = ''
-        Config(
-          prefix: ">"
-        )
-      '';
-    };
-  };
-}
diff --git a/home-manager/modules/wayland/anyrun/style-dark.css b/home-manager/modules/wayland/anyrun/style-dark.css
deleted file mode 100644
index e26cfe6..0000000
--- a/home-manager/modules/wayland/anyrun/style-dark.css
+++ /dev/null
@@ -1,51 +0,0 @@
-* {
-	all: unset;
-	font-size: 1.2rem;
-}
-
-#window,
-#match,
-#entry,
-#plugin,
-#main {
-	background: transparent;
-}
-
-#match.activatable {
-	border-radius: 8px;
-	margin: 4px 0;
-	padding: 4px;
-	transition: 100ms ease-out;
-}
-
-#match.activatable:first-child {
-	margin-top: 12px;
-}
-
-#match.activatable:last-child {
-	margin-bottom: 0;
-}
-
-#match:hover {
-	background: rgba(40, 40, 40, 0.9);
-}
-
-#match:selected {
-	background: rgba(60, 60, 60, 0.95);
-}
-
-#entry {
-	background: rgba(30, 30, 30, 0.95);
-	border: 1px solid rgba(255, 255, 255, 0.2);
-	border-radius: 8px;
-	padding: 4px 8px;
-}
-
-box#main {
-	background: rgba(20, 20, 20, 0.95);
-	box-shadow:
-		inset 0 0 0 1px rgba(255, 255, 255, 0.15),
-		0 30px 30px 15px rgba(0, 0, 0, 0.3);
-	border-radius: 20px;
-	padding: 12px;
-}
diff --git a/home-manager/modules/wayland/default.nix b/home-manager/modules/wayland/default.nix
deleted file mode 100644
index 72ad869..0000000
--- a/home-manager/modules/wayland/default.nix
+++ /dev/null
@@ -1,5 +0,0 @@
-{ pkgs, ... }: {
-  imports = [ ./hyprland ./anyrun ./dunst.nix ./niri.nix ./waybar.nix ];
-
-  home.packages = with pkgs; [ glib wlroots xwayland libinput ];
-}
diff --git a/home-manager/modules/wayland/dunst.nix b/home-manager/modules/wayland/dunst.nix
deleted file mode 100644
index 8026008..0000000
--- a/home-manager/modules/wayland/dunst.nix
+++ /dev/null
@@ -1,117 +0,0 @@
-{ ... }:
-
-let
-  catppuccin = {
-    rosewater = "#f5e0dc";
-    flamingo = "#f2cdcd";
-    pink = "#f5c2e7";
-    mauve = "#cba6f7";
-    red = "#f38ba8";
-    maroon = "#eba0ac";
-    peach = "#fab387";
-    yellow = "#f9e2af";
-    green = "#a6e3a1";
-    teal = "#94e2d5";
-    sky = "#89dceb";
-    sapphire = "#74c7ec";
-    blue = "#89b4fa";
-    lavender = "#b4befe";
-    text = "#cdd6f4";
-    subtext1 = "#bac2de";
-    subtext0 = "#a6adc8";
-    overlay2 = "#9399b2";
-    overlay1 = "#7f849c";
-    overlay0 = "#6c7086";
-    surface2 = "#585b70";
-    surface1 = "#45475a";
-    surface0 = "#313244";
-    base = "#1e1e2e";
-    mantle = "#181825";
-    crust = "#11111b";
-  };
-in {
-  services.dunst = {
-    enable = true;
-    settings = {
-      global = {
-        font = "JetBrainsMono Nerd Font Medium 10";
-        format = ''
-          %I <b>%s</b>
-          %b'';
-
-        markup = "full";
-        word_wrap = true;
-        alignment = "left";
-        vertical_alignment = "center";
-
-        # --- Geometry & Positioning ---
-        geometry = "300x5-30+60";
-        origin = "top_right";
-        notification_limit = 5;
-
-        # --- Padding & Frame ---
-        padding = 10;
-        horizontal_padding = 10;
-        frame_width = 2;
-        separator_height = 1;
-        corner_radius = 12;
-
-        # --- Colors & Transparency ---
-        background = catppuccin.base;
-        foreground = catppuccin.text;
-        frame_color = catppuccin.surface0;
-        separator_color = catppuccin.surface0;
-        transparency = 15;
-
-        # --- Icons ---
-        icon_position = "left";
-        max_icon_size = 32;
-
-        # --- Behavior ---
-        follow = "mouse";
-        sticky_history = true;
-        history_length = 20;
-        show_indicators = false;
-        line_height = 0;
-        shrink = "no";
-        sort = "yes";
-
-        # --- Mouse & Keyboard ---
-        browser = "google-chrome-stable";
-        dmenu = "anyrun";
-        mouse_left_click = "close_current";
-        mouse_middle_click = "do_action";
-        mouse_right_click = "close_all";
-      };
-
-      # --- Urgency Levels ---
-      urgency_low = {
-        background = catppuccin.base;
-        foreground = catppuccin.text;
-        frame_color = catppuccin.green;
-        timeout = 5;
-      };
-      urgency_normal = {
-        background = catppuccin.base;
-        foreground = catppuccin.text;
-        frame_color = catppuccin.blue;
-        timeout = 10;
-      };
-      urgency_critical = {
-        background = catppuccin.base;
-        foreground = catppuccin.red;
-        frame_color = catppuccin.red;
-        timeout = 0;
-      };
-
-      # --- Shortcuts (Сохранены твои) ---
-      shortcuts = {
-        context = "mod4+grave";
-        close = "mod4+shift+space";
-        close_all = "mod4+ctrl+space";
-        history = "mod4+h";
-        do_action = "mod4+a";
-      };
-    };
-  };
-}
diff --git a/home-manager/modules/wayland/hyprland/config.nix b/home-manager/modules/wayland/hyprland/config.nix
deleted file mode 100644
index 082d9df..0000000
--- a/home-manager/modules/wayland/hyprland/config.nix
+++ /dev/null
@@ -1,244 +0,0 @@
-{ config, pkgs, ... }: {
-  wayland.windowManager.hyprland = {
-    enable = true;
-    package = config.lib.nixGL.wrap pkgs.hyprland;
-    systemd.enable = true;
-    systemd.variables = [ "--all" ];
-    xwayland.enable = true;
-    settings = {
-      monitor = [
-        "eDP-1, 2560x1600@120, auto, 1.25"
-        "HDMI-A-1, 2560x1440@144, auto, 1,bitdepth, 10, cm, wide"
-      ];
-      general = {
-        gaps_in = 5;
-        gaps_out = 14;
-        border_size = 1;
-        layout = "dwindle";
-      };
-
-      dwindle = {
-        pseudotile = true;
-        preserve_split = true;
-        special_scale_factor = 0.9;
-        smart_split = false;
-      };
-
-      master = {
-        smart_resizing = true;
-        new_on_active = true;
-        drop_at_cursor = true;
-        special_scale_factor = 0.9;
-      };
-
-      misc = {
-        vfr = true;
-        vrr = 1;
-        animate_manual_resizes = true;
-        animate_mouse_windowdragging = false;
-        enable_swallow = false;
-        swallow_regex =
-          "(foot|allacritty|Alacritty|wzterm|com.mitchellh.ghostty)";
-        disable_splash_rendering = true;
-        disable_hyprland_logo = true;
-        force_default_wallpaper = 0;
-        new_window_takes_over_fullscreen = 2;
-        allow_session_lock_restore = true;
-        initial_workspace_tracking = false;
-        key_press_enables_dpms = true;
-        mouse_move_enables_dpms = true;
-        focus_on_activate = false;
-      };
-
-      gestures = {
-        workspace_swipe = true;
-        workspace_swipe_distance = 700;
-        workspace_swipe_fingers = 3;
-        workspace_swipe_cancel_ratio = 0.2;
-        workspace_swipe_min_speed_to_force = 5;
-        workspace_swipe_direction_lock = true;
-        workspace_swipe_direction_lock_threshold = 10;
-        workspace_swipe_create_new = true;
-      };
-
-      xwayland = { force_zero_scaling = true; };
-      layerrule = [ "blur ,gtk-layer-shell" "ignorezero ,gtk-layer-shell" ];
-      windowrule = [ "noanim, floating:1" ];
-
-      input = {
-        kb_layout = "us, ru";
-        kb_options = "grp:caps_toggle";
-        follow_mouse = 1;
-        repeat_rate = 60;
-        repeat_delay = 260;
-        touchpad = {
-          natural_scroll = true;
-          disable_while_typing = true;
-          drag_lock = false;
-          tap-and-drag = false;
-        };
-        sensitivity = 0;
-        force_no_accel = false;
-      };
-
-      env = [
-        "TERM,ghostty"
-        "WLR_DRM_NO_ATOMIC,1"
-        "XDG_CURRENT_DESKTOP,Hyprland"
-        "XDG_SESSION_TYPE,wayland"
-        "XDG_SESSION_DESKTOP,Hyprland"
-
-        "QT_QPA_PLATFORM,wayland;xcb"
-        "QT_WAYLAND_DISABLE_WINDOWDECORATION,1"
-        "QT_AUTO_SCREEN_SCALE_FACTOR,1"
-        "QT_QPA_PLATFORMTHEME,qt5ct"
-        "QT_SCALE_FACTOR_ROUNDING_POLICY,RoundPreferFloor"
-        "QT_WAYLAND_DISABLED_INTERFACES,wp_fractional_scale_manager_v1"
-
-        "WLR_DRM_NO_ATOMIC,1"
-        "MOZ_ENABLE_WAYLAND,1"
-        "GDK_SCALE,1"
-        "SDL_VIDEODRIVER,wayland"
-        "ELECTRON_ENABLE_WAYLAND,1"
-        "ELECTRON_OZONE_PLATFORM_HINT,wayland"
-        "WINIT_UNIX_BACKEND,wayland"
-        "WLR_RENDERER,vulkan"
-        "WLR_RENDERER_ALLOW_SOFTWARE,1"
-
-        "HYPRCURSOR_SIZE,23"
-        "HYPRCURSOR_THEME,phinger-cursors-light"
-
-        "XCURSOR_THEME,phinger-cursors-light"
-        "XCURSOR_SIZE,23"
-      ];
-
-      animations = {
-        enabled = true;
-        bezier = [ "soft, 0.25, 0.8, 0.3, 1" ];
-        animation = [
-          "global,       1, 8,   soft"
-          "windowsIn,    1, 5,   soft, popin 80%"
-          "windowsOut,   1, 4,   soft, popin 80%"
-          "windowsMove,  1, 3,   linear"
-          "workspaces,   1, 4,   soft, slidefade 12%"
-          "fadeIn,       1, 3,   linear"
-          "fadeOut,      1, 3,   linear"
-        ];
-      };
-
-      decoration = {
-        rounding = 28;
-        shadow = {
-          enabled = true;
-          range = 20;
-          render_power = 4;
-        };
-        blur = {
-          enabled = true;
-          size = 2;
-          passes = 3;
-          new_optimizations = true;
-          ignore_opacity = true;
-          special = true;
-          popups = true;
-        };
-        active_opacity = 1;
-        inactive_opacity = 0.7;
-        fullscreen_opacity = 1;
-        dim_around = 1;
-        dim_inactive = true;
-        dim_special = 0.3;
-        dim_strength = 0.3;
-      };
-
-      workspace = [
-        "name:terminal, id:1, monitor:HDMI-A-1"
-        "name:other, id:4, monitor:HDMI-A-1"
-        "name:other2, id:4, monitor:HDMI-A-1"
-        "name:misc, id:5, monitor:eDP-1"
-        "name:misc2, id:5, monitor:eDP-1"
-
-        "special:browser, id:6, on-created-empty:zen-browser"
-        "special:telegram, id:8, on-created-empty:ayugram-desktop"
-        "special:music, id:10"
-      ];
-
-      windowrulev2 = [
-        "workspace name:misc, class:^(zoom|zoom-us|Zoom Workplace|com.github.wwmm.easyeffects)$"
-        "workspace special:browser, class:^(google-chrome|google-chrome-stable|com.ayugram.desktop|zen)$, opacity 0.9 0.9"
-        "immediate, class:^(mpv)$"
-        "float,title:^(Google Chrome.*|Untitled - Google Chrome)$"
-        "float,title:^(JamesDSP for Linux.*)$"
-        "float,title:^(Untitled - Google Chrome.*)$"
-        "float, class:^(org.telegram.desktop)$"
-        "float, class:^(pulsemixer|nekoray|hiddify|pavucontrol)$"
-        "float, class:^(blueman-manager|nm-applet|nm-connection-editor)$"
-        "float, class:^(org.kde.polkit-kde-authentication-agent-1)$"
-        "float, class:^(bluetooth-manager|iwgtk)$"
-        "float, class:^(1Password)$, size 500 700"
-        "float, class:^(com.github.wwmm.easyeffects)$, size 650 400"
-        "float, class:^(com-artemchep-keyguard-MainKt)$, size 700 700"
-        "float, class:^(xdg-desktop-portal-gtk)$, size 400 400"
-        "opacity 0.8 0.8, class:^(org.freedesktop.impl.portal.desktop.gtk|org.freedesktop.impl.portal.desktop.hyprland)$"
-      ];
-
-      bind = [
-        "SUPER, D, workspace, name:terminal"
-        "SUPER SHIFT, D, movetoworkspacesilent, name:terminal"
-
-        "SUPER, 2, workspace, name:other"
-        "SUPER SHIFT, 2, movetoworkspacesilent, name:other"
-
-        "SUPER, 3, workspace, name:other2"
-        "SUPER SHIFT, 3, movetoworkspacesilent, name:other2"
-
-        "SUPER, 4, workspace, name:misc"
-        "SUPER SHIFT, 4, movetoworkspacesilent, name:misc"
-
-        "SUPER, 5, workspace, name:misc2"
-        "SUPER SHIFT, 5, movetoworkspacesilent, name:misc2"
-
-        "SUPER, E, togglespecialworkspace, telegram"
-
-        "SUPER, V, togglespecialworkspace, music"
-
-        "SUPER, G, togglespecialworkspace, browser"
-        "SUPER SHIFT, G, movetoworkspacesilent, special:browser"
-
-        # window management
-        "SUPER, Q, killactive"
-        "SUPER, F, togglefloating"
-        "SUPER, Space, fullscreen"
-        "SUPER, Period, movewindow, mon:+1"
-        "SUPER, Comma, movewindow, mon:-1"
-
-        "SUPER SHIFT, H, movewindow, l"
-        "SUPER SHIFT, J, movewindow, d"
-        "SUPER SHIFT, K, movewindow, u"
-        "SUPER SHIFT, L, movewindow, r"
-
-        "SUPER, H, movefocus, l"
-        "SUPER, J, movefocus, d"
-        "SUPER, K, movefocus, u"
-        "SUPER, L, movefocus, r"
-
-        # launches
-        "SUPER, Return, exec, ghostty"
-        ''CTRL SHIFT, S, exec, grim -g "$(slurp)" - | wl-copy''
-        "SUPER, A, exec, anyrun"
-      ];
-
-      bindm =
-        [ "SUPER, mouse:272, movewindow" "SUPER, mouse:273, resizewindow" ];
-
-      exec-once = [
-        "kanata"
-        "${../../../../scripts/xdg-portal.sh}"
-        "1password"
-        "hyprpaper"
-        "zen-browser"
-        "easyeffects"
-      ];
-    };
-  };
-}
diff --git a/home-manager/modules/wayland/hyprland/default.nix b/home-manager/modules/wayland/hyprland/default.nix
deleted file mode 100644
index f043049..0000000
--- a/home-manager/modules/wayland/hyprland/default.nix
+++ /dev/null
@@ -1,8 +0,0 @@
-{ config, pkgs, ... }: {
-  imports = [ ./config.nix ./hyprlock.nix ./hypridle.nix ];
-
-  home.packages = with pkgs; [
-    (config.lib.nixGL.wrap hypridle)
-    (config.lib.nixGL.wrap grimblast)
-  ];
-}
diff --git a/home-manager/modules/wayland/hyprland/hypridle.nix b/home-manager/modules/wayland/hyprland/hypridle.nix
deleted file mode 100644
index 969ecbb..0000000
--- a/home-manager/modules/wayland/hyprland/hypridle.nix
+++ /dev/null
@@ -1,42 +0,0 @@
-{ pkgs, ... }:
-
-let
-  lockCmd = "/usr/bin/hyprlock";
-  notifyCmd = "${pkgs.libnotify}/bin/notify-send";
-  hyprctlCmd = "hyprctl";
-  systemctlCmd = "systemctl";
-
-  lockWarning = 30; # seconds
-  lockTimeout = 60 * 5; # 5 minutes
-  suspendTimeout = 60 * 10; # 10 minutes
-
-in {
-  services.hypridle = {
-    enable = false;
-    settings = {
-      general = {
-        lock_cmd = lockCmd;
-        after_sleep_cmd = "${hyprctlCmd} dispatch dpms on";
-      };
-
-      listener = [
-        {
-          timeout = lockTimeout - lockWarning; # 270
-          on-timeout =
-            "${notifyCmd} -t 3000 'Locking' 'Компьютер заблокируется через ${
-              toString lockWarning
-            } секунд'";
-        }
-        {
-          timeout = lockTimeout;
-          on-timeout = lockCmd;
-        }
-        {
-          timeout = suspendTimeout;
-          on-timeout = "${systemctlCmd} suspend";
-        }
-      ];
-    };
-  };
-}
-
diff --git a/home-manager/modules/wayland/hyprland/hyprlock.nix b/home-manager/modules/wayland/hyprland/hyprlock.nix
deleted file mode 100644
index a9971ec..0000000
--- a/home-manager/modules/wayland/hyprland/hyprlock.nix
+++ /dev/null
@@ -1,63 +0,0 @@
-{ config, ... }:
-let color = transparency: "rgba(243, 244, 238, ${transparency})";
-in {
-  programs.hyprlock = {
-    enable = true;
-    settings = {
-      background = [{ path = "${config.stylix.image}"; }];
-      auth = {
-        fingerprint = {
-          enabled = true;
-          ready_message = "(Scan fingerprint to unlock)";
-          present_message = "Scanning fingerprint";
-        };
-      };
-      input-field = [{
-        size = "180, 30";
-        outline_thickness = 2;
-        dots_size = 0.4;
-        dots_spacing = 0.15;
-        dots_center = true;
-        outer_color = color "0.0";
-        inner_color = color "0.1";
-        font_color = color "0.8";
-        fade_on_empty = false;
-        placeholder_text = "Enter Password";
-        hide_input = false;
-        position = "0, 390";
-        halign = "center";
-        valign = "bottom";
-      }];
-      label = [
-        {
-          text = ''cmd[update:1000] echo "<span>$(date '+%A, %d %B')</span>"'';
-          color = color "1";
-          font_size = 16;
-          font_family = "Space Grotesk, Bold";
-          position = "0, -100";
-          halign = "center";
-          valign = "top";
-        }
-        {
-          text = ''cmd[update:1000] echo "<span>$(date '+%H:%M')</span>"'';
-          color = color "1";
-          font_size = 75;
-          font_family = "Space Grotesk, Bold";
-          position = "0, -120";
-          halign = "center";
-          valign = "top";
-        }
-        {
-          text = ''
-            cmd[update:60000] echo "<span>󰁹 $(cat /sys/class/power_supply/BAT0/capacity)%</span>"'';
-          color = color "1";
-          font_size = 11;
-          font_family = "Space Grotesk, Bold";
-          position = "-10, 10";
-          halign = "right";
-          valign = "bottom";
-        }
-      ];
-    };
-  };
-}
diff --git a/home-manager/modules/wayland/niri.nix b/home-manager/modules/wayland/niri.nix
deleted file mode 100644
index a550573..0000000
--- a/home-manager/modules/wayland/niri.nix
+++ /dev/null
@@ -1,360 +0,0 @@
-{ pkgs, inputs, config, ... }: {
-
-  imports = [ inputs.niri.homeModules.niri ];
-
-  programs.niri = {
-    enable = true;
-    package = config.lib.nixGL.wrap pkgs.niri-unstable;
-
-    settings = let
-      mod = "Super";
-      shift = "Shift";
-      ctrl = "Control";
-      alt = "Alt";
-
-      term = "ghostty";
-      launcher = "anyrun";
-
-      inactiveBorderColor = "rgb(80 80 80)";
-      focusRingColor = "rgb(66 153 225)";
-
-      inactiveOpacity = 0.7;
-
-      monitorInternal = "eDP-1";
-      monitorExternal = "HDMI-A-1";
-      makeCommand = command: { command = [ command ]; };
-
-    in {
-      outputs = {
-        "${monitorInternal}" = {
-          enable = true;
-          mode = {
-            width = 2560;
-            height = 1600;
-            refresh = null;
-          };
-          position = {
-            x = -2560;
-            y = 0;
-          };
-          scale = 1.25;
-        };
-        "${monitorExternal}" = {
-          enable = true;
-          mode = {
-            width = 2560;
-            height = 1440;
-            refresh = null;
-          };
-          position = {
-            x = 0;
-            y = 0;
-          };
-          scale = 1.0;
-        };
-      };
-
-      animations = {
-        enable = true;
-
-        shaders.window-resize = ''
-          vec4 resize_color(vec3 coords_curr_geo, vec3 size_curr_geo) {
-            vec3 coords_next_geo = niri_curr_geo_to_next_geo * coords_curr_geo;
-
-            vec3 coords_stretch = niri_geo_to_tex_next * coords_curr_geo;
-            vec3 coords_crop = niri_geo_to_tex_next * coords_next_geo;
-
-            // We can crop if the current window size is smaller than the next window
-            // size. One way to tell is by comparing to 1.0 the X and Y scaling
-            // coefficients in the current-to-next transformation matrix.
-            bool can_crop_by_x = niri_curr_geo_to_next_geo[0][0] <= 1.0;
-            bool can_crop_by_y = niri_curr_geo_to_next_geo[1][1] <= 1.0;
-
-            vec3 coords = coords_stretch;
-            if (can_crop_by_x)
-                coords.x = coords_crop.x;
-            if (can_crop_by_y)
-                coords.y = coords_crop.y;
-
-            vec4 color = texture2D(niri_tex_next, coords.st);
-
-            // However, when we crop, we also want to crop out anything outside the
-            // current geometry. This is because the area of the shader is unspecified
-            // and usually bigger than the current geometry, so if we don't fill pixels
-            // outside with transparency, the texture will leak out.
-            //
-            // When stretching, this is not an issue because the area outside will
-            // correspond to client-side decoration shadows, which are already supposed
-            // to be outside.
-            if (can_crop_by_x && (coords_curr_geo.x < 0.0 || 1.0 < coords_curr_geo.x))
-                color = vec4(0.0);
-            if (can_crop_by_y && (coords_curr_geo.y < 0.0 || 1.0 < coords_curr_geo.y))
-                color = vec4(0.0);
-
-            return color;
-          }
-        '';
-      };
-
-      prefer-no-csd = true;
-      hotkey-overlay.skip-at-startup = true;
-
-      layout = {
-        focus-ring.enable = false;
-        border = {
-          enable = false;
-          width = 1;
-          active.color = focusRingColor;
-          inactive.color = inactiveBorderColor;
-        };
-        shadow = { enable = true; };
-        preset-column-widths = [
-          { proportion = 0.25; }
-          { proportion = 0.5; }
-          { proportion = 0.75; }
-          { proportion = 1.0; }
-        ];
-        default-column-width = { proportion = 0.5; };
-        gaps = 6;
-        struts = {
-          left = 0;
-          right = 0;
-          top = 0;
-          bottom = 0;
-        };
-        tab-indicator = {
-          hide-when-single-tab = true;
-          place-within-column = true;
-          position = "left";
-          corner-radius = 20.0;
-          gap = -12.0;
-          gaps-between-tabs = 10.0;
-          width = 4.0;
-          length.total-proportion = 0.1;
-        };
-      };
-
-      input = {
-        focus-follows-mouse.enable = true;
-        warp-mouse-to-focus = true;
-        workspace-auto-back-and-forth = true;
-        keyboard = {
-          repeat-delay = 260;
-          repeat-rate = 60;
-          xkb = {
-            layout = "us,ru";
-            options = "grp:caps_toggle";
-          };
-        };
-        mouse = { natural-scroll = false; };
-        touchpad = {
-          click-method = "button-areas";
-          dwt = true;
-          dwtp = true;
-          natural-scroll = true;
-          scroll-method = "two-finger";
-          tap = true;
-          tap-button-map = "left-right-middle";
-          middle-emulation = true;
-          accel-profile = "adaptive";
-        };
-      };
-
-      cursor = {
-        hide-when-typing = false;
-        size = config.stylix.cursor.size;
-        theme = config.stylix.cursor.name;
-      };
-
-      gestures = {
-        dnd-edge-view-scroll = {
-          delay-ms = 100;
-          max-speed = 1500.0;
-          trigger-width = 30.0;
-        };
-      };
-
-      workspaces = {
-        "1" = { open-on-output = "HDMI-A-1"; };
-        "2" = { open-on-output = "eDP-1"; };
-        "other" = { open-on-output = "HDMI-A-1"; };
-      };
-      environment = {
-        QT_AUTO_SCREEN_SCALE_FACTOR = "1";
-        QT_QPA_PLATFORMTHEME = "qt5ct";
-        QT_SCALE_FACTOR_ROUNDING_POLICY = "RoundPreferFloor";
-        QT_WAYLAND_DISABLED_INTERFACES = "wp_fractional_scale_manager_v1";
-        CLUTTER_BACKEND = "wayland";
-        DISPLAY = null;
-        GDK_BACKEND = "wayland,x11";
-        MOZ_ENABLE_WAYLAND = "1";
-        NIXOS_OZONE_WL = "1";
-        QT_QPA_PLATFORM = "wayland;xcb";
-        QT_WAYLAND_DISABLE_WINDOWDECORATION = "1";
-        SDL_VIDEODRIVER = "wayland";
-      };
-
-      spawn-at-startup = [
-        (makeCommand "kanata")
-        (makeCommand "better-control")
-        (makeCommand "slack")
-        (makeCommand "1password")
-        (makeCommand "${pkgs.hyprpaper}/bin/hyprpaper")
-        (makeCommand "waybar")
-        (makeCommand "easyeffects")
-        (makeCommand "zen-browser")
-        (makeCommand "ayugram-desktop")
-        (makeCommand "spotify")
-        (makeCommand "wl-paste --type image --watch cliphist store")
-        (makeCommand "wl-paste --type text --watch cliphist store")
-        {
-          command = [
-            "${pkgs.dbus}/bin/dbus-update-activation-environment"
-            "--systemd"
-            "DISPLAY"
-            "WAYLAND_DISPLAY"
-            "SWAYSOCK"
-            "XDG_CURRENT_DESKTOP"
-            "XDG_SESSION_TYPE"
-            "NIXOS_OZONE_WL"
-            "XCURSOR_THEME"
-            "XCURSOR_SIZE"
-            "XDG_DATA_DIRS"
-          ];
-        }
-      ];
-
-      window-rules = [
-        {
-          matches = [ ];
-          geometry-corner-radius = {
-            top-left = 28.0;
-            top-right = 28.0;
-            bottom-left = 28.0;
-            bottom-right = 28.0;
-          };
-          clip-to-geometry = true;
-        }
-        {
-          matches = [{ is-focused = false; }];
-          opacity = inactiveOpacity;
-        }
-        {
-          matches = [{ app-id = "^(com.mitchellh.ghostty|Slack)$"; }];
-          open-on-workspace = "1";
-        }
-        {
-          matches = [{
-            app-id =
-              "^(zoom|zoom-us|Zoom Workplace|com.github.wwmm.easyeffects|spotify|better_control.py)$";
-          }];
-          open-on-workspace = "2";
-        }
-        {
-          matches = [{
-            app-id =
-              "^(google-chrome|google-chrome-stable|com.ayugram.desktop|zen)$";
-          }];
-          open-on-workspace = "other";
-          opacity = 0.9;
-        }
-        { matches = [{ app-id = "^(neovide)$"; }]; }
-        { matches = [{ app-id = "^(DBeaver)$"; }]; }
-        {
-          matches =
-            [{ title = "^(Google Chrome.*|Untitled - Google Chrome)$"; }];
-          open-floating = true;
-        }
-        {
-          matches = [{ title = "^JamesDSP for Linux.*$"; }];
-          open-floating = true;
-          default-window-height = { fixed = 400; };
-        }
-        {
-          matches =
-            [{ app-id = "^(pulsemixer|nekoray|hiddify|pavucontrol)$"; }];
-          open-floating = true;
-        }
-        {
-          matches = [{
-            app-id = "^(blueman-manager|nm-applet|nm-connection-editor)$";
-          }];
-          open-floating = true;
-        }
-        {
-          matches = [{ app-id = "org.kde.polkit-kde-authentication-agent-1"; }];
-          open-floating = true;
-        }
-        {
-          matches = [{ app-id = "^(bluetooth-manager|iwgtk)$"; }];
-          open-floating = true;
-        }
-        {
-          matches = [{ app-id = "1Password"; }];
-          open-floating = true;
-          default-window-height = { fixed = 700; };
-        }
-        { matches = [{ app-id = ""; }]; }
-        {
-          matches = [{ app-id = "xdg-desktop-portal-gtk"; }];
-          open-floating = true;
-          default-window-height = { fixed = 400; };
-        }
-        {
-          matches = [{
-            app-id =
-              "^(org.freedesktop.impl.portal.desktop.gtk|org.freedesktop.impl.portal.desktop.hyprland)$";
-          }];
-          opacity = 0.8;
-        }
-      ];
-
-      binds = {
-        "${mod}+Return" = { action = { spawn = [ term ]; }; };
-        "${mod}+A" = { action = { spawn = [ launcher ]; }; };
-
-        "${mod}+Q" = { action = { close-window = [ ]; }; };
-        "${mod}+${shift}+F" = { action = { toggle-window-floating = [ ]; }; };
-        "${mod}+${shift}+Space" = { action = { fullscreen-window = [ ]; }; };
-
-        "${mod}+H" = { action = { focus-column-or-monitor-left = [ ]; }; };
-        "${mod}+L" = { action = { focus-column-or-monitor-right = [ ]; }; };
-
-        "${mod}+${shift}+J" = {
-          action = { move-window-to-workspace-down = [ ]; };
-        };
-        "${mod}+${shift}+K" = {
-          action = { move-window-to-workspace-up = [ ]; };
-        };
-        "${mod}+${shift}+H" = {
-          action = { consume-or-expel-window-left = [ ]; };
-        };
-        "${mod}+${shift}+L" = {
-          action = { consume-or-expel-window-right = [ ]; };
-        };
-
-        "${mod}+${alt}+H" = { action = { set-column-width = "-20"; }; };
-        "${mod}+${alt}+L" = { action = { set-column-width = "+20"; }; };
-
-        "${mod}+K" = { action = { focus-workspace = [ "1" ]; }; };
-        "${mod}+G" = { action = { focus-workspace = [ "2" ]; }; };
-        "${mod}+J" = { action = { focus-workspace = [ "other" ]; }; };
-
-        "${mod}+${shift}+G" = {
-          action = { move-window-to-workspace = [ "2" ]; };
-        };
-
-        "${mod}+Period" = { action = { focus-monitor-next = [ ]; }; };
-        "${mod}+Comma" = { action = { focus-monitor-previous = [ ]; }; };
-        "${mod}+${shift}+Period" = {
-          action = { move-window-to-monitor-next = [ ]; };
-        };
-        "${mod}+${shift}+Comma" = {
-          action = { move-window-to-monitor-previous = [ ]; };
-        };
-
-        "${ctrl}+${shift}+S" = { action = { screenshot = { }; }; };
-      };
-    };
-  };
-}
diff --git a/home-manager/modules/wayland/waybar.nix b/home-manager/modules/wayland/waybar.nix
deleted file mode 100644
index 8d22064..0000000
--- a/home-manager/modules/wayland/waybar.nix
+++ /dev/null
@@ -1,7 +0,0 @@
-{ pkgs, ... }: {
-  home.packages = with pkgs; [ waybar ];
-  home.file.".config/waybar/" = {
-    source = ../../configs/waybar;
-    recursive = true;
-  };
-}
diff --git a/home-manager/modules/xdg-mimes.nix b/home-manager/modules/xdg-mimes.nix
deleted file mode 100644
index 3dc135e..0000000
--- a/home-manager/modules/xdg-mimes.nix
+++ /dev/null
@@ -1,109 +0,0 @@
-{ pkgs, lib, ... }:
-with lib;
-let
-  defaultApps = {
-    # browser = [ "google-chrome.desktop" ];
-    browser = [ "zen.desktop" ];
-    text = [ "code.desktop" ];
-    image = [ "imv-dir.desktop" ];
-    audio = [ "mpv.desktop" ];
-    video = [ "mpv.desktop" ];
-    directory = [ "nemo.desktop" ];
-    office = [ "libreoffice.desktop" ];
-    pdf = [ "org.gnome.Evince.desktop" ];
-    terminal = [ "ghostty.desktop" ];
-    archive = [ "org.gnome.FileRoller.desktop" ];
-  };
-
-  mimeMap = {
-    text = [ "text/plain" ];
-    image = [
-      "image/bmp"
-      "image/gif"
-      "image/jpeg"
-      "image/jpg"
-      "image/png"
-      "image/svg+xml"
-      "image/tiff"
-      "image/vnd.microsoft.icon"
-      "image/webp"
-    ];
-    audio = [
-      "audio/aac"
-      "audio/mpeg"
-      "audio/ogg"
-      "audio/opus"
-      "audio/wav"
-      "audio/webm"
-      "audio/x-matroska"
-    ];
-    video = [
-      "video/mp2t"
-      "video/mp4"
-      "video/mpeg"
-      "video/ogg"
-      "video/webm"
-      "video/x-flv"
-      "video/x-matroska"
-      "video/x-msvideo"
-    ];
-    directory = [ "inode/directory" ];
-    browser = [
-      "text/html"
-      "x-scheme-handler/about"
-      "x-scheme-handler/http"
-      "x-scheme-handler/https"
-      "x-scheme-handler/unknown"
-    ];
-    office = [
-      "application/vnd.oasis.opendocument.text"
-      "application/vnd.oasis.opendocument.spreadsheet"
-      "application/vnd.oasis.opendocument.presentation"
-      "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
-      "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
-      "application/vnd.openxmlformats-officedocument.presentationml.presentation"
-      "application/msword"
-      "application/vnd.ms-excel"
-      "application/vnd.ms-powerpoint"
-      "application/rtf"
-    ];
-    pdf = [ "application/pdf" ];
-    terminal = [ "terminal" ];
-    archive = [
-      "application/zip"
-      "application/rar"
-      "application/7z"
-      "application/*tar"
-    ];
-  };
-
-  associations = with lists;
-    listToAttrs (flatten (mapAttrsToList
-      (key: map (type: attrsets.nameValuePair type defaultApps."${key}"))
-      mimeMap));
-in {
-  xdg.configFile."mimeapps.list".force = true;
-  xdg.mimeApps.enable = true;
-  xdg.mimeApps.associations.added = associations;
-  xdg.mimeApps.defaultApplications = associations;
-  xdg = {
-    enable = true;
-    userDirs = {
-      enable = true;
-      createDirectories = true;
-      desktop = "$HOME";
-      documents = "$HOME/docs";
-      download = "$HOME/Downloads";
-      music = "$HOME/Downloads";
-      pictures = "$HOME/Downloads";
-      publicShare = "$HOME/Downloads";
-      templates = "$HOME/Downloads";
-      videos = "$HOME/Downloads";
-    };
-    systemDirs.data = [ "/usr/share" "/usr/local/share" ];
-  };
-
-  home.packages = with pkgs; [ junction ];
-
-  home.sessionVariables = { WINEDLLOVERRIDES = "winemenubuilder.exe=d"; };
-}
diff --git a/home-manager/modules/yabai.nix b/home-manager/modules/yabai.nix
deleted file mode 100644
index a4c76e1..0000000
--- a/home-manager/modules/yabai.nix
+++ /dev/null
@@ -1,68 +0,0 @@
-{ ... }: {
-  home.file.".yabairc".text = # bash
-    ''
-      yabai -m config layout               bsp
-      yabai -m config auto_balance         on
-      yabai -m config window_gap           8
-      yabai -m config top_padding          20
-      yabai -m config bottom_padding       20
-      yabai -m config left_padding         20
-      yabai -m config right_padding        20
-
-      yabai -m config window_border        off
-
-      # yabai -m rule --add app="^Slack$"          manage=on
-      # yabai -m rule --add app="^Google Chrome$"  manage=on
-
-      borders active_color=0xffcba6f7 \
-              inactive_color=0xff45475a \
-              width=6 style=round &
-    '';
-  home.file.".skhdrc".text = # bash
-    ''
-      spf() { osascript -e "tell application \"System Events\" \
-                to key code $1 using {control down$2}" ; }
-
-      # ---------- Space — прыжок ----------
-      alt - 1 : spf 18        # Desktop 1
-      alt - 2 : spf 19
-      alt - 3 : spf 20
-      alt - 4 : spf 21
-      alt - 5 : spf 23
-      alt - 6 : spf 22
-      alt - 7 : spf 26
-      alt - 8 : spf 28        # Desktop 8
-
-      # ---------- Space — отправить окно и перейти ----------
-      alt + shift - 1 : spf 18 ", shift down"
-      alt + shift - 2 : spf 19 ", shift down"
-      alt + shift - 3 : spf 20 ", shift down"
-      alt + shift - 4 : spf 21 ", shift down"
-      alt + shift - 5 : spf 23 ", shift down"
-      alt + shift - 6 : spf 22 ", shift down"
-      alt + shift - 7 : spf 26 ", shift down"
-      alt + shift - 8 : spf 28 ", shift down"
-
-      # ---------- фокус внутри Space ----------
-      alt - h : yabai -m window --focus west
-      alt - j : yabai -m window --focus south
-      alt - k : yabai -m window --focus north
-      alt - l : yabai -m window --focus east
-
-      # ---------- перестановка плиток ----------
-      alt + shift - h : yabai -m window --swap west
-      alt + shift - j : yabai -m window --swap south
-      alt + shift - k : yabai -m window --swap north
-      alt + shift - l : yabai -m window --swap east
-
-      # ---------- окна / дисплеи ----------
-      alt - f       : yabai -m window --toggle zoom-fullscreen
-      alt - space   : yabai -m window --toggle float
-      cmd - q       : yabai -m window --close
-      alt - period  : yabai -m window --display next
-      alt - comma   : yabai -m window --display prev
-
-      # ---------- запуск Ghostty по хоткею ----------
-      cmd - return  : open -na "ghostty"
-    '';
-}
diff --git a/home-manager/modules/zellij.nix b/home-manager/modules/zellij.nix
deleted file mode 100644
index bfa3c2a..0000000
--- a/home-manager/modules/zellij.nix
+++ /dev/null
@@ -1,178 +0,0 @@
-{ config, pkgs, inputs, ... }: {
-  programs.zellij = { enable = true; };
-
-  xdg.configFile."zellij/config.kdl".text = ''
-        theme "catppuccin"
-        themes {
-          catppuccin {
-            bg "#585b70"
-            fg "#cdd6f4"
-            red "#f38ba8"
-            green "#89b4fa"
-            blue "#89b4fa"
-            yellow "#f9e2af"
-            magenta "#f5c2e7"
-            orange "#fab387"
-            cyan  "#89dceb"
-            black "#181825"
-            white "#cdd6f4"
-          }
-          rose-pine {
-    		bg "#403d52"
-    		fg "#e0def4"
-    		red "#eb6f92"
-    		green "#31748f"
-    		blue "#9ccfd8"
-    		yellow "#f6c177"
-    		magenta "#c4a7e7"
-    		orange "#fe640b"
-    		cyan "#ebbcba"
-    		black "#26233a"
-    		white "#e0def4"
-          }
-        }
-
-        styled_underlines true
-        session_serialization false
-        serialization_interval 1
-
-        env {
-          TERM "xterm-ghostty"
-        }
-
-        pane_frames false
-        ui {
-          pane_frames {
-            rounded_corners true
-          }
-        }
-
-        default_shell "nu"
-
-        keybinds {
-          unbind "Ctrl s"
-          unbind "Ctrl t"
-          tmux {
-            bind "Ctrl a" { Write 1; SwitchToMode "Normal"; }
-            bind "[" { SwitchToMode "Scroll"; }
-            bind "-" { NewPane "Down"; SwitchToMode "Normal"; }
-            bind "|" { NewPane "Right"; SwitchToMode "Normal"; }
-            bind "1" { GoToTab 1; SwitchToMode "Normal"; }
-            bind "2" { GoToTab 2; SwitchToMode "Normal"; }
-            bind "3" { GoToTab 3; SwitchToMode "Normal"; }
-            bind "4" { GoToTab 4; SwitchToMode "Normal"; }
-            bind "5" { GoToTab 5; SwitchToMode "Normal"; }
-            bind "6" { GoToTab 6; SwitchToMode "Normal"; }
-            bind "7" { GoToTab 7; SwitchToMode "Normal"; }
-            bind "8" { GoToTab 8; SwitchToMode "Normal"; }
-            bind "9" { GoToTab 9; SwitchToMode "Normal"; }
-            bind "0" { GoToTab 10; SwitchToMode "Normal"; }
-            bind "s" {
-              LaunchOrFocusPlugin "zj-smart-sessions" {
-                floating true
-                move_to_focused_tab true
-              };
-              SwitchToMode "Normal"
-            }
-            bind "S" {
-              LaunchOrFocusPlugin "zj-smart-sessions" {
-                floating true
-                move_to_focused_tab true
-                find_command "${pkgs.bash}/bin/bash /Users/${config.home.username}/.config/zellij/find_command"
-                base_path "/Users/${config.home.username}/Developer"
-              };
-              SwitchToMode "Normal"
-            }
-          }
-          shared_except "tmux" "locked" {
-            bind "Ctrl a" { SwitchToMode "Tmux"; }
-          }
-          shared_except "locked" {
-            bind "Ctrl q" {
-              LaunchOrFocusPlugin "zj-quit" {
-                floating true
-              }
-            }
-          }
-        }
-
-        plugins {
-          zjstatus location="file:${
-            inputs.zjstatus.packages.${pkgs.system}.default
-          }/bin/zjstatus.wasm" {
-            hide_frame_for_single_pane "false"
-
-            // catppuccin
-            color_bg     "#0e0801"
-            color_fg     "#9399B2"
-            color_fg_dim "#6C7086"
-            color_blue   "#89b4fa"
-            color_orange "#ffc387"
-
-            // gruvbox-dark
-            // color_bg     "#1d2021"
-            // color_fg     "#ebdbb2"
-            // color_fg_dim "#928374"
-            // color_orange "#fe8019"
-
-            // rose-pine
-            // color_bg     "#33362E"
-            // color_fg     "#9ccfd8"
-            // color_fg_dim "#56949f"
-            // color_blue   "#31748f"
-            // color_orange "#f6c177"
-
-            format_left  "#[fg=$fg,bg=$bg,bold] {session}#[bg=$bg] {tabs}"
-            format_right "{notifications}{command_aws}{command_kubectx}{command_kubens}{datetime}"
-            format_space "#[bg=$bg]"
-
-            notification_format_unread           "#[fg=$blue,bg=$bg,blink]  #[fg=$blue,bg=$bg] {message} "
-            notification_format_no_notifications ""
-            notification_show_interval           "10"
-
-            mode_normal          "#[bg=$blue] "
-            mode_tmux            "#[bg=$orange] "
-            mode_default_to_mode "tmux"
-
-            tab_normal               "#[fg=$fg_dim,bg=$bg] {index} {name} {fullscreen_indicator}{sync_indicator}{floating_indicator}"
-            tab_active               "#[fg=$fg,bg=$bg,bold] {index} {name} {fullscreen_indicator}{sync_indicator}{floating_indicator}"
-            tab_sync_indicator       " "
-            tab_fullscreen_indicator "󰊓 "
-            tab_floating_indicator   "󰹙 "
-
-            command_kubectx_command  "${pkgs.kubectx}/bin/kubectx -c"
-            command_kubectx_format   "#[fg=$fg_dim,bg=$bg,italic]{stdout}#[fg=#424554,bg=$bg]::"
-            command_kubectx_interval "2"
-
-            command_kubens_command  "${pkgs.kubectx}/bin/kubens -c"
-            command_kubens_format   "#[fg=$fg_dim,bg=$bg]{stdout} "
-            command_kubens_interval "2"
-
-            datetime          "#[fg=$fg,bg=$bg] {format} "
-            datetime_format   "%A, %d %b %Y %H:%M"
-            datetime_timezone "Europe/Berlin"
-          }
-
-          zj-quit location="file:${
-            inputs.zj-quit.packages.${pkgs.system}.default
-          }/bin/zj-quit.wasm" {
-            confirm_key "y"
-            cancel_key  "n"
-          }
-
-          zj-smart-sessions location="file:${
-            inputs.zj-smart-sessions.packages.${pkgs.system}.default
-          }/bin/zj-smart-sessions.wasm"
-        }
-  '';
-
-  xdg.configFile."zellij/layouts".source = ../configs/zellij/layouts;
-  xdg.configFile."zellij/find_command".text = ''
-    #!/usr/bin/env bash
-    pushd ~/Developer > /dev/null
-    fd -t d -u -I \
-        -E node_modules \
-        -E vendor \
-        --no-ignore-vcs '^.git$' | xargs -I{} echo "{}" | sed -re 's|.git/||g'
-  '';
-}
diff --git a/home-manager/packages.nix b/home-manager/packages.nix
index b66c326..ecafaa5 100644
--- a/home-manager/packages.nix
+++ b/home-manager/packages.nix
@@ -1,68 +1,27 @@
-{ pkgs, inputs, config, ... }:
-let
-  isDarwin = pkgs.stdenv.isDarwin;
-  system = pkgs.system;
-  nixglPkgs = inputs.nixgl.packages.${system};
-  zenBrowserPkgs = inputs."zen-browser".packages.${system};
-in {
+{ pkgs, ... }: {
   nixpkgs.config.allowUnfree = true;
 
-  home.packages = let
-    common = with pkgs; [
-      htop
-      tree
-      less
-      rsync
-      p7zip
-      lrzip
-      unrar
-      unzip
-      gnutar
-      jq
-      fd
-      ripgrep
-      postgresql_16
-      docker
-      luajitPackages.luarocks
-      uv
-      nodejs_22
-      grip-grab
-      rustup
-      typst
-    ];
-    linuxOnly = if !isDarwin then
-      with pkgs; [
-        telegram-desktop
-        (config.lib.nixGL.wrap spotify)
-        sing-geosite
-        ansible
-        bluetuith
-        libnotify
-        acpi
-        ayugram-desktop
-        repomix
-        evince
-        pulsemixer
-        wf-recorder
-        code-cursor
-        qbittorrent
-        duf
-        powertop
-        bluez
-        bluez-tools
-        networkmanager
-        nemo
-        blueman
-        nixglPkgs.nixGLDefault
-        nixglPkgs.nixVulkanIntel
-        google-chrome
-        slack
-        insomnia
-        zenBrowserPkgs.default
-        (config.lib.nixGL.wrap mpv)
-        (config.lib.nixGL.wrap osu-lazer-bin)
-      ]
-    else
-      [ ];
-  in common ++ linuxOnly;
+  home.packages = with pkgs; [
+    htop
+    tree
+    less
+    rsync
+    p7zip
+    lrzip
+    unrar
+    unzip
+    gnutar
+    jq
+    fd
+    ripgrep
+    postgresql_16
+    docker
+    luajitPackages.luarocks
+    uv
+    poetry
+    nodejs_22
+    grip-grab
+    rustup
+    typst
+  ];
 }
diff --git a/home-manager/theme.nix b/home-manager/theme.nix
index 5e63628..8f33bfe 100644
--- a/home-manager/theme.nix
+++ b/home-manager/theme.nix
@@ -1,2 +1,2 @@
-{ pkgs, inputs, lib, ... }: {
+{ pkgs, inputs, ... }: {
   imports = [ inputs.stylix.homeManagerModules.stylix ];
@@ -5,7 +5,4 @@
     noto-fonts-emoji
-    bemoji
     nerd-fonts.jetbrains-mono
-
     base16-schemes
-    catppuccin-gtk
   ];
@@ -19,5 +16,5 @@
     base16Scheme = "${pkgs.base16-schemes}/share/themes/catppuccin-mocha.yaml";
-    image = lib.mkIf (pkgs.stdenv.isDarwin) ../wallpapers/keyboard.png;
+    image = ../wallpapers/keyboard.png;
 
-    fonts = lib.mkIf (!pkgs.stdenv.isDarwin) {
+    fonts = {
       serif = {
@@ -46,8 +43,5 @@
       dunst.enable = false;
-      qt = {
-        enable = if !pkgs.stdenv.isDarwin then true else false;
-        platform = "qtct";
-      };
+      mako.enable = false;
     };
-    cursor = lib.mkIf (pkgs.stdenv.isDarwin) {
+    cursor = {
       size = 23;
diff --git a/scripts/ai_helper b/scripts/ai_helper
index b745637..cb8eca5 100755
--- a/scripts/ai_helper
+++ b/scripts/ai_helper
@@ -1,3 +1,25 @@
 #!/usr/bin/env python3
-# -*- coding: utf-8 -*-
+"""
+ai_helper_ollama.py – универсальный CLI‑помощник, работающий с локальной
+Ollama‑инстанцией (REST API http://localhost:11434). Поддерживает три
+режима:
+
+  • **mr**        – формирование Title/Description для Merge Request по Git‑diff
+  • **commit**    – генерация Conventional Commit‑сообщения на основе staged diff
+  • **refactor**  – исправление (вычитка) текста из буфера обмена
+
+Перед использованием убедитесь, что Ollama запущена (`ollama serve`) и
+загружена нужная модель (`ollama run gemma3:12b`). При необходимости задайте
+переменные окружения:
+
+  • `OLLAMA_MODEL` – название модели (по умолчанию «gemma3:12b»)
+  • `OLLAMA_HOST`  – адрес Ollama (по умолчанию «http://localhost:11434»)
+
+Запуск:
+    python ai_helper_ollama.py --mode mr
+    python ai_helper_ollama.py --mode commit
+    python ai_helper_ollama.py --mode refactor
+"""
+
+from __future__ import annotations
 
@@ -10,99 +32,79 @@ import urllib.error
 import urllib.request
-from typing import Optional, Dict, Any
-
-MR_PROMPT_TEMPLATE = (
-    """
-    # РОЛЬ: Ты опытный AI-ассистент, специализирующийся на анализе кода и подготовке Merge Request (MR). "
-    "Твоя задача – помочь разработчикам быстро понять суть изменений и ускорить процесс ревью.
-"
-    "# ЗАДАЧА: На основе предоставленного diff изменений между ветками Git, создай информативный заголовок (Title) и "
-    "структурированное подробное описание (Description) для Merge Request. Ответ должен быть полностью на русском языке.
-"
-    "# ВХОДНЫЕ ДАННЫЕ (Diff для анализа):
+from typing import Optional
+
+###############################################################################
+# PROMPTS
+###############################################################################
+
+MR_PROMPT_TEMPLATE = r"""
+# РОЛЬ
+Ты опытный AI‑ассистент, специализирующийся на анализе кода и подготовке Merge Request (MR). Твоя задача – помочь разработчикам быстро понять суть изменений и ускорить процесс ревью.
+
+# ЗАДАЧА
+На основе предоставленного diff между ветками Git создай информативный заголовок (Title) и структурированное подробное описание (Description) для Merge Request. Ответ должен быть полностью на русском языке.
+
+# ВХОДНЫЕ ДАННЫЕ
+```diff
 {diff}
-"
-    "# ИНСТРУКЦИИ ПО СОЗДАНИЮ MR:
-"
-    "## 1. Заголовок (Title):
-"
-    "* **Краткость и ясность:** Сформулируй лаконично, не более 72 символов.
-"
-    "* **Информативность:** Четко отрази основное изменение или цель данного MR.
-"
-    "* **Формат (Рекомендованный):** Используй префиксы, указывающие на *основной* тип изменений "
-    "(по аналогии с Conventional Commits):
-"
-    "    * `feat:` для новой функциональности.
-"
-    "    * `fix:` для исправления ошибки.
-"
-    "    * `refactor:` для рефакторинга без изменения поведения.
-"
-    "    * `perf:` для улучшения производительности.
-"
-    "    * `docs:` для изменений только в документации.
-"
-    "    * `test:` для добавления/изменения тестов.
-"
-    "    * `chore:` для рутинных задач (обновление зависимостей, конфигов и т.п.).
-"
-    "  *Пример:* `feat(api): Добавить эндпоинт для получения профиля пользователя`
-"
-    "  *Пример:* `fix: Исправить расчет скидки для оптовых заказов`
-
-"
-    "## 2. Описание (Description):
-"
-    "* **Цель:** Предоставить достаточный контекст, объяснить суть изменений и помочь ревьюерам эффективно проверить код.
-"
-    "* **Структура:** Используй Markdown и четкие разделы:
-"
-    "  **Что сделано:**
-"
-    "    * Краткое резюме внесенных изменений.
-"
-    "    * Выдели *все* основные типы изменений, обнаруженные в diff: `feat`, `fix`, `refactor`, `perf`, `docs`, `test`, `chore`, `style`.
-"
-    "  **Зачем это сделано:**
-"
-    "    * Объясни мотивацию или бизнес-требование.
-"
-    "  **Как проверить (опционально):**
-"
-    "    * Шаги для тестирования или проверки.
-"
-    "  **Дополнительные замечания (опционально):**
-"
-    "    * Риски, нерешенные вопросы, моменты для внимания.
-
-"
-    "* **Важно:** Фокусируйся на смысле изменений.
-"
-    "# ФОРМАТ ВЫВОДА (строго соблюдать):
-"
-    "Title: <сгенерированный заголовок>
-"
-    "Description: <сгенерированное описание с использованием Markdown и предложенной структуры>
-"
-    """"
-)
+```
+
+# ИНСТРУКЦИИ ПО СОЗДАНИЮ MR
+## 1. Заголовок (Title)
+* Краткость (≤ 72 символов), ясность, императив.
+* Используй Conventional Commits: feat, fix, refactor, perf, docs, test, chore.
+
+## 2. Описание (Description)
+* **Что сделано** – краткое резюме и все типы изменений из diff.
+* **Зачем это сделано** – мотивация/бизнес‑требование.
+* **Как проверить** – шаги тестирования (опц.).
+* **Доп. замечания** – риски, нерешённые вопросы.
+
+# ФОРМАТ ВЫВОДА
+Title: <заголовок>
+Description: <markdown‑описание>
+"""
+
+COMMIT_MESSAGE_PROMPT = r"""
+Ты – эксперт по Conventional Commits. Сгенерируй сообщение коммита на русском языке, строго следуя правилам.
+
+ВХОДНЫЕ ДАННЫЕ (diff):
+```diff
+{diff}
+```
+
+# ТРЕБОВАНИЯ
+* Сообщение состоит из **заголовка** и **детального описания**, разделённых пустой строкой.
+* Заголовок ≤ 50 символов, начинается с заглавной буквы, без точки в конце, глагол – императив.
+* Используй допустимые типы: feat, fix, docs, style, refactor, perf, test, build, ci, chore.
+
+# ФОРМАТ ОТВЕТА
+<Заголовок>
+
+<Детальное описание (если применимо)>
+"""
 
 REFRACTOR_PROMPT_TEMPLATE = (
-    "Проанализируй этот текст, найди и исправь ошибки. "
-    "В ответ отправь только сам текст, не добавляя комментариев.\n\n"
-    "{text}"
+    'Проанализируй этот текст, найди и исправь ошибки. '
+    'Верни только исправленный текст без комментариев.\n\n{text}'
 )
 
+###############################################################################
+# UTILS
+###############################################################################
+
 
 def notify(title: str, message: str) -> None:
-    """
-    Отправляет системное уведомление на Linux или macOS.
-    """
-    if sys.platform == "darwin":
-        subprocess.run([
-            "osascript", "-e",
-            f'display notification "{message}" with title "{title}"'
-        ])
+    """Показать системное уведомление (Linux или macOS)."""
+    if sys.platform == 'darwin':
+        subprocess.run(
+            [
+                'osascript',
+                '-e',
+                f'display notification "{message}" with title "{title}"',
+            ]
+        )
     else:
-        subprocess.run(["notify-send", title, message])
+        subprocess.run(
+            ['notify-send', '--app-name', 'AI Helper', title, message]
+        )
 
@@ -110,11 +112,7 @@ def notify(title: str, message: str) -> None:
 def get_clipboard_text() -> str:
-    """
-    Возвращает текст из буфера обмена (wl-paste или pbpaste).
-    """
+    cmd = ['pbpaste'] if sys.platform == 'darwin' else ['wl-paste']
     try:
-        if sys.platform == "darwin":
-            return subprocess.check_output(["pbpaste"], encoding="utf-8")
-        return subprocess.check_output(["wl-paste"], encoding="utf-8")
+        return subprocess.check_output(cmd, encoding='utf-8')
     except subprocess.CalledProcessError:
-        return ""
+        return ''
 
@@ -122,48 +120,40 @@ def get_clipboard_text() -> str:
 def set_clipboard_text(text: str) -> None:
-    """
-    Копирует текст в буфер обмена (wl-copy или pbcopy).
-    """
-    if sys.platform == "darwin":
-        proc = subprocess.Popen(["pbcopy"], stdin=subprocess.PIPE)
-    else:
-        proc = subprocess.Popen(["wl-copy"], stdin=subprocess.PIPE)
-    proc.communicate(input=text.encode("utf-8"))
+    cmd = ['pbcopy'] if sys.platform == 'darwin' else ['wl-copy']
+    proc = subprocess.Popen(cmd, stdin=subprocess.PIPE)
+    proc.communicate(input=text.encode('utf-8'))
 
 
-def send_request(
-    api_key: str,
-    prompt: str,
-    api: str,
-    model: Optional[str] = None
-) -> Optional[Dict[str, Any]]:
-    """
-    Отправляет запрос к выбранному API (openrouter или gemini).
-    """
-    if api == "openrouter":
-        url = "https://openrouter.ai/api/v1/chat/completions"
-        payload = {
-            "model": model or os.getenv("OPENROUTER_MODEL", "google/gemini-2.0-flash-001"),
-            "messages": [{"role": "user", "content": prompt}]
-        }
-        headers = {
-            "Content-Type": "application/json",
-            "Authorization": f"Bearer {api_key}"
-        }
-    else:
-        url = (
-            f"https://generativelanguage.googleapis.com/v1beta/models/"
-            f"gemini-2.5-flash-preview-04-17:generateContent?key={api_key}"
-        )
-        payload = {"contents": [{"parts": [{"text": prompt}]}]}
-        headers = {"Content-Type": "application/json; charset=utf-8"}
+###############################################################################
+# OLLAMA COMMUNICATION
+###############################################################################
 
-    data = json.dumps(payload).encode("utf-8")
-    req = urllib.request.Request(url, data=data, headers=headers, method="POST")
+
+def send_request(
+    prompt: str, model: Optional[str] = None, host: Optional[str] = None
+) -> Optional[str]:
+    model = model or os.getenv('OLLAMA_MODEL', 'gemma3:12b')
+    host = host or os.getenv('OLLAMA_HOST', 'http://localhost:11434')
+    url = f'{host.rstrip("/")}/api/chat'
+
+    payload = {
+        'model': model,
+        'messages': [{'role': 'user', 'content': prompt}],
+        'stream': False,
+    }
+
+    data = json.dumps(payload).encode('utf-8')
+    headers = {'Content-Type': 'application/json'}
+
+    req = urllib.request.Request(url, data=data, headers=headers, method='POST')
     try:
         with urllib.request.urlopen(req) as resp:
-            return json.loads(resp.read().decode("utf-8"))
+            response = json.loads(resp.read().decode('utf-8'))
+            return response.get('message', {}).get('content', '').strip()
     except urllib.error.HTTPError as err:
-        notify(f"AI Helper ({api.title()})", f"HTTP Error: {err.code} {err.reason}\n{err.read().decode()}")
+        notify(
+            'AI Helper (Ollama)',
+            f'HTTP Error: {err.code} {err.reason}\n{err.read().decode()}',
+        )
     except urllib.error.URLError as err:
-        notify(f"AI Helper ({api.title()})", f"URL Error: {err.reason}")
+        notify('AI Helper (Ollama)', f'URL Error: {err.reason}')
     return None
@@ -171,33 +161,41 @@ def send_request(
 
-def extract_answer(response: Dict[str, Any], api: str) -> str:
-    """
-    Извлекает текстовый ответ из словаря.
-    """
-    if api == "gemini":
-        candidates = response.get("candidates")
-        if candidates:
-            parts = candidates[0].get("content", {}).get("parts", [])
-            return "".join(p.get("text", "") for p in parts).strip()
-    else:
-        choices = response.get("choices")
-        if choices:
-            return choices[0]["message"]["content"].strip()
-    return response.get("output", "") or response.get("content", "") or ""
-
-
-def handle_mr(api: str) -> None:
-    """
-    Генерация MR на основе diff.
-    """
-    api_key = (
-        os.getenv("OPENROUTER_API_KEY") if api == "openrouter"
-        else os.getenv("GEMINI_API_KEY") or os.getenv("GOOGLE_API_KEY")
+###############################################################################
+# GIT HELPERS
+###############################################################################
+
+
+def git_current_branch() -> str:
+    return subprocess.check_output(
+        ['git', 'rev-parse', '--abbrev-ref', 'HEAD'], encoding='utf-8'
+    ).strip()
+
+
+def git_diff(refspec: str) -> str:
+    return subprocess.check_output(['git', 'diff', refspec], encoding='utf-8')
+
+
+def git_diff_cached() -> str:
+    return subprocess.check_output(
+        [
+            'git',
+            '--no-pager',
+            '-c',
+            'delta.enable=false',
+            'diff',
+            '--cached',
+            '--text',
+        ],
+        encoding='utf-8',
     )
-    if not api_key:
-        notify("AI Helper", f"{api.upper()}_API_KEY не установлена.")
-        sys.exit(1)
 
-    target = input("Введите ветку, в которую делается MR: ").strip()
+
+###############################################################################
+# MODE HANDLERS
+###############################################################################
+
+
+def handle_mr() -> None:
+    target = input('Введите ветку, в которую делается MR: ').strip()
     if not target:
-        print("Целевая ветка не указана. Выход.")
+        print('Целевая ветка не указана. Выход.')
         sys.exit(1)
@@ -205,6 +203,5 @@ def handle_mr(api: str) -> None:
     try:
-        current = subprocess.check_output(["git", "rev-parse", "--abbrev-ref", "HEAD"], encoding="utf-8").strip()
-        diff = subprocess.check_output(["git", "diff", f"{target}..{current}"], encoding="utf-8")
+        diff = git_diff(f'{target}..{git_current_branch()}')
     except subprocess.CalledProcessError as err:
-        notify("AI Helper", f"Ошибка Git: {err}")
+        notify('AI Helper', f'Ошибка Git: {err}')
         sys.exit(1)
@@ -212,3 +209,3 @@ def handle_mr(api: str) -> None:
     if not diff.strip():
-        notify("AI Helper", "Нет изменений между ветками.")
+        notify('AI Helper', 'Нет изменений между ветками.')
         sys.exit(0)
@@ -216,33 +213,39 @@ def handle_mr(api: str) -> None:
     prompt = MR_PROMPT_TEMPLATE.format(diff=diff)
-    print("Отправка запроса к AI...")
-    resp = send_request(api_key, prompt, api)
-    if not resp:
-        print("Ошибка получения ответа от AI.")
-        sys.exit(1)
-
-    answer = extract_answer(resp, api)
+    answer = send_request(prompt)
     if not answer:
-        print("Не удалось извлечь ответ.")
+        print('Не удалось получить ответ.')
         sys.exit(1)
 
-    print(answer)
+    print('\n' + answer + '\n')
     set_clipboard_text(answer)
-    notify("AI Helper", "Ответ скопирован в буфер обмена.")
+    notify('AI Helper', 'MR‑описание скопировано в буфер обмена.')
 
 
-def handle_refactor(api: str) -> None:
-    """
-    Рефакторинг текста из буфера обмена.
-    """
-    api_key = (
-        os.getenv("OPENROUTER_API_KEY") if api == "openrouter"
-        else os.getenv("GEMINI_API_KEY") or os.getenv("GOOGLE_API_KEY")
-    )
-    if not api_key:
-        notify("AI Helper", f"{api.upper()}_API_KEY не установлена.")
+def handle_commit() -> None:
+    diff = git_diff_cached()
+    if not diff.strip():
+        print('Нет индексированных изменений для коммита.')
+        sys.exit(0)
+
+    prompt = COMMIT_MESSAGE_PROMPT.format(diff=diff)
+    print('Отправка запроса к Ollama…')
+    answer = send_request(prompt)
+    if not answer:
+        print('Не удалось получить ответ.')
         sys.exit(1)
 
+    lines = answer.strip().split('\n')
+    title = lines[0]
+    body = '\n'.join(lines[1:]).strip()
+    commit_msg = f'{title}\n\n{body}' if body else title
+
+    print('\n' + commit_msg + '\n')
+    set_clipboard_text(commit_msg)
+    notify('AI Helper', 'Сообщение коммита скопировано в буфер обмена.')
+
+
+def handle_refactor() -> None:
     text = get_clipboard_text()
     if not text:
-        notify("AI Helper", "Буфер обмена пуст.")
+        notify('AI Helper', 'Буфер обмена пуст.')
         sys.exit(1)
@@ -250,11 +253,6 @@ def handle_refactor(api: str) -> None:
     prompt = REFRACTOR_PROMPT_TEMPLATE.format(text=text)
-    notify("AI Helper", "Отправка текста на рефакторинг...")
-    resp = send_request(api_key, prompt, api)
-    if not resp:
-        print("Ошибка получения ответа от AI.")
-        sys.exit(1)
-
-    answer = extract_answer(resp, api)
+    print('Отправка текста на рефакторинг…')
+    answer = send_request(prompt)
     if not answer:
-        print("Не удалось извлечь ответ.")
+        print('Не удалось получить ответ.')
         sys.exit(1)
@@ -262,24 +260,17 @@ def handle_refactor(api: str) -> None:
     set_clipboard_text(answer)
-    notify("AI Helper", "Ответ скопирован в буфер обмена.")
+    notify('AI Helper', 'Исправленный текст скопирован в буфер обмена.')
 
 
-def parse_args() -> argparse.Namespace:
-    """
-    Парсит аргументы командной строки.
+###############################################################################
+# CLI
+###############################################################################
+
 
-    --mode: 'mr' для Merge Request или 'refactor' для рефакторинга.
-    --api: 'openrouter' или 'gemini'.
-    """
-    parser = argparse.ArgumentParser(description="AI Helper")
+def parse_args() -> argparse.Namespace:
+    parser = argparse.ArgumentParser(description='AI Helper (Ollama edition)')
     parser.add_argument(
-        "--mode",
-        choices=["mr", "refactor"],
+        '--mode',
+        choices=['mr', 'commit', 'refactor'],
         required=True,
-        help="Режим работы: mr или refactor"
-    )
-    parser.add_argument(
-        "--api",
-        choices=["openrouter", "gemini"],
-        default="openrouter",
-        help="API для использования: openrouter или gemini"
+        help='Режим: mr | commit | refactor',
     )
@@ -290,9 +281,11 @@ def main() -> None:
     args = parse_args()
-    if args.mode == "mr":
-        handle_mr(args.api)
+    if args.mode == 'mr':
+        handle_mr()
+    elif args.mode == 'commit':
+        handle_commit()
     else:
-        handle_refactor(args.api)
+        handle_refactor()
 
 
-if __name__ == "__main__":
+if __name__ == '__main__':
     main()
```

# ОБЩИЕ ТРЕБОВАНИЯ:
*   Сообщение коммита должно быть полностью на русском языке.
*   Сообщение состоит из двух обязательных частей: заголовок и детальное описание, разделенных пустой строкой.
*   Строго придерживайся типов коммитов Conventional Commits.

# 1. ЗАГОЛОВОК (Title):
*   **Содержание:** краткое, высокоуровневое описание сути изменений.
*   **Формат:** `<описание>` (область опциональна).
*   **Глагол:** формулировка в повелительном наклонении (императив).
*   **Длина:** не более 50 символов.
*   **Регистр:** начинается с заглавной буквы.
*   **Точка в конце:** не ставится.

# 2. ДЕТАЛЬНОЕ ОПИСАНИЕ (Body):
*   **Назначение:** объясняет «что» и «почему», а не «как».
*   Следует после заголовка через одну пустую строку.
*   Может содержать несколько параграфов или маркеры `<тип>(<область>): <описание>` в прошедшем времени.

# ТИПЫ КОММИТОВ:
*   `feat`, `fix`, `docs`, `style`, `refactor`, `perf`, `test`, `build`, `ci`, `chore`.

# OUTPUT FORMAT:
<Заголовок>

<Детальное описание (если применимо)>
